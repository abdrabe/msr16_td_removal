commit f3b41aeea35debfa748f014792f0d04267cb291f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Aug 25 22:31:11 2015 -0500

    Improve refinements implementation and enable MRI test.

commit a14c8b80bb2541df5d3a1de7d24cf0bb8021e207
Merge: 488cf2e a35930a
Author: kares <self@kares.org>
Date:   Wed Aug 12 08:18:40 2015 +0200

    Merge branch 'jruby-1_7'
    
    * jruby-1_7:
      more specs - as package_name actually works as is with Java proxy modules
      JavaPackageModuleTemplate should handle respond_to? :name as well
      allow object_id to work correctly for Java package modules
      facelift some JI specs a bit
      make sure package modules (at leat) respond_to? :name
      missing hashCode to go along equals in RespondToMissingMethod
      [build] no more torquebox repo
      add missing file
    
    Conflicts:
    	core/src/main/java/org/jruby/RubyModule.java
    	core/src/main/java/org/jruby/java/util/BlankSlateWrapper.java
    	lib/pom.rb
    	lib/pom.xml
    	maven/jruby-complete/pom.rb
    	maven/jruby-complete/pom.xml
    	maven/jruby-complete/src/templates/osgi_many_bundles_with_embedded_gems/gems-bundle/pom.xml
    	maven/jruby-dist/pom.xml
    	maven/jruby-jars/pom.xml
    	maven/jruby/src/it/j2ee_jetty/pom.xml
    	maven/jruby/src/it/j2ee_jetty_rack/pom.xml
    	maven/jruby/src/it/j2ee_tomcat/pom.xml
    	maven/jruby/src/it/j2ee_tomcat_rack/pom.xml
    	maven/jruby/src/it/j2ee_wildfly/pom.xml
    	maven/jruby/src/it/jetty/pom.xml
    	maven/jruby/src/it/many_jars_with_embedded_gems/zip_gem/pom.xml
    	maven/jruby/src/it/many_jars_with_embedded_gems_ng/gem1/pom.xml
    	maven/jruby/src/it/many_jars_with_embedded_gems_ng/gem2/pom.xml
    	maven/jruby/src/it/runnable/pom.xml
    	maven/jruby/src/it/tomcat/pom.xml
    	maven/jruby/src/templates/j2ee_wlp/pom.xml
    	maven/jruby/src/templates/osgi_all_inclusive/pom.xml
    	spec/java_integration/packages/access_spec.rb
    	test/pom.rb
    	test/pom.xml

commit 9927bde57ba816b0286e04dc55041a03cbba6451
Author: kares <self@kares.org>
Date:   Tue Aug 11 10:12:03 2015 +0200

    missing hashCode to go along equals in RespondToMissingMethod

commit 838c8d7a991d1914357ce47db62f594aca27bc78
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 24 22:32:10 2015 -0500

    CallConfiguration is not used by any DynamicMethods anymore.
    
    CallConfiguration used to be needed to determine how to frame and
    scope all methods in the system. However, in JRuby 9k it is no
    longer needed.
    
    * Core methods that need frame/scope have the pre/post logic
      generated in bytecode (for generated invokers) or in handles
      (for MethodHandle-based invokers).
    * Interpreted IR methods have their own flags for frame/scope, or
      have instructions that perform the pre/post logic.
    * Jitted IR methods always have emit bytecode to do the pre/post
      logic.
    
    After a quick inspection I found that there's no other uses of
    the callConfig field in DynamicMethod, so this commit removes it
    and deprecates the constructors and accessors. This should shrink
    all DynamicMethod subclasses by at least 4 bytes and perhaps 8. It
    also reduces the size and overhead of our generated populators,
    which might have a slight effect on startup.

commit 6d02ba7961b7684b8a63555237d0fb98b3fbdc6e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 6 11:59:24 2015 -0500

    Restore generated invokers for now.

commit 7b2bf653fb4fdea139b5026531cc8c9deba3cdb6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jul 4 10:53:14 2015 -0500

    Remove generated invokers and get handle-based invokers passing.

commit 7df3e56395cf4dbd1d22089726680bb890adfcd9
Merge: e810614 967ca40
Author: kares <self@kares.org>
Date:   Fri Jun 5 14:20:44 2015 +0200

    Merge branch 'jruby-1_7'
    
    * jruby-1_7: (38 commits)
      basic BigDecimal sub-class test ... all working the same as MRI 1.8/1.9
      avoid deprecated newInstance + one less pattern to match on BigDecimal.new
      [bigdecimal] keep the simplified newInstance backport 1.8 compatible
      [bigdecimal] backport simplified newInstance impl from master
      minor BigDecimal code cleanup
      handle big decimal ** float value calculation (with Java double math) ... since we're now not raising users should get ~ the value they expect (closing #1967)
      static-ize and simplify private helpers
      BigDecimal should not raise error on pow/** with float arg (under 1.9 #1967)
      some more (internal) RubyBigDecimal dry-ing / tidy-ing
      do coercion on * and / (same as MRI has been doing since 1.8) ... fixes #2538
      handle BigDecimal cmp failure compatibly with MRI (fixes #2539)
      pass around context in BigDecimal impl + simplify cmp method's code
      move JI java.mat.BigDecimal test out of Ruby's BigDecimal tests
      [travis-ci] test-extended on jdk8
      if current directory is inside the classloader a spawn jruby process should do the same
      use the new bin stubs from new rubygems
      set ENV['RUBY'] when jruby.home is not regular directory
      Add support for http.nonProxyHosts and rework ENV_JAVA support.
      pik the right class in URLResourceTest
      use new JRuby.create to load script from command line script source
      ...
    
    Conflicts:
    	.travis.yml
    	core/src/main/java/org/jruby/RubyDir.java
    	core/src/main/java/org/jruby/RubyEnumerable.java
    	core/src/main/java/org/jruby/RubyEnumerator.java
    	core/src/main/java/org/jruby/RubyHash.java
    	core/src/main/java/org/jruby/RubyInstanceConfig.java
    	core/src/main/java/org/jruby/RubyModule.java
    	core/src/main/java/org/jruby/ext/bigdecimal/RubyBigDecimal.java
    	core/src/main/java/org/jruby/util/ClasspathResource.java
    	core/src/main/java/org/jruby/util/URLResource.java
    	core/src/test/java/org/jruby/util/URLResourceTest.java
    	lib/ruby/2.0/net/http.rb
    	lib/ruby/2.0/uri/generic.rb
    	maven/jruby/src/it/runnable/spec/one_spec.rb
    	test/test_backquote.rb
    	test/test_big_decimal.rb
    	test/test_dir.rb
    	test/test_file.rb
    	test/test_higher_javasupport.rb
    	test/test_load.rb

commit c30264c6dfdd1046e44b1e6e0f0b0b1b392e8b0b
Author: Genadi Samokovarov <gsamokovarov@gmail.com>
Date:   Fri May 29 11:41:29 2015 +0300

    Don't warn on private attribute accessors to match CRuby
    
    I'm sorry for the back and forth on this one. I introduced it back in
    jruby/jruby#2637, but CRuby have recently removed the warning in
    https://bugs.ruby-lang.org/issues/10967.

commit 95a9d886b2c29180971194c4f7123a6b6a2f98ec
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Jun 2 09:30:04 2015 -0500

    Module#class_variables should accept an inherit flag.  Tests from MRI assume an order from class_variables (@eregon said he will patch upstream so we don't lose this change on next sync)

commit fa690dc7b97b051065d447b3eb247a0fb1cf12d5
Author: kares <self@kares.org>
Date:   Mon May 25 22:25:31 2015 +0200

    context.nil instead of getRuntime().getNil()

commit 40beb472cb17c6c0cbf46ba199a9461e0e7bd877
Merge: c0c086e e237201
Author: kares <self@kares.org>
Date:   Mon May 25 16:54:09 2015 +0200

    Merge branch 'jruby-1_7'
    
    * jruby-1_7: (54 commits)
      [travis-ci] re-try sudo: false
      dry out the two (Java helper) respond_to_p19 methods
      respondsTo JRuby API under 1.9.3 does not do respond_to_missing? like MRI does
      sleep should convert it's "time interval" argument the same way as MRI
      respond_to_missing? should always get a symbol name passed (fixes #2946)
      add a respond_to_missing unit test (on 1.9)
      introduce and use conversion( just like MRI does) on #timeout's sec argument
      add missing ' ' (space) in exception message ... TypeError from `sleep('invalid')`
      DateTime.iso8601 fails with an error if a second fraction is present
      [build] switch to 1.7.21-SNAPSHOT for test-jruby-jars
      refactor Timeout's scheduled tasks to an inner class (for easier identification)
      further hand drying of the Timeout module impl
      less (int) casting noiz
      add some (internal) generics for an improved readability xp
      inner class' Finalizer fields id and finalized can be final
      generix-ize the environment field (at least internally) + use a StringBuilder
      unnecessary (int) cast
      missing throw statement in RubyString's concat
      tune timeout to work when scheduling or argument convenrsion throws (see #2940)
      return empty Ruby array for empty dir list
      ...
    
    Conflicts:
    	.gitignore
    	.travis.yml
    	VERSION
    	core/pom.xml
    	core/src/main/java/org/jruby/RubyArray.java
    	core/src/main/java/org/jruby/RubyBasicObject.java
    	core/src/main/java/org/jruby/RubyDir.java
    	core/src/main/java/org/jruby/RubyEnumerable.java
    	core/src/main/java/org/jruby/RubyFile.java
    	core/src/main/java/org/jruby/RubyGlobal.java
    	core/src/main/java/org/jruby/RubyIO.java
    	core/src/main/java/org/jruby/RubyKernel.java
    	core/src/main/java/org/jruby/RubyModule.java
    	core/src/main/java/org/jruby/RubyString.java
    	core/src/main/java/org/jruby/RubyTime.java
    	core/src/main/java/org/jruby/ext/timeout/Timeout.java
    	core/src/main/java/org/jruby/java/proxies/JavaProxy.java
    	core/src/main/java/org/jruby/util/Dir.java
    	core/src/main/java/org/jruby/util/encoding/CharsetTranscoder.java
    	docs/man/pom.xml
    	docs/pom.xml
    	ext/pom.xml
    	ext/readline/pom.xml
    	ext/ripper/pom.xml
    	lib/pom.xml
    	lib/ruby/1.9/date/format.rb
    	lib/ruby/1.9/io/linux_console.rb
    	lib/ruby/shared/gauntlet_rubygems.rb
    	lib/ruby/shared/rubygems.rb
    	lib/ruby/shared/rubygems/available_set.rb
    	lib/ruby/shared/rubygems/basic_specification.rb
    	lib/ruby/shared/rubygems/command.rb
    	lib/ruby/shared/rubygems/command_manager.rb
    	lib/ruby/shared/rubygems/commands/cert_command.rb
    	lib/ruby/shared/rubygems/commands/cleanup_command.rb
    	lib/ruby/shared/rubygems/commands/contents_command.rb
    	lib/ruby/shared/rubygems/commands/dependency_command.rb
    	lib/ruby/shared/rubygems/commands/environment_command.rb
    	lib/ruby/shared/rubygems/commands/generate_index_command.rb
    	lib/ruby/shared/rubygems/commands/help_command.rb
    	lib/ruby/shared/rubygems/commands/install_command.rb
    	lib/ruby/shared/rubygems/commands/list_command.rb
    	lib/ruby/shared/rubygems/commands/mirror_command.rb
    	lib/ruby/shared/rubygems/commands/outdated_command.rb
    	lib/ruby/shared/rubygems/commands/owner_command.rb
    	lib/ruby/shared/rubygems/commands/pristine_command.rb
    	lib/ruby/shared/rubygems/commands/push_command.rb
    	lib/ruby/shared/rubygems/commands/query_command.rb
    	lib/ruby/shared/rubygems/commands/search_command.rb
    	lib/ruby/shared/rubygems/commands/setup_command.rb
    	lib/ruby/shared/rubygems/commands/specification_command.rb
    	lib/ruby/shared/rubygems/commands/uninstall_command.rb
    	lib/ruby/shared/rubygems/commands/unpack_command.rb
    	lib/ruby/shared/rubygems/commands/update_command.rb
    	lib/ruby/shared/rubygems/commands/which_command.rb
    	lib/ruby/shared/rubygems/commands/yank_command.rb
    	lib/ruby/shared/rubygems/compatibility.rb
    	lib/ruby/shared/rubygems/config_file.rb
    	lib/ruby/shared/rubygems/core_ext/kernel_gem.rb
    	lib/ruby/shared/rubygems/core_ext/kernel_require.rb
    	lib/ruby/shared/rubygems/defaults.rb
    	lib/ruby/shared/rubygems/dependency.rb
    	lib/ruby/shared/rubygems/dependency_installer.rb
    	lib/ruby/shared/rubygems/dependency_list.rb
    	lib/ruby/shared/rubygems/deprecate.rb
    	lib/ruby/shared/rubygems/doctor.rb
    	lib/ruby/shared/rubygems/errors.rb
    	lib/ruby/shared/rubygems/exceptions.rb
    	lib/ruby/shared/rubygems/ext.rb
    	lib/ruby/shared/rubygems/ext/builder.rb
    	lib/ruby/shared/rubygems/ext/cmake_builder.rb
    	lib/ruby/shared/rubygems/ext/configure_builder.rb
    	lib/ruby/shared/rubygems/ext/ext_conf_builder.rb
    	lib/ruby/shared/rubygems/ext/rake_builder.rb
    	lib/ruby/shared/rubygems/gemcutter_utilities.rb
    	lib/ruby/shared/rubygems/indexer.rb
    	lib/ruby/shared/rubygems/install_update_options.rb
    	lib/ruby/shared/rubygems/installer.rb
    	lib/ruby/shared/rubygems/installer_test_case.rb
    	lib/ruby/shared/rubygems/local_remote_options.rb
    	lib/ruby/shared/rubygems/name_tuple.rb
    	lib/ruby/shared/rubygems/package.rb
    	lib/ruby/shared/rubygems/package/old.rb
    	lib/ruby/shared/rubygems/package/tar_header.rb
    	lib/ruby/shared/rubygems/package/tar_reader/entry.rb
    	lib/ruby/shared/rubygems/package/tar_writer.rb
    	lib/ruby/shared/rubygems/path_support.rb
    	lib/ruby/shared/rubygems/platform.rb
    	lib/ruby/shared/rubygems/psych_additions.rb
    	lib/ruby/shared/rubygems/rdoc.rb
    	lib/ruby/shared/rubygems/remote_fetcher.rb
    	lib/ruby/shared/rubygems/request.rb
    	lib/ruby/shared/rubygems/request_set.rb
    	lib/ruby/shared/rubygems/request_set/gem_dependency_api.rb
    	lib/ruby/shared/rubygems/requirement.rb
    	lib/ruby/shared/rubygems/resolver/current_set.rb
    	lib/ruby/shared/rubygems/security.rb
    	lib/ruby/shared/rubygems/security/policy.rb
    	lib/ruby/shared/rubygems/security/signer.rb
    	lib/ruby/shared/rubygems/security/trust_dir.rb
    	lib/ruby/shared/rubygems/server.rb
    	lib/ruby/shared/rubygems/source.rb
    	lib/ruby/shared/rubygems/source/installed.rb
    	lib/ruby/shared/rubygems/source/local.rb
    	lib/ruby/shared/rubygems/source/specific_file.rb
    	lib/ruby/shared/rubygems/source_list.rb
    	lib/ruby/shared/rubygems/spec_fetcher.rb
    	lib/ruby/shared/rubygems/specification.rb
    	lib/ruby/shared/rubygems/ssl_certs/AddTrustExternalCARoot.pem
    	lib/ruby/shared/rubygems/stub_specification.rb
    	lib/ruby/shared/rubygems/syck_hack.rb
    	lib/ruby/shared/rubygems/test_case.rb
    	lib/ruby/shared/rubygems/test_utilities.rb
    	lib/ruby/shared/rubygems/text.rb
    	lib/ruby/shared/rubygems/uninstaller.rb
    	lib/ruby/shared/rubygems/uri_formatter.rb
    	lib/ruby/shared/rubygems/user_interaction.rb
    	lib/ruby/shared/rubygems/util/list.rb
    	lib/ruby/shared/rubygems/validator.rb
    	lib/ruby/shared/rubygems/version.rb
    	maven/jruby-complete/pom.xml
    	maven/jruby-dist/pom.xml
    	maven/jruby-jars/pom.xml
    	maven/jruby-noasm/pom.xml
    	maven/jruby-rake-plugin/pom.xml
    	maven/jruby-stdlib/pom.xml
    	maven/jruby/pom.xml
    	maven/pom.xml
    	pom.xml
    	test/pom.xml
    	test/test_dir.rb
    	test/test_kernel.rb
    	test/test_respond_to.rb
    	test/test_timeout.rb

commit e80996f21a40e94e125b0cb12a2e0d7997550b0a
Author: kares <self@kares.org>
Date:   Fri May 15 12:39:32 2015 +0200

    add some (internal) generics for an improved readability xp

commit 49bf2c19db35bf4cc98b13d81ee8d3ebe57ddae5
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed May 13 17:26:10 2015 -0500

    Fix some specs involving {,Unbound}Method identity by not dup'ing (used WrappedMethod)

commit 5305b14e34204046e787f669f1bcd049e6000a80
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 4 11:53:18 2015 -0500

    Bail out of recursively-namespaced modules when calculating name.
    
    Fixes #2314.

commit 5da8955c54272cf98715382cfcb2e62a219936ea
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Apr 30 13:17:10 2015 -0500

    unbeautify our base :: constant errors to match MRI's

commit 33453c2a127eb07818d802e3695e1d7ae1335056
Author: kares <self@kares.org>
Date:   Tue Apr 28 20:15:19 2015 +0200

    RubyModule needs toJava to convert interface proxies to Java classes (fixes #2881)

commit e937702ab809fa460e4a8ce0394cd40a21015a2f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 28 23:02:23 2015 -0500

    Improve NameError names to align with MRI. Fixes #2869.
    
    This is not exactly the same as MRI but it's not too bad for a few
    additional one-off fixes.
    
    There are few (or maybe no) specs in RubySpec and only a handful
    in MRI testing what NameError should be in various cases; TBD.

commit 0b01058f3964dec60a68c08f0c198ea3d7384925
Merge: eab2354 ab3b1d5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 22 02:24:22 2015 -0500

    Merge remote-tracking branch 'origin/jruby-1_7'
    
    Conflicts:
    	core/src/main/java/org/jruby/RubyIO.java
    	core/src/main/java/org/jruby/runtime/ThreadContext.java
    	core/src/main/java/org/jruby/runtime/load/LoadService.java
    	core/src/main/java/org/jruby/util/TypeConverter.java
    	lib/pom.rb

commit bff01ddcef8fc6ca6e0a260a6ff1765635d4379f
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Apr 16 14:02:16 2015 -0500

    1. staticScope.setSignature now only happens when ArgsNode is created and nowhere else (well some dead code which needs to be removed yet).  For AOT, IR persistence still needs to be corrected so that we can popular signature when we reify the StaticScope (to be done in a followup commit).
    2. CompiledIRMethod now implements IRMethodArgs so this fixed all JIT methods arity errors.

commit 512b0a5ab4e129a2e05e6ca83113520252a0048a
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Apr 16 10:49:28 2015 -0500

    StaticScope now has Signature instead of three individual fields.  All other
    changes were made to support this.  We encode/decode scopes with a full
    Signature.  Blocks are all rooted in providing a Signature.  All IR*Method
    will provide a Signature.  Unfortunately, I stopped at IR level for method
    types.  Over time those should get converted.
    
    This corrects all arity issues involving methods and blocks in interp.  JIT
    is still somewhere passing in the wrong values but I will correct that in
    a followup (this is not a regression).
    
    spec:fast:ruby and test:mri both pass so do JIT variants of those tests
    but I strong suspect we are shelling out in some way and running some of
    these tests in interp mode.
    
    On other note of distinction is that for builtin functions we only construct
    a subset of information that Signature wants because Arity is only a subset
    of the info Signature needs.  Since there are no exotic signatures in builtins
    there is a Signature.from(Arity) which will convert to a reasonable analogue
    or throw if it is special in some way.
    
    I tried to leave all deprecated versions of methods and constructors but
    I might have spaced out a few.

commit 1e8c1512e0cb53399ca9cca134871633bcb205a5
Author: kares <self@kares.org>
Date:   Thu Apr 16 08:28:51 2015 +0200

    use indexOf when checking for starting :: + no need to check first indexOf twice

commit b827b4af0a44b2f5f592ed48bc0ba916e6c5afa3
Author: Arlandis Lawrence <arlandislawrence@gmail.com>
Date:   Sat Mar 21 15:28:03 2015 -0500

    RE: #2635 Fix support of const_get with leading colons

commit c384fd0a947f771d56d68e7d6b6eb60486c805ce
Author: kares <self@kares.org>
Date:   Thu Apr 16 09:49:27 2015 +0200

    initial new HashSet instance was never used

commit d9ccc133c7a57d39bdcf8eb695301ee8a91c0cc1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 15 09:03:10 2015 -0500

    Re-refactor fixes for mocha and MRI suite back into place.

commit a9ce5d33940c38e0112f2d41eef2c36cbfaa3d27
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 14 19:51:39 2015 -0500

    Bring introspection methods in line behaviorally with MRI.
    
    This should fix remaining issues running mocha head's tests.

commit 367c2bcd7db1524833484db5af23bac92fa8a531
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Apr 14 16:19:21 2015 -0500

    - DynamicScope+children removed no longer used {get,set}ArgValues methods since they are dead.
    - ArgsNode getRest() replaced by hasRest() or retrieving getRestArgNode directly.
    - Slight rearrangement internally of fields in ArgsNode.
    - Remove accidental println from last commit.

commit 04ffe40bc97d18f192baf894fd1c3381b3d26b05
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Apr 14 13:33:12 2015 -0500

    Fixes #2833. Bad nonlocal return with re-wrapped define_method block

commit 040f140208bbd85712cb5e08f5b3440d37315941
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 8 14:11:29 2015 -0500

    Do not search implementer for refinement modules.

commit 1d0b3c242896fcedde6f82df5dad20c2ceacbc1f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 8 14:11:06 2015 -0500

    Add top-level #using logic.

commit d7e5fd895efeb84450d6e90b184261e007bba1a8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 8 14:10:25 2015 -0500

    Basic refined call site functionality, interp only right now.

commit 766fe374dd792ea721fd5984a48566c50127cf3f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 8 14:08:17 2015 -0500

    Use empty collections to avoid propagating nulls.

commit 487938c6d0ff8d1c482d6d814e6c81761bd12af9
Merge: be01825 aaf1681
Author: kares <self@kares.org>
Date:   Tue Apr 7 16:15:45 2015 +0200

    Merge branch 'jruby-1_7'
    
    * jruby-1_7:
      fix compilation error left-over from 7774be525ac71997cd2ed75ef641c47078a704bc
      some more var-args tests - make sure var-arg (overload) methods are covered
      move ALLOCATOR into a static field
      guess the ivar list size (most objects have only @ variables)
      private can be static
      handle Ruby super -> Java constructor with var-args correctly (fixes cases in #2375)
      mark generated proxy class constructor with @java.lang.SafeVarargs if super is var-args
      time to start sharing the generic (handles var-args) argument toJava conversion
      use (and cache) the more Java [array] version of the API to retrieve proxy constructors
      avoid deprecated JavaMethod.create + make sub-class helpers final
      do the toJava conversion on site instead of constant indirection esp. in loops
    
    Conflicts:
    	core/src/main/java/org/jruby/RubyModule.java
    	core/src/main/java/org/jruby/java/invokers/ConstructorInvoker.java
    	core/src/main/java/org/jruby/java/invokers/InstanceMethodInvoker.java
    	core/src/main/java/org/jruby/java/invokers/SingletonMethodInvoker.java
    	core/src/main/java/org/jruby/java/invokers/StaticMethodInvoker.java
    	test/test_higher_javasupport.rb

commit aaf16814d0aba61f9c6d477a5671532e036660a5
Author: kares <self@kares.org>
Date:   Tue Apr 7 14:48:18 2015 +0200

    fix compilation error left-over from 7774be525ac71997cd2ed75ef641c47078a704bc

commit 777284ba19e167ceba8fefd3ac3acd7389e8bff5
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Mar 9 10:39:33 2015 -0500

    "refine" and "using" implementations (currently unused).

commit a90d9a8b3ccd3c0864aa9b991102de6f903b0867
Merge: addccf2 9dd446f
Author: Thomas E Enebo <tom.enebo@gmail.com>
Date:   Tue Mar 3 09:23:56 2015 -0600

    Merge pull request #2637 from gsamokovarov/private-attrs
    
    Produce a warning on private attribute accessors

commit 2366bd6a49118eb41abb868230613e0d748168cd
Merge: 15ec551 e61b737
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 2 12:28:47 2015 -0600

    Merge remote-tracking branch 'origin/jruby-1_7'
    
    Conflicts:
    	core/src/main/java/org/jruby/RubyProc.java
    	core/src/main/java/org/jruby/javasupport/JavaMethod.java
    	core/src/main/java/org/jruby/javasupport/JavaSupport.java
    
    This commit puts JavaSupport back the way it was, so we can git mv
    instead and get merging across that move.

commit 9dd446f90f6694d81ddfe599884b6bbe41ac2a65
Author: Genadi Samokovarov <gsamokovarov@gmail.com>
Date:   Sun Mar 1 19:27:21 2015 +0200

    Produce a warning on private attribute accessors
    
    People seem to do that a lot after Sandi's book and not many of them
    realize it actually produces a warning in CRuby.
    
    Tried getting TestModule#test_attr out of the CRuby excluded failures,
    because it was the only existing test I saw hinting of the behaviour,
    however it also test that attribute names can't be a invalid
    identifiers, which seems to go fine in JRuby.

commit 317e9ba99fc8482ce9c219cfe83a2ab88dff58e6
Author: kares <self@kares.org>
Date:   Fri Feb 27 10:03:27 2015 +0100

    for easier multi-thread debugging trigger name calculation when proxy class ready

commit b27868aa7137ab68eec2076b3ae9b9e8d42d6129
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Sat Feb 14 09:51:40 2015 -0600

    Some more $! save/restore fixes + add comments for all of them

commit 78e968ef4da7880c2f9f2c31098fc0d7d5eb39db
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Fri Feb 13 23:43:16 2015 -0600

    Save/restore $! properly in the JRuby runtime
    
    * Whenever a RaiseException is caught and handled, the $! should
      be the restored to the previous value of the exception before
      the try-catch was entered.
    
    * This fixes #1601 and #2491 but additional code auditing and
      discussion will be helpful.

commit cec47aa724046c21eabd64a6af55ac1a0a5fb208
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 16 11:31:49 2015 -0600

    Add Module#public_instance_method.

commit 28a3a61c4356cfd225e18cb853d4e084a6d591ce
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 15 13:43:12 2015 -0600

    Always allow module methods to be bound to any object.
    
    See https://bugs.ruby-lang.org/issues/4254.
    
    Fixes #2463. Need to locate or write some tests for this.

commit ccfee85c717a8235d18c63aacfe5f015f4f14261
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 14 16:00:18 2015 -0600

    Revert "const_defined? should not trigger autoload."
    
    This reverts commit 496c638d2419e089e93eec9759d9775de0390901.

commit 496c638d2419e089e93eec9759d9775de0390901
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 14 15:00:12 2015 -0600

    const_defined? should not trigger autoload.

commit 5868779da76dd2a5759fd3eaa1785e00af7a5ef5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 14 13:56:40 2015 -0600

    Fix multiple issues with const access using :: forms.
    
    * Symbols with :: should raise errors.
    * Leading :: starts from Object (fixes #1487).
    * const_defined? supports :: too (fixes #2319).

commit c9d8c77789d6e1e174fbd29c7efd13886b410257
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 6 15:33:31 2015 -0600

    Module#include is now public. Fixes #2408.
    
    See https://github.com/ruby/ruby/commit/26766ee89c31b16be74803c08cb0d2de2d2fc58e

commit 4644d3332a8e805cd5be4dfb9b8183f0ebd1ea0e
Merge: 057cde9 72234f9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 6 12:23:53 2015 -0600

    Merge remote-tracking branch 'origin/jruby-1_7'

commit 72234f9074a1574f7dce41b3003442d976809051
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 6 12:11:06 2015 -0600

    UnboundMethod does NOT extend Method and does NOT define to_proc.
    
    I swear UnboundMethod used to extend Method and remember having
    conversations about it, but back as far as 1.8.7 that is not the
    case. Perhaps Ruby 1.6.
    
    Fixes 2426.

commit b5dbcd2181273e65800d48ec84c230b931a3f0f3
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Dec 15 14:08:00 2014 -0600

    Remove deprecated method

commit e404bcb4ae3a83c2a100fea9e39e21d03f776f85
Author: Chris Heald <cheald@gmail.com>
Date:   Tue Nov 18 15:50:51 2014 -0700

    Fix exponential expansion of work in method lookup

commit f4fe2203f240bf8c296f74c8b5cf3cce63aa6dc0
Author: tduehr <tduehr@gmail.com>
Date:   Thu Nov 13 17:43:18 2014 -0600

    cleanup, pickup, put away
    
    clear out extra code and comments

commit 2078209f9457749568ce38316bd555117b6e0df0
Author: tduehr <tduehr@gmail.com>
Date:   Tue Nov 11 17:51:19 2014 -0600

    isImplementedBy

commit 09495bce9982971c3ab092b4e194f95b984c969a
Author: Chris Heald <cheald@gmail.com>
Date:   Wed Nov 12 03:34:40 2014 -0700

    Implement obsoleted (and tested) attr behavior

commit 33693f9689ba21f983fcf14fb4c1248cd07fe5ae
Author: Chris Heald <cheald@gmail.com>
Date:   Wed Nov 12 02:50:21 2014 -0700

    Fix ruby-bug 8284

commit dad0ca518835438f326ef75a4bda5fd63bbb8746
Author: Chris Heald <cheald@gmail.com>
Date:   Mon Nov 10 17:05:11 2014 -0700

    BasicObject#inspect no longer calls #to_s, per feature 6130.

commit 6cd23e080cc63537b3c56a5a996ac3dc79827349
Author: Chris Heald <cheald@gmail.com>
Date:   Mon Nov 10 01:27:22 2014 -0700

    Don't permit method_missing to be undef'd

commit 146b167c17a472e7e27e2c03410f40a9b0361f52
Author: Chris Heald <cheald@gmail.com>
Date:   Mon Nov 10 01:09:46 2014 -0700

    Add warnings for undefining or removing object_id or __send__

commit 2457421d5f7301c8b007f0e8936f600cd16de0d6
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Nov 10 10:04:53 2014 -0600

    Trivial single line conditional with no {}.  Made into one-liner

commit 6749388ee9d81045cc03a596e7b7e9141b9b9a5a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 7 17:48:05 2014 -0600

    Check attached singleton for frozen and exclude err msg test.

commit 7359d48db833fff45d430ff8ae55e569cdda69e9
Merge: d183f8d b4ff008
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 7 08:48:10 2014 -0600

    Merge branch 'super_method' of github.com:cheald/jruby into cheald-super_method
    
    Conflicts:
    	core/src/main/java/org/jruby/RubyMethod.java

commit b4ff008b3b492113192211e2cd9425df4804d9d7
Author: Chris Heald <cheald@gmail.com>
Date:   Thu Nov 6 16:05:11 2014 -0700

    Add Method#super_method

commit b7910aceef1568da27dffbc829a60e833e5aec78
Author: tduehr <tduehr@gmail.com>
Date:   Mon Oct 27 16:29:20 2014 -0500

    current MRI prepend implementation

commit 3f5d6edef06e3c3693e6edc51e02732d5433d207
Merge: b365fa8 696dedf
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 2 14:55:18 2014 -0600

    Merge pull request #1870 from robin850/singleton-ancestors
    
    Module#ancestors now includes singletons themselves

commit 99da80557c50a17067d2a625ad2779c393e47a28
Author: tduehr <tduehr@gmail.com>
Date:   Thu Sep 25 10:03:09 2014 -0500

    tweak include order

commit ed54aab184bed0dc9dbaaf90b357c8f793c33696
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Sep 17 13:40:36 2014 -0500

    Rip out the guts! Removing many non-9k runtime classes.
    
    * ClassCache is gone; it was hacky and problematic when compiled
      code held classloader-level (static) data, as when using indy
      call sites. Java 8 has also eliminated permgen, greatly reducing
      the hassle and overhead of loading jitted code. Finally, Rails
      and the other Ruby frameworks are now officially "thread safe"
      (or the teams are committed to them being so) and the multiple
      JRuby model of deployment is discouraged (or even deprecated).
    * All old JIT code is gone. It won't be useful for the new
      JIT.
    * Removed the last vestiges of Callback-based functions. If I
      remember right, there's some ext out there using them...we must
      find it.
    * Rewired JITCompiler to use the new JIT.
    * Rewired InterpretedIRMethod to use JITCompiler.
    * Moved OneShotClassLoader out of ClassCache (in org.jruby.util)

commit bad0fed920243b1f4bfd5e91aa323efbd0593ba8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 15 13:40:03 2014 -0500

    Remove some unused imports.

commit bcb285f2596259b8655c9528f50d2262cbb76abf
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 15 13:39:36 2014 -0500

    Split "booting" flag and do not JIT during boot of runtime.

commit d49435c96a3c91f695a3eeea58077a1bc6e28e17
Author: Hironobu Nishikokura <nishiko@mindia.jp>
Date:   Sat Aug 16 02:08:52 2014 +0900

    cosmetic change of RubyModule.java

commit 696dedffd1435ca542ee85fef62368bc15f35813
Author: Robin Dupret <robin.dupret@gmail.com>
Date:   Tue Jul 29 14:14:55 2014 +0200

    Module#ancestors now includes singletons themselves
    
    Since Ruby 2.1, calling #ancestors on a singleton class should now
    include the class itself in the chain.
    
    Since BasicObject is at the very base of the ancestors, we also need to
    change the meta class of Object so that BasicObject's singleton class
    correctly get included in the chain.

commit d6612afd6756271891005dd507dd4bb65e34a9a2
Merge: 4493c9f eb6aa49
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 25 10:11:06 2014 -0500

    Merge pull request #1822 from robin850/singleton-class-p
    
    Implement Module#singleton_class? predicate method

commit 0520b1fb51daf59f10fc62903e818a7c990e9846
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 21 23:26:38 2014 -0500

    Additional tweaks for @tdeuhr's prepend work.

commit f4950d8ac2eb87d10ad905fea03b368ee40aff41
Author: tduehr <tduehr@gmail.com>
Date:   Mon Jul 21 12:58:03 2014 -0500

    inclusionPoint

commit 8f1e39e489000c0705e0ce5d93d02eb4ba1135da
Author: tduehr <tduehr@gmail.com>
Date:   Mon Jul 21 08:36:34 2014 -0500

    methodLocation

commit abfc526b9e878fe78ee6e86724a6450520f20459
Author: tduehr <tduehr@gmail.com>
Date:   Fri Jul 18 07:48:47 2014 -0500

    fix Module#test_prepend_class_ancestors

commit 0d18c785c8f7b95b95bbffc4429dd5b57d8c5677
Author: tduehr <tduehr@gmail.com>
Date:   Thu Jul 17 17:42:11 2014 -0500

    fix TestModule#test_append_features_type_error

commit 610e4a535b5160d79eecbc1520af1531eeac64b7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 20 15:25:17 2014 -0500

    Restore this.isModule checks in {append,prepend}_features.

commit 5059c9c6979616abad93e067ea68c523c419b75c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jul 19 18:30:09 2014 -0500

    Correct type checking for Module#{append,prepend}_features.

commit eb6aa493fd0e4ef768bdb55ab31b25f7f3a5db32
Author: Robin Dupret <robin.dupret@gmail.com>
Date:   Thu Jul 17 15:34:19 2014 +0200

    Implement Module#singleton_class? predicate method
    
    This method has been introduced in Ruby 2.1 and is a convenient way to
    check whether a class is a singleton one or not (see
    https://bugs.ruby-lang.org/issues/7609 for further information).

commit a34469e8a92ff3eb965a797211314758641aae90
Author: tduehr <tduehr@gmail.com>
Date:   Mon Jun 30 17:49:10 2014 -0500

    rework prepends to match flow of includes

commit 2676a1ce936a89deaab7db9f11a6a0d63fdf8610
Merge: c8d269d c57ad62
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 9 12:55:04 2014 -0500

    Merge remote-tracking branch 'origin/master' into new_transcoder
    
    Conflicts:
    	core/src/main/java/org/jruby/RubyConverter.java
    	test/mri/excludes/TestMethod.rb
    	test/mri/excludes/TestModule.rb

commit c920a254402c667a15dfabaefedef4e13064d157
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 7 13:22:58 2014 -0500

    Minor cleanup.

commit a1f19009a5643c8ed6be8ac5e2f13a4d81367a84
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 6 14:53:54 2014 -0500

    More accurate alias warnings for methods that access caller state.

commit 7791321ff35529b84e83c0480c621af7dbe5c247
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 6 14:32:53 2014 -0500

    Move toward better metadata in native core methods.
    
    * Fully-specify methods that read/write frame or scope fields.
    * Attach additional "caller" CallConfig to methods for later use.
    * Eliminate static lists of scope/frame consumers (full field
      specification means those methods will get picked up on boot.
    
    This change moves us toward having full framing information in the
    DynamicMethod object associated with a given native method. This
    will allow us to do a better job of late-framed calls (don't
    frame or scope until we call a method that needs it), alias
    warnings (only warn when aliasing a method that has framing
    requirements), and ultimately better frame elimination in the new
    IR runtime.

commit 6d9e299823371978e04384e81d9186efc3a14106
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 6 11:43:18 2014 -0500

    Move method frame and scope-tracking out of ASTInspector.

commit 14587363fb27dfd46f4c40438c567ca081641a27
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 2 17:15:08 2014 -0500

    Change validateConstant so it creates Ruby 2.1 more sophisticated NameError string

commit 6f8f43aec732b2965fe791179ed5bb80c424fb40
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 2 11:07:33 2014 -0500

    Dup'ing BasicObject should TypeError (plus some other incidental checks)

commit 4fd036b2c3d515db5a9c5ab7e249b59f8ea79692
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Mon Jun 30 23:10:57 2014 -0500

    Death to rubyclass stack: Part 1 of 2
    
    * When methods are defined, aliased, undefined, the runtime has to
      determine the method container that is affected by the changes.
    
      Thus far, this was done by manipulating a rubyclass stack that
      is updated at several places in the runtime and weaves its way
      through frame, binding, yield, instance/module/binding evals,
      and is updated on every call.
    
    * This patch implements a fairly straightforward algorithm for
      determining the method container at the time it is needed by
      examining the contents of the lexical scoping tree starting at
      the scope where the method is manipulated. This examination is
      affected by runtime flags set on lexical scopes (always blocks)
      based on whether any of them are being executed in the context of
      instance/module/binding evals. There are couple special cases to
      this algorithm. Nevertheless, it is far more straightforward and
      easy to grok than the existing runtime implementation.
    
      In this patch, the rubyclass stack manipulation code is turned off
      in ThreadContext.java but the rubyclass stack and its traces in
      the various parts of the runtime are left behind.
    
      The algorithm relies on annotation of block scopes when they are
      being executed in the context of evals. The bulk of this patch
      involves setting up these annotations in RubyModule, RubyObject,
      RubyBasicObject and passing them to DynamicScope via Block, BlockBody,
      IRBlockBody, and InterpretedIRBlockBody.
    
      The algorithm also relies on annotation of static scopes with the
      IR scope type. The other bulk of this patch is in setting up those
      annotations on IR static scopes.
    
    * The algorithm itself is in ir/runtime/IRRuntimeHelpers.java
      - findInstanceMethodContainer(..)
    
      It is easy to split this up into static/dynamic since there are
      scenarios where the container is statically determined. But, there
      is no real benefit that we foresee from the static resolution
      scenarios, and the algorithm is simpler the way it is currently
      coded up.
    
    * This passes all MRI tests and Rubyspecs plus other contrived
      tests (they need cleaning up -- will probably add them in a later
      patch).

commit 22dbbeb072872dfccd0333277bf0b6e7ce744385
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Jun 26 17:13:58 2014 -0500

    Prepend is failing so re-add some excludes.  Fixed error reporting of const_get mostly to show whole constant in error message (still partially wrong because we convert name to NameError as a symbol and not a string)

commit 2e546f8e827f30b5697686d5277bf26a8cafa15f
Merge: 3c2290f 164dd8e
Author: Thomas E Enebo <tom.enebo@gmail.com>
Date:   Thu Jun 26 16:29:58 2014 -0500

    Merge pull request #1746 from tduehr/prepend
    
    Module#prepend

commit 28588ed678aa94b85a71cf41d555c00fbf76dff0
Merge: 02eb2f4 1d03c28
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jun 23 14:16:24 2014 -0500

    Merge remote-tracking branch 'origin/master' into new_transcoder
    
    Conflicts:
    	core/src/main/java/org/jruby/RubyBasicObject.java
    	core/src/main/java/org/jruby/RubyIO.java

commit 05e1b11ad00be5b85a5df8419573aab4f98f2954
Author: Chris Seaton <chris@chrisseaton.com>
Date:   Fri Jun 13 17:36:27 2014 +0100

    Revert "[Truffle] Restore a basic version of set_trace_func."
    
    This reverts commit 077a4ffb881e62b4d1fab78270a81cc500c0c252.

commit 164dd8eb0041a6eaaf04cfbee746a90722ae0b59
Author: tduehr <tduehr@gmail.com>
Date:   Thu Jun 12 16:24:38 2014 -0500

    Module#prepend
    
    abstracts included modules a little more and adds prepending modules

commit 077a4ffb881e62b4d1fab78270a81cc500c0c252
Author: Chris Seaton <chris@chrisseaton.com>
Date:   Thu Jun 12 01:48:11 2014 +0100

    [Truffle] Restore a basic version of set_trace_func.

commit 7621334c9b4bef55cc1ac326dcc8d13ce8c36a56
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Jun 9 09:40:27 2014 -0500

    Start removing old interpreter

commit 5c9cdfe905bad8cc3c469276ca2bbd8aad9b4f67
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 16 12:51:44 2014 -0500

    Start porting IO open/initialize logic.

commit d269590c79eb56175689e1aea710956fa7472786
Merge: ae5ad64 78d80b5
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu May 1 09:54:27 2014 -0500

    largish merge from jruby-1_7

commit c58164f7c6d24d317bac36fc57060ed4be8ca5e6
Author: Thomas E Enebo <tom.enebo@gmail.com>
Date:   Tue Apr 8 08:38:49 2014 -0500

    Cheryr-picked from master

commit d6bbec2c0bdf198b3d511dee16543057d8328a97
Author: tduehr <tduehr@gmail.com>
Date:   Thu Apr 17 10:58:14 2014 -0500

    respond_to_missing? is public in 1.9.x

commit 9c758b4f31c0eeb50d77b3dad28438aca365e857
Author: tduehr <tduehr@gmail.com>
Date:   Thu Feb 27 21:54:56 2014 -0600

    fix initialize visibility

commit f97bf3082cd0f6966f9395bf1b829242d8122d4a
Merge: f377d1c 86f0346
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Apr 16 15:27:46 2014 -0500

    Merge

commit 92d55525d1d20959a8b860fe8ed96665cf66bf6d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Apr 13 14:14:36 2014 -0500

    Avoid constructing a Fixnum and a String for sort logic.

commit 06130f94ed43d3660dea65e2dbb415b8aafdac5f
Author: areman <andre.kullmann@googlemail.com>
Date:   Wed Apr 2 00:56:30 2014 +0200

    remove wildcard imports and rename buidin to builtin

commit 86a75dce0e3db7dd41b651fd32f37e7cce2c6726
Author: areman <andre.kullmann@googlemail.com>
Date:   Tue Apr 1 17:09:27 2014 +0200

    Change the profiler to make it possible to add custom profiler implementations

commit acf5d258db69e9ba73f329b809c0924d7e843c82
Author: tduehr <tduehr@gmail.com>
Date:   Thu Feb 20 16:22:22 2014 -0600

    correct visibility of initialize* and respond_to_missing? methods

commit b9ab568342636cddfca95899a10c112e4491b2ff
Merge: 4c39748 14f7c47
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 17 01:09:52 2014 -0600

    Merge remote-tracking branch 'origin/jruby-1_7'

commit f8a07c562cac8363f7ee3b72ae4c0c92d5cebb5e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 16 14:52:08 2014 -0600

    Eliminate some Java 5 iteration of AST node lists.
    
    Java 5 iteration along hot or boot paths causes a lot of transient
    iterator objects to be created. This patch removes some such cases
    that appear to be along hot paths or paths hit heavily at boot.

commit 0c866031a0ef6d31cb91ca5fa5a25ebe90256b7f
Author: Chris Seaton <chris@chrisseaton.com>
Date:   Fri Jan 10 00:16:13 2014 +0000

    [Truffle] Make truffelize a feature that needs to be required.

commit 97d1a4078243cb9cb3ec868acf5306ac32a69455
Author: Chris Seaton <chris@chrisseaton.com>
Date:   Thu Jan 9 16:30:37 2014 +0000

    [Truffle] Allow access to original nodes in most method objects.

commit 61269b18386297d789cd92b88ac7108e174882f9
Author: Chris Seaton <chris@chrisseaton.com>
Date:   Thu Jan 9 14:47:17 2014 +0000

    [Truffle] Abstract getting nodes back from methods.

commit 91517fda9b9d14a09138acc3c7771c95ad9aedfa
Author: Chris Seaton <chris@chrisseaton.com>
Date:   Thu Jan 9 14:28:20 2014 +0000

    [Truffle] Add truffelize method.

commit ff6897e33a8e8f6e3e714fe6176c0a19f65abb85
Merge: c66a441 3e66642
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Dec 29 09:45:32 2013 -0600

    Merge remote-tracking branch 'origin/jruby-1_7'

commit e554ada5c2b889ee2d90e9a994bfddef5adc14ca
Author: Uwe Kubosch <uwe@kubosch.no>
Date:   Fri Dec 27 13:00:57 2013 +0100

    * Separate helper methods from processing implementation
    * Avoid having to load annotation processing during runtime.
    * Fixes https://github.com/ruboto/ruboto/issues/545

commit 6bc6bfa23ae542c0a1cb8d7592803e504778c524
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 28 02:59:01 2013 -0600

    Use highest compat when binding methods using it in JRubyMethod.
    
    This is necessary to maintain some backward compat with libraries
    that needed to separate compat-specific behavior for a given
    method. We no longer use compat in JRuby proper, but in order to
    let those libraries work this commit modifies method binding to
    choose the highest compat of all defined methods when compat is
    being used. This should be correct for all cases, since no version
    of JRuby was released with official support for anything higher
    than 1.9, meaning the highest annotation we should see in the
    wild would be 1.9 compat.
    
    Fixes #1194.

commit e491821f42a8ad45e3c193ec80b832b7233cd344
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 28 02:37:53 2013 -0600

    Don't assign value never used.

commit 7ac348c9ac2ab0ae4d6533899f314a48a223bff7
Merge: 1c4f612 e9a0108
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 21 02:20:25 2013 -0600

    Merge branch 'jruby-1_7'

commit e9a01086b0c6e37762628806854ca9b28e6f5540
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 21 02:18:49 2013 -0600

    Fix method clumping preventing JDK8 from building JRuby.
    
    Fixes #1032.

commit fab973f772af39e6ff980950ac9094593de90ee0
Merge: 8d22538 c0275b9
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Nov 6 11:40:09 2013 -0600

    Merge jruby-1_7

commit c0275b9c9bb032b8e78dae956b3fe115739764f7
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Nov 6 11:23:16 2013 -0600

    Add some @Extension Annos

commit 031d58e95b21e1d15f43e79ca9509cf2dda8ce02
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 30 23:52:03 2013 -0500

    Remove most non-parser references to CompatVersion.
    
    This also removes compat logic from annotation-based method
    binding and invoker generation. I believe only the parser remains
    to be de-versioned.

commit 098450eb216f891d3244d30d55ca0049751143ff
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 30 22:16:54 2013 -0500

    De-version Module.

commit 89993eefa5d50d6e6ff11a2001fd1aa9970363aa
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 8 11:22:18 2013 -0500

    Return symbolic name from define_method (2.1).

commit 8ec019b6476b40cc0f36ee0a31520102fd393264
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 6 22:34:38 2013 -0500

    Move to 2.0 versioning and line up tests.

commit 697e6895affa646849a685ed58f6f84795c853aa
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 4 23:37:52 2013 -0500

    Eliminate calls to Ruby.is1_8 and is1_9.

commit d1f89e004fdc78dff75407c82123e6c9e8b406bb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 12 18:48:16 2013 +0200

    Make ClassIndex into an enum, to prevent issues like #1004.

commit c4eae4b89300c252e6472297ea63fe0583ffed53
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Sep 28 11:39:04 2013 -0500

    Fix framing regression.
    
    During 1.7.5 dev cycle, I reworked how backref/lastline are
    stored to reduce their impact on performance and bring their
    behavior more in line with MRI wrt blocks. In the process of
    making this move, I inadvertently turned on the frame requirement
    for all core class method names, resulting in any Ruby code that
    calls any of those names using a full frame. This has a serious
    perf impact on many benchmarks.
    
    This change fixes the framing to only be active when the target
    method actually needs to read or write a frame field, reducing the
    number of frame-requiring methods significantly and restoring
    perf to what it should be.
    
    We are unsure if this change will go into 1.7.5, given the wide
    impact a mistake in this fix could have, but it is passing JIT
    and AOT ruby19 tests and I will continue to test it to hopefully
    get it into the release.

commit 77a045396071eaef3ae8d4a710add1e35575ed19
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 12 13:42:27 2013 +0200

    Never use core runtime cache for user classes. Fixes #1004.
    
    The "index" of a RubyModule is only non-zero when it's one of our
    known native core classes. All other classes end up with zero.
    Since we use this index to offset into the core method cache (in
    Ruby.getRuntimeCache() or ThreadContext.runtimeCache) we must
    check for index == zero and not use the cache in that case (e.g.
    in Helpers.invokedynamic() which calls Helpers.getMethodCached().

commit b085744b501d9c50ed6105d100de6ba074df7de8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 5 12:27:00 2013 -0500

    Reformat properly.

commit e392526e4d968831d34eda81213bcdc2e25eae77
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Aug 6 11:34:15 2013 -0500

    JRUBY-7189: invalid byte sequence in US-ASCII (aka define_method can register multi-byte non-US-ASCII names now plus reflective methods will return proper encoded symbols)

commit 9f7f83a7aa54f90a6baf15b70550a0bebb04d68e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 15 13:49:28 2013 -0500

    Improve assertions for bad constant name/value.

commit 28c6fbc4e883bc1c9e9242d1da1cb2b785f55339
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 3 12:46:45 2013 -0500

    Move to @mkristian's proposed layout, with some modifications.
