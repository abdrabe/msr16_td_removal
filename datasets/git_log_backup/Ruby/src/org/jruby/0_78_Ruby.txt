commit 73807b09795fcede626fca1ad3fa71945063d74e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 21 09:45:48 2013 -0500

    Reintroduce native Delegator extension to speed delegated calls.
    
    This native implementation does method_missing all in Java code,
    which provides the following benefits:
    
    * No requirement for a frame or scope in method_missing logic,
      as with the pure-Ruby version.
    * Direct lookup and dispatch to target method, rather than through
      __send__ logic.
    * Only respond_to? check if method is not naturally defined, to
      catch respond_to_missing? and similar cases.
    * Directly omit lines from backtrace rather than manually
      manipulating it (which did not always work due to our different
      formatting for backtraces that bubble all the way out).
    
    This new version is nearly 2x faster than the pure-Ruby version.

commit b008115e9068e3e4084b1e83b7d70375f8072010
Author: Charlie Somerville <charlie@charliesomerville.com>
Date:   Tue Jun 11 23:49:53 2013 +1000

    use CHM.putIfAbsent instead of explicit synchronization

commit 61d5f02808cc9786bb8dfe909a2006c6ea21ec20
Author: Charlie Somerville <charlie@charliesomerville.com>
Date:   Tue Jun 11 23:43:50 2013 +1000

    use ConcurrentHashMap instead of Hashtable

commit 7ffac36c9e5480674d6adab91377ae57169b9207
Author: Charlie Somerville <charlie@charliesomerville.com>
Date:   Tue Jun 11 20:41:19 2013 +1000

    change Ruby.getConstantInvalidator() to take a constant name

commit 334f9367c5f80a6a57dec67cfc71006c4c7a0515
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jun 5 09:14:56 2013 -0500

    Remove broken and unsupported sampling profiler.

commit fb264a04ccecb13d5f9e25de210d954ad7711d99
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 21 10:08:46 2013 -0500

    Move readline out of jruby.jar.
    
    There are a number of reasons for this:
    
    * Allows us to version it separately (potentially even moving it
      out of JRuby repo altogether.
    * Resolves issues where our bundling or our boot classloading
      interferes with parts of jline or jansi. I have removed the
      hack we had in place that prevented jansi from erroring while
      breaking several readline features (like tab completion,
      JRUBY-6996) on Windows.
    * Reduces jruby.jar size for cases where you don't need readline.
    
    This also follows our (and MRI's) pattern of moving ext libraries
    out of core into gems.

commit 2eb2d0732b98614cfc6a329ff7e5f28ff143ab79
Merge: ccd06ac af1d387
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 20 21:24:22 2013 -0500

    Merge branch 'consistent-hashing' of github.com:rdblue/jruby into rdblue-consistent-hashing
    
    Conflicts:
    	src/org/jruby/RubySymbol.java
    	src/org/jruby/util/cli/Options.java

commit 7fda54dab1c9b8d5819e3c3788c548ce4b267f85
Author: Gustav Munkby <grddev@gmail.com>
Date:   Tue May 14 15:46:28 2013 +0200

    Synchronize profile printing.
    
    This avoids interleaving/garbling of profiles from multiple threads.

commit 720e512860fcdd5eb67322fb350c38717b9f7473
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 16 12:52:15 2013 -0500

    Return constant, frozen String for Thread#status.

commit c2c943229930781193ba0fb8b96f0080f775f38d
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Sat May 11 08:37:15 2013 -0500

    Make regexp interruptible.  Regexp will throw InterruptedRegexpError < RegexpError

commit d09e2d5fe7f49c8450ea142ad4d1522d726e9bcf
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 7 19:14:45 2013 -0500

    Initial reimplementation of Enumerator#next in Java.

commit db853d3697bb5a520996dda58382873d9f6fc030
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 6 18:14:45 2013 -0500

    Get EINPROGRESSWaitWritable from proper location. Fixes JRUBY-7161

commit bd1997334a7a0ab873f8ae4d0f86b8ed3230c5b6
Author: Alex Tambellini <atambellini@gmail.com>
Date:   Fri May 3 23:55:29 2013 -0400

    Kernel.abort should set the exception message to the given message

commit 639752ed4388eb638ccae8a90c6ef7d87a3d0ad0
Merge: 09a4799 6563ac1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 30 15:19:05 2013 -0700

    Merge pull request #684 from tychobrailleur/string_encode
    
    Fix some failing rubyspecs for String#encode

commit 0b8d74b95580b97ddf034eb4d17cc2c31b8ed8a3
Author: SÃ©bastien Le Callonnec <sebastien@weblogism.com>
Date:   Tue Apr 30 13:38:27 2013 +0100

    Fix some of String#encode! and String#encode rubyspecs.

commit 607c6d5f27f229011e740517e51793e19852f062
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 29 13:53:36 2013 -0500

    Use MRI logic for generating tempfile names in Tempfile.
    
    This change does the following:
    
    * Adds missing Ruby logic by defining Tempfile.create and
      including Dir::Tmpname into Tempfile. These changes happen in
      the new lib/ruby/shared/tempfile.rb.
    * Invokes #create included from Tmpname to generate the filename,
      rather than using our own filename logic. This allows overriding
      both #create and #make_tempname. It also abstracts all name
      logic to Ruby's tmpdir.rb.
    * Eliminate unused Reaper logic.
    * Eliminate unused temp dir finding logic.
    * Fixes #677

commit 0d1ff021d17ab2498981501eaffe9cd1a47590d2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Apr 28 13:13:33 2013 -0500

    Fix #666 by implementing LoadError#path and related load logic.

commit 8672aa7f1f1ba6f63ff0d5729fbd100709ed2110
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 26 14:44:46 2013 -0500

    Move BasicObject constant up from Object to BasicObject.

commit 947c661e46683ea82f8016dde9d3fa597cd10e56
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Apr 25 12:25:22 2013 -0500

    JRUBY-6136: Changing jnr-posix to use errno() value unconditionally has created lots of failures in windows (take one)

commit b97e022466e16b58d4f6f1fda351fbe2bbeef3d5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 23 16:07:17 2013 -0500

    Add io/try_nonblock ext for nonblock without exceptions.

commit f83ac9e316b90056290326696710efcd910a61f0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 23 15:43:25 2013 -0500

    Match Ruby 2.1 naming and namespace for Wait*able exceptions.

commit af1d38770b1ebc1811e66ea33d9814b82826867d
Author: Ryan Blue <rdblue@gmail.com>
Date:   Sun Mar 17 15:08:56 2013 +0000

    Fixing hashing consistency across JVM instances.
    
    Several of the core JRuby classes calculate hash codes based on java or ruby
    object ids. This doesn't produce consistent hashing across JVM instances, which
    is needed for distributed frameworks. For example, Hadoop uses hashCode values
    to distribute keys from the map phase to the same reducer task (partitioning).
    
    This commit adds hashCode (and ruby's hash method) implementations for
    RubyBoolean, RubyNil, and RubySymbol. RubyBoolean and RubyNil simply return
    static, randomly-generated hashCode values that are hard-coded. This replaces
    the default java Object#hashCode.
    
    For RubySymbol, the previous implementation of hashCode returned the symbol's
    id, which could be different depending on the order in which symbols are
    created. This updates it to calculate a hashCode based on the raw symbolBytes
    like the RubyString implementation, but with a RubySymbol-specific seed and
    without the encoding addition for 1.9. This value is calculated when symbols
    are instantiated so the performance impact should be minimal.
    
    This commit also adds a RubyInstanceConfig setting and CLI option for
    consistent hashing, jruby.consistent.hashing.enabled, which controls whether
    the Ruby runtime's hash seeds (k0 and k1) are generated randomly. When set to
    true, they are set to static values. These hash seeds are used to hash
    RubyString objects, so this will make string hash codes consistent across JVMs.
    
    (later commit...)
    
    Updating hashCode implementations.
    
    Per discussion on the last commit's pull request [1], updating the
    implementations of hashCode for RubyNil and RubyBoolean. Now the hashCode
    behavior for nil and booleans will only change when consistent hashing is
    enabled. Adds a hashCode instance variable to RubyBoolean and RubyNil that is
    set in the constructor to the Object#hashCode value (using
    System.identityHashCode) or a static value.
    
    [1]: https://github.com/jruby/jruby/pull/590

commit eb6e220d8c582b3f23744aa53712eb7d87e3f7e1
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Fri Mar 29 13:30:00 2013 -0400

    Add @Override to Ruby.java

commit bb98e4b8decffc0361b70a6c99c1ade5fed0abcb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 28 10:02:33 2013 +0000

    Move RuntimeHelpers to org.jruby.runtime.Helpers.

commit 30a908577ae16423031bbfee754cbee41a78d1dc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 20 18:28:24 2013 -0500

    Fix embedding test failures introduced by Callback removal.
    
    A single rogue call to Ruby.callbackFactory I removed from
    RubySystemCallError was to blame for this. callbackFactory forced
    the JRubyClassLoader stored in Ruby to be initialized, and without
    that the field was left null. External uses all called via
    Ruby.getJRubyClassLoader, which lazily initialized it...but
    somethign in embedding or tests for it called through
    compileAndLoadFile, which accesses it directly. Because the
    JRubyClassLoader is almost always needed to run JRuby, I have
    added a call to Ruby.getJRubyClassLoader into the Ruby constructor
    to ensure it has been initialized. Tests pass now.

commit ed0a495c611d967256722bb41aae3bb8b0f8f0c2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Mar 16 16:16:47 2013 -0500

    Remove support for and uses of deprecated Callback methods.

commit 281ead709e1e855b552a42e86e48f8f91ca8ebb5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Mar 9 02:58:56 2013 -0600

    [2.0] Add Thread::Backtrace::Location and related methods.
    
    * Thread#backtrace_locations
    * Kernel#caller_locations
    * Exception#backtrace_locations (not official, but should be soon)

commit bf37b5b6548a60bcf4395319b2b47b946eccc04a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 7 00:55:34 2013 -0600

    Tweaks to get more of TracePoint working.
    
    * Add a safeguard in binding creation for empty RubyClass stack
    * Add b_call, b_return, thread_begin and thread_end events
    * Wire up new events
    * Mask out 2.0 events from non-2.0 tracing

commit 1ca2dca9a4d5e8efd89929cdd2e9b466c4a30813
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 7 00:29:19 2013 -0600

    [2.0] Add TracePoint API (partial impl)
    
    TODO:
    
    * Try to avoid eagerly allocating binding. May not be possible.
    * Provide return values for return events
    * Properly handle exception value for raise events
    * Add block events and other missing events

commit 4b3a1f1b57c8bb929c9c29c06882d9e42f8a92cd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 6 16:41:29 2013 -0600

    Optimizations to proc invocation to reduce allocation.
    
    * Do not clone block if we aren't modifying frame self
    * Do not create intermediate lists for 1.9 args setup
    * Use preallocated, frozen Array for intermediate Array of size 0

commit 61678ac1a2514a9932276f8d527816a5980a94b3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 25 20:41:40 2013 +1100

    Fix more references to CPL.
    
    The phrase "Common Public License" was split across two lines in
    our default header, which caused it to be missed during earlier
    search/replace. Also, we did not replace the CPL URL in the
    header with the EPL URL.

commit a803e464fdeb171a2701585a84912bdda550fb58
Merge: c8d3eff 011edb6
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Feb 25 11:48:57 2013 -0600

    Merge with master

commit 330fef3b0fc18af477ccea19bd278669667f31bb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 12 14:49:29 2013 -0600

    Switch JRuby's CPL license to EPL.
    
    Governance of the CPL license was moved to the Eclipse Foundation
    at some point in the past, and Eclipse blessed the EPL (Eclipse
    Public License v1.0) as the successor to CPL. Because the CPL
    contains a clause allowing transparent upgrades to future blessed
    successor licenses, we can make the move to EPL without
    re-contacting past contributors.
    
    The change in going from CPL to EPL largely just removes some
    punitive language that apparently made many companies nervous. All
    other language in the license remains identical.
    
    Several documents about Eclipse's move from CPL to EPL are here:
    
    http://www.eclipse.org/legal/cpl2epl/
    
    Note that Eclipse's move came before the blessing of EPL as the
    upgrade path for CPL, so they had to do a bit more legal juggling.
    With Eclipse now the administrator of CPL and with their blessing
    of EPL as the upgrade path for CPL, all we need to do is make the
    move.

commit 925e2fd7ae3b3625096cc12b7f34d49598ef077b
Author: Bob Beaty <bbeaty@groupon.com>
Date:   Mon Nov 19 07:35:21 2012 -0600

    Fixed up whitespace
    
    I just noticed that it's all spaces, and no tabs. My bad.

commit 0ae87e66b14dcc7fdafceeae99820965a6a1f89d
Author: Bob Beaty <bbeaty@groupon.com>
Date:   Mon Nov 19 07:29:51 2012 -0600

    Made changes as per Charles' request on exceptions
    
    Charles asked me to change the code to NOT generate a second BindException, but
    to change the newErrnoEADDRFromBindException() method, so I did that and just
    make a second, more general form of that method that took a context message
    string that would be put at the end of the excpetion's message. The old version
    doesn't have to worry about this, but in these two cases, we can put a lot more
    information at the user's fingertips.

commit 670ff45e41b553c6072cc8a39d0e2c14152ca953
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 22 13:51:57 2013 -0600

    sad panda keeps company with goofy method names like newNameErrorObject

commit d7d163698fef363d6b9df8dda0d153f3ca93fa02
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 22 11:55:51 2013 -0600

    GH #506: throw stringifies the name

commit 8e208243f1d10b0edbe143dc8b99de79d2f40a81
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 18 12:21:03 2013 -0600

    Fixes to get test-all running again.

commit 21d94485ce683b33a23e2d3a1d89e0e52e6cb193
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 15 12:02:13 2013 -0600

    Much closer to getting simple lexer example working

commit 3b69c64db6b9daf48cfd8e7dc3ad7611102e35db
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Jan 14 14:57:16 2013 -0600

    Oh yeah hook it up

commit 4e461acca6a5e112750be75795e2a18782f9c98f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 13 00:52:46 2013 -0500

    Fix Fixnum and Float reopening invalidators to stay invalid.
    
    Because we used a rolling SwitchPoint invalidator for reopening of
    Fixnum and Float, they would almost immediately go back to fast
    paths and ignore changed methods. This was rare, and would only
    affect code patching non-/ math or boolean operations, since we
    were not fast-pathing / yet due to mathn.rb replacing it. The fix
    gets us to zero failures on MRI's suite with invokedynamic active.
    
    The jit logic for numerics needs to be revisited so that only
    actually-replaced methods give up on fast path, so this is going
    to get ripped out and replaced anyway, but for now it could mean
    a slight perf drop in numeric perf when mathn is loaded.

commit ae658720b412204d2fabb0308e1c270b9b49bf54
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Tue Jan 8 01:01:17 2013 -0500

    Define Kernel.gsub in 1.9 mode only when '-p' and '-n' is given.
    
    This addresses JRUBY-7048.

commit 3b8b934e79bf1001b2ec4d767ac3672e9ee4d079
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 5 12:54:54 2013 -0600

    Reduce cost of repeatedly invalidating global variables.
    
    * Mark all variables as GLOBAL, THREAD, or FRAME scoped
    * Only perform indy caching for GLOBAL
    * Failover to direct access every time after 100 failures
    * Add a failover invalidator that eventually stays invalid
    
    In order to avoid the impact of invalidating global variables that
    are modified continually during the run of an application, I've
    added a config parameter (invokedynamic.global.maxfail) to fail
    those variables and not continue caching them using invokedynamic
    and a SwitchPoint. On the update side, I added a new Invalidator
    called FailoverSwitchPointInvalidator that eventually gives up and
    stays invalid, since even invalidating an unused SwitchPoint is
    rather expensive.
    
    With these changes, highly-volatile global variables perform as
    well as without invokedynamic, rather than much slower.

commit 1261e5af14c1e56e04caf8bfe2adc8cacf2b9bb4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 14 11:46:51 2012 -0600

    Use indy + switchpoint for polling thread events.

commit 40d9dabb8d90ef64c2b695e463e17a5b2832443c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 12 18:33:22 2012 -0600

    Properly set up the toplevel scope under new logic. Fixes #440.
    
    The toplevel scope for a precompiled script was getting set up
    with the toplevel scope for the runtime as parent, rather than
    no parent. This caused constant lookup to search Object too soon,
    at the top of the lexical search. This in turn led to constants
    in the hierarchy with names the same as constants in Object to be
    inaccessible.

commit fb52d0670a043861bb837c95cf8784b6ed4ec30a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 11 14:25:14 2012 -0600

    Remove openssl builtin line (commented out earlier).

commit d05ace2026aee591f745c57717fff287c80b2a90
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 11 14:24:29 2012 -0600

    Move readline ext to org.jruby.ext.readline, like others.

commit cf65d3a4fabe905a3a0ad11e74f97b24fc6a5e29
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 11 13:20:56 2012 -0600

    Move jruby-openssl out of jruby.jar.
    
    For JRuby 1.7.0 and 1.7.1, we shipped all of jruby-openssl and the
    Bouncy Castle dependency inside jruby.jar. This worked as an all-
    in-one setup, but failed in other ways:
    
    * With the jossl code in jruby.jar, it is impossible to update it
    using a gem
    
    * With BC code in jruby.jar, it is both impossible to update and
    it fails to work for scenarios that require signed security
    provider jars.
    
    The new setup builds jopenssl.jar into lib/ruby/shared, copies the
    bc*.jar files to lib/ruby/shared, and incorporates the
    bouncy-castle-java.rb file from the bouncy-castle-java gem. This
    allows jruby-openssl to be shipped with JRuby, outside jruby.jar
    to avoid those issues, and upgradable by jruby-openssl gem.
    
    We probably need to adjust dist logic for this. I'll coordinate
    with enebo.

commit 7357e88c934c80756dcc78768bc459f66696bbc2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 6 17:28:10 2012 -0600

    Invokedynamic guard improvements for normal invocations.
    
    * Immediates (Symbol, Fixnum, Float, nil, true, false) do not need metaclass check; instanceof is enough.
    * GWT tests can be simplified to a single permute + insert args.

commit 5049a0f42245f8501942593482f599c2cc542244
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 6 09:14:45 2012 -0600

    Use a SwitchPoint for Fixnum/Float reopening, FOR MORE SPEED.

commit 30207c42b9dcfacd1bf32a6ceb16ffdc4d76cc55
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Dec 3 14:13:08 2012 -0600

    Add JRUBY_DRIP_WARMUP env for warmup and tweak preboot a bit.

commit 80387a630c2bb57f4425456c1dda5db98f542339
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 27 13:08:19 2012 -0600

    Initial support for Drip, with dripmain.rb for pre-booting.

commit 3d12d1c5eddc16329633feb8fa569223b34768b8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 28 16:38:33 2012 -0600

    Final modifications to get scopes loading from cache.
    
    * For initial Script execution via __file__, must setRootScope
    * Script.load impl will setRootScope
    * All other method forms will receive scope index from parent compiler

commit 8fc11bf472ec7e81118c929ebeb95f654e56e756
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Nov 19 11:13:07 2012 +0100

    Simple comment commit because I find myself asking which circumstances default_internal can get set every 4-5 months

commit 5e4aab28b26fd127112b76fabfac9a33b64caf77
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Sat Nov 17 22:25:00 2012 +0900

    Use Perl's Hash for String#hash
    
    Replace String hash function again, use Perl's Hash instaed of
    SipHash-2-4.  Perl's Hash is 10**5 times faster than
    Murmur2/SipHash-2-4.  Our understanding is Perl's Hash is not broken in
    regards to HashDoS attack[1] so far.
    
    For the case Perl's Hash is broken in the future, you can use
    SipHash-2-4 by passing "jruby.siphash.enabled=true" system property
    (false by default.)
    
    [1] http://2012.appsec-forum.ch/conferences/#c17

commit 0fe613d73bd5f62bedd9b6b49a85f572801cc5dc
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Tue Nov 13 21:34:31 2012 +0900

    Use SipHash-2-4 for String#hash
    
    Replace Murmur2 with SipHash-2-4[1].  The SipHashInline implementation
    is at [2] and the author presents it to JRuby.
    
    [1] https://www.131002.net/siphash/
    [2] https://github.com/nahi/siphash-java-inline

commit 617db1cba2dbcfda469c01e232315c7c74cc7690
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Nov 7 16:58:57 2012 -0600

    Add -Xdebug.parser to print out real parser exception to stderr and to also not allow any internal jruby impl loading (a bit fragile :) )

commit 7ba1531855cb65f6974e9cf53848c98c572d5d34
Merge: 1e9086f 1caa496
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 26 23:20:46 2012 -0700

    Merge pull request #326 from iconara/json_profile_printer_additions
    
    JSON format profile printer (additions)

commit 6304ed8994a874ebc469c1b7824b284f27633878
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 24 15:46:10 2012 -0500

    More fixes for OpenSSL and SSLSocket.
    
    * Update stdlib .rb files for 1.8 and 1.9 mode
    * Move jopenssl ext to openssl.jar and update stdlib accordingly
    * Remove another exclude for multibyte ssl read/write.

commit 9864ed7eb4dd3eb0466d16ea94c72f9f032eae4f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 16 20:55:31 2012 -0500

    ObjectSpace tweaks:
    
    * Check config only once and choose ObjectSpacer impl. This
    avoids boolean checks along object construction paths, and allows
    ObjectSpace logic to boil down to an empy inlined method when
    ObjectSpace is not enabled.
    
    * Never follow ObjectSpace-aware constructor path for Floats.

commit c6013c59228b377aa9f8fb0626340fa7831af667
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 17 10:59:42 2012 -0500

    Move Java-sourced dynamic call logic to MethodNames enum.

commit 8b0dda69012f9872128c86670cb7ed564205370e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 17 11:17:54 2012 -0500

    Small risk...removing from 1.7.0 release.
    
    Revert "ObjectSpace tweaks:"
    
    This reverts commit 4ceafef1fe56d57a2c20fa8d3acc060e3c482227.

commit 4ceafef1fe56d57a2c20fa8d3acc060e3c482227
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 16 20:55:31 2012 -0500

    ObjectSpace tweaks:
    
    * Check config only once and choose ObjectSpacer impl. This
    avoids boolean checks along object construction paths, and allows
    ObjectSpace logic to boil down to an empy inlined method when
    ObjectSpace is not enabled.
    
    * Never follow ObjectSpace-aware constructor path for Floats.

commit 92b38c48cd9960e0692bcf36e2b790c89d0b324c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 5 22:23:58 2012 -0500

    Fix JRUBY-5732
    
    Error with selector: java.nio.channels.ClosedChannelException

commit fa914f67cff6659a26d621ade9bf0801015467c3
Author: Theo Hultberg <theo@iconara.net>
Date:   Sun Sep 30 17:55:48 2012 +0200

    Profile reports can now be written to a file
    
    Support for writing profile reports to files, notably support for writing profiles from multiple threads to the same JSON or HTML file without syntax errors.
    
    There's a new abstraction that handles profile printing: ProfileOutput. Together with new methods on ProfilePrinter, printHeader, printFooter and a new parameter to printProfile (first), it can orchestrate the the profile printers so that they print the right things at the right time.

commit ba48acd2a8fed2afefafd25fe306525b5b2f8b57
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 20 17:08:13 2012 -0500

    Load 'jruby' and 'java' libraries by default. THE FUTURE IS NOW.

commit b03d0bc89aefca13deaff7a568e5d9118a9ca2a8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 17 01:42:22 2012 -0700

    Performance improvements for defined? logic.
    
    * Return a cached, frozen string rather than recreating each time.
    * Cache variable accessors for ivar defined? checks.

commit 165ec891f5d5557e1cac89884b0776721dee36ef
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Sep 13 16:50:30 2012 -0500

    Allow java proxy class to be overriden for Android support

commit 3baeea6eec82d127944cef58259e9a2149fa551a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Aug 27 15:05:50 2012 -0500

    Fix JRUBY-6859
    
    java.lang.ArrayIndexOutOfBoundsException when using --profile.api . MAX_PROFILE_METHODS too low?
    
    This was actually fixed already in the 1.7 line in aabfa79f4 but
    this commit adds a warning (once) and configurable property to
    bump up the max size.

commit 85dd01dd5467bb2d8f38f34bcc7953052be97236
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Aug 7 12:05:20 2012 -0500

    Fix excessive logging of original exception for NameError.
    
    Default behavior for NameError from a Java exception w/ verbose
    was to log the original exception as well. However, some of our
    internal code expects NameError and uses that to fall back on
    other class names. Modified the logic to not log by default in
    verbose mode.

commit 27911f04277d998528456b89f399b183f016ce8e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 1 10:29:02 2012 -0500

    If we can't lookup errno, use SystemCallError.

commit 9bfc332321d2581b4bdbe50e785563779a48d833
Author: kares <self@kares.org>
Date:   Fri Oct 21 13:20:08 2011 +0200

    introduce ProfiledMethod a holder object for a method and name

commit bda5f8e8ea726539c61123fa5e6ae3ce741cc190
Author: kares <self@kares.org>
Date:   Thu Oct 20 11:36:14 2011 +0200

    refactor profiling internals (preparation for better Ruby runtime profiling for envs that setup a non-global Ruby to be profiled)

commit 0717b089af3b370e3df12bc24618b6ce7a6c5854
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 30 16:50:13 2012 -0500

    Tweaks to invokedynamic to support non-Java 7.
    
    * Allow explicitly turning invokedynamic on regardless of JVM.
    * Log compilation failures using log.error instead of log.debug.

commit 47fd4acb720385b7d7852e1876e28520aa0cf484
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 27 01:55:07 2012 -0500

    Remove all safelevel checks throughout JRuby (plus misc cleanup).

commit 846be19993cc1f76d0bf0d1c9ec4ed8ad0772793
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 24 16:56:16 2012 -0500

    Fix JRUBY-6766
    
    --profile slows down Array#join , which distorts profiling results
    
    This turned out to be a really good find.
    
    In order to avoid the cost of dispatching to methods like
    respond_to? and method_missing for value coercion, we pre-cache
    those methods in org.jruby.Ruby and use identity checks to
    shortcut faster, non-dynamic logic. This works well during normal
    execution, but under profiling all method objects are wrapped
    with ProfilingDynamicMethod objects that do the profile gathering.
    Because the identity of the original method then becomes obscured
    by the wrapper (which is created on a per-class basis) we always
    followed the slow path. The slow path in the case of
    method_missing raises an exception, and the exception backtraces
    were the source of profiling slowdown.
    
    I modified DelegatingDynamicMethod, the superclass of
    ProfilingDynamicMethod, to override equals() to consider only the
    wrapped method and fixed all related == comparisons to use
    equals(), ensuring that regardless of which wrapper was
    encountered the identity of the method would not be obscured. This
    returned profiled performance for e.g. Array#join to normal
    levels.
    
    I should note that this fix improves profiling performance for all
    coercion paths and methods that do coercion, so it has far-
    reaching implications.
    
    Thanks for reporting this :)

commit 6ecfcee3afb2afffc8c0b7058fdc2c2ffc49da47
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jul 5 15:05:59 2012 -0500

    Mostly fix JRUBY-6760: ArgumentError output
    
    It's not possible right now for us to have ArgumentError report
    the file:line of the called method, since arity checking occurs
    outside the method body. However, we usually do have the called
    name available at that point, so we can include it in the error
    message.

commit cfbb5d2c5190f36d87c925d3f77d08b63559009d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 3 18:14:20 2012 -0500

    Use caller backtrace logic to make warning file:line accurate.

commit 1b739e53718f3daa9c642065511c4cdb7ff2ffbb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jun 20 11:20:53 2012 -0500

    Tweaks to get more tests passing with Java 7 backquote.

commit a3763d8e1c2d11da4ea5461bfd53b5a92106d6a3
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed May 16 14:35:40 2012 -0500

    HACK: Make windows not barf out vestigial stacktrace on irb/readline init

commit 7ca1995a33008d0e4e9119d98361d922ee0ca0ff
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 14 17:59:04 2012 -0500

    Fix #162
    
    Ruby.recursiveKey is never set, so it doesn't need to be a
    ThreadLocal. Thanks to Ben Browning for the fix.

commit d433a3a69a1ef67a2da0aa37f53d4563158002eb
Author: Ben Browning <bbrownin@redhat.com>
Date:   Wed May 9 11:53:28 2012 -0400

    Stop the JITCompiler's executor during Ruby tearDown
    
    This stops the JITCompiler's executor when tearing down a Ruby runtime
    so that JITCompiler threads don't continue running
    indefinitely. Before this change JITCompiler was leaking two threads
    for every Ruby that gets created and subsequently torn down,
    eventually causing problems in applications that have the potential to
    create and destroy a lot of Ruby runtimes - like when running inside
    TorqueBox or other web servers.

commit a4edae5c622c689f43a1c2d0dfbf2d86df2d31d9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 8 18:57:03 2012 -0500

    Partial solution for #162.
    
    This clears the ThreadLocal objects out, so they can GC, but it
    causes the referenced objects to linger because ThreadLocal's weak
    referencing still requires a few GC cycles. The better fix will be
    to not use Ruby objects in the thread-locals, but that requires a
    reimplementation of the recursion logic.

commit 6a98f2cf2378c4a9d3de3049527b3771cee502c7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 30 14:10:32 2012 -0500

    Add a visitor structure to IR and rework JVM compiler to use it.

commit ac0aff594c5536bb407ec82511370629d7bef2c9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 30 00:17:52 2012 -0500

    Fix JRUBY-6631: Time#nsec always returns 0
    
    RubyTime now uses nsec base for sub-ms time component. We still
    cannot produce times with nsec resolution, but we will preserve
    nsec resolution values if constructed by the user.
    
    I also fixed almost all tagged Time specs in 1.9 mode. The only
    remaining failure is Time#+ adding a negative time, which seems
    to fail due to differences in floating-point precision.

commit 48d68d787540fb25e463af8903c518ed5276e9b3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 28 15:37:28 2012 -0500

    IR2JVM: Fix indy call paths for targets that receive block.

commit febf996ae9de05bf86a712975626d5a23be9b4a1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 28 13:50:15 2012 -0500

    IR2JVM: Yield and receiving closure argument in compiled bodies.

commit 82f049beaca8f0f69e191c7bc2da0c32879c7ddb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 28 10:52:13 2012 -0500

    Merge in "builtin" SSL support from jruby-ossl library.
    
    Squashed commit of the following:
    
    commit acfe60cb1e5c4329f84f582bfce130cf626e50ee
    Merge: 6e45697 27868fe
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Apr 28 10:00:13 2012 -0500
    
        Merge remote-tracking branch 'origin/master' into builtin_ssl
    
    commit 6e4569726f545a23969d8780837f250e746b1331
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Apr 28 09:57:38 2012 -0500
    
        Move OpenSSL .rb files under 1.8 lib and import 1.9 files.
    
    commit 79b52ffe7ab781c612a1c197c4de288a236058ae
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Apr 28 09:51:30 2012 -0500
    
        A few minor fixes for a large number of SSL test failures.
    
    commit 81fc6ebcbb0ac084b1ce84334927a7dc85552693
    Merge: 185faa0 ab2fd75
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Apr 26 23:40:22 2012 -0500
    
        Merge branch 'master' into builtin_ssl
    
    commit 185faa0d1024751e03d930c0f4a07b2f7add343a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Apr 7 10:43:23 2012 -0500
    
        Remove old OpenSSL stubs, fix OSSL version, basic tests passing.
    
    commit 3dabec5efca903f952f6c8a6ba27b4cd0eb26447
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Apr 6 16:58:13 2012 -0500
    
        Add bouncy castle jars.
    
    commit 52c25cae9867d39f598ce3eff56a375923c04506
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Jan 31 13:58:07 2012 -0600
    
        Spike of rolling jossl directly into JRuby.

commit 3a3743721e149f6486175f38e7b992f856eacf31
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 27 12:32:03 2012 -0500

    Name JRuby's executor threads.

commit 694c0b969bc20f2636c9e192af8e9a513587e5b6
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Thu Apr 26 22:50:30 2012 -0500

    [IR] Fix IR2JVM to use the right IRBuilder (ruby 1.8/1.9)

commit ab2fd7543f92cdf59dce27e9af5dec8987e5bcc9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 26 21:07:12 2012 -0500

    IR2JVM: implement and fix bits needed for "complex" fib bench.

commit f4803435ea319e5b9a5b602deefcaff1db6af869
Author: Ben Browning <bbrownin@redhat.com>
Date:   Wed Apr 25 18:52:53 2012 -0400

    Fix recursiveKey usage across multiple threads (JRUBY-6621)
    
    Instead of calling recursiveKey.set when the runtime is initialized,
    we implement getInitialValue of ThreadLocal to supply the default
    value when recursiveKey.get() is called for the first time on a given
    thread.
    
    This avoids an NPE when a runtime is initialized on one thread and
    subsequently used on another thread under 1.9.

commit 453975f37f799c4f018c109d6fe01674dea1f1b5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Apr 22 15:45:05 2012 -0500

    IR2JVM: Add StaticScope to argument lists.

commit 46c59ad659136fbda7c7fcd77b8bb47180f424f0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 20 23:29:18 2012 +0200

    Use thread-local state for all recursive checks.

commit 25de4d444621655c8fb16d9fddff025868209f6e
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Mon Apr 16 22:49:29 2012 +1000

    Cache many constants in a per-ruby-runtime FFI instance

commit 0b167802678933b8c7346a043287a6210d9bab41
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 11 17:32:10 2012 -0500

    Fix root-level backtrace mangling caused by old-style logic.
    
    Backtraces are not managed by file and line fields in ThreadContext
    anymore; instead, a new backtrace element should be pushed in each
    case (updating a preallocated stack of BacktraceElement objects).
    The old logic was still being used to set TC.file and TC.line
    before pushing a Frame...a relic from when backtrace data lived on
    Frame and pulled file/line info from the "current" values in TC.
    The continued use of these methods meant that backtrace elements
    were being updated in-place rather than pushed/popped for
    top-level backtraces, mangling them and destroying the proper
    values (ending up showing the last-set filename for toplevel).
    
    This commit removes all uses of setFile/setLine that are not
    performed against a backtrace element owned by the calling
    context.

commit 80f6601208ccf9b71a0c39bd8b3cfcaaf63baaa7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 7 15:56:09 2012 -0500

    Implement AliasInstr IR2JVM.

commit 3fc62bda9015e1debca86ee32feb4484d21174da
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 6 11:47:31 2012 -0500

    Refactor, clean up backtrace transformation logic.

commit 0b37cfac825ef6fd513e73b8e64fa60f1f769731
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 13 12:14:58 2012 -0500

    A few tweaks to add 2.0 mode and 2.0's lazy enumerator stuff.

commit 53945eb6cd55a8e2a78c00f7166574fc09d4e845
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Tue Mar 13 09:33:12 2012 -0500

    [IR] Package restructuring:
    org.jruby.compiler.ir -> org.jruby.ir
    org.jruby.ir.compiler_passes -> org.jruby.ir.passes
    org.jruby.interpreter -> org.jruby.ir.interpreter

commit f66f0963a61f018873bfae5bd9ae72b76511570a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 12 03:19:27 2012 -0500

    Arity-split BasicSocket#send and UDPSocket#send.

commit b30b46a32526f37c0b4951ceeea16eb51b2df9d0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 7 21:19:14 2012 -0600

    Don't use JRubyClassLoader for loading built-in fiber logic.

commit 559fceb3342eb7a739de55d24332031f5060179e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 7 13:54:36 2012 -0600

    Add nonstandard jruby/fiber and jruby/fiber_ext for 1.8 mode Fiber.

commit ce2282e2f6b62af492c425164027a3a6d28dcb66
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 6 16:38:55 2012 -0600

    Fix JRUBY-6527
    
    Socket#connect_nonblock raises Errno::EINPROGRESS, but MRI raises IO::WaitWritable
    
    This is just another case where MRI mixes WaitWritable into an
    errno exception at runtime, so I added another subclass that does
    it ahead of time and construct that in 1.9 mode.

commit 030284a28c6474e216c8b24f5df5d276c298d3a5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Mar 4 09:48:39 2012 -0600

    Remaining fixes for JRUBY-6523.

commit c22ad06a7331f51b97fa55db297e6653c10b6f24
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 28 21:19:12 2012 -0600

    More IR-to-JVM work.
    
    * Symbols load and bind permanently...DONE
    * Instance var get/set working via slow path logic
    * invokeSelf binds directly (but permanently) when possible
    * Reflective invoke of __script__ unwraps InvocationTargetException

commit a8c30d74a587af4372cf757e4576b47269f06826
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Feb 19 14:05:03 2012 -0600

    Use lightweight errnos for the readable and writable EAGAIN too.

commit cb777c23ff945a4454ef9edca2bb73fcdb829781
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Feb 15 15:50:52 2012 -0600

    Partial fix for JRUBY-6442
    
    TCPSocket#write_nonblock blocks
    
    Only selectable Java channels can be set nonblocking, so this
    patch only improves situations for selectable channels. Others
    will still just do a blocking write, as before. This patch does at
    least get sockets and other selectables to actually do write_nonblock
    close to how it's supposed to be done.
    
    Better fix will come with 1.7 IO refactoring, though the non-
    selectable channels will still be an issue.

commit f7c1ffd93f34cef816168f36f5fe4f960a9ac2e2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Feb 15 12:24:28 2012 -0600

    Additional tweaks for JRUBY-6456
    
    * execRecursiveOuter is always outermost, so add finally logic there
    * Add explicit check for recursiveListOperation in execRecursive

commit 8f2ba4214eb070a83951aef1f143ebf6ebcecce4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Feb 15 11:16:21 2012 -0600

    Fix JRUBY-6456
    
    ThreadLocal Leak in 1.9 Mode w/ Internal Recursive Map
    
    Our code was a direct port of MRI's, and they seem to have the
    same issue: no logic clears out the threadlocal map once the
    recursive walk is complete. I added an outermost method called
    recursiveListOperation that should always be used to wrap the
    execRecursive* calls.

commit a75ddbea79e231d51b07bfdfa5d35030ac256b6e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Feb 15 02:24:36 2012 -0600

    Additional fixes for JRUBY-6434
    
    * Make sprintf pass hash through without wrapping in array
    * Fix totally broken KeyError logic
    * Handle %<foo><bar> ArgumentError like MRI
    * Mask more logic behind is1_9 check
    * Remove exclude for MRI TestSprintf#test_named

commit ff481bf0f489ed4b6ce90dd533f1cb3eb62d2510
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 13 12:57:04 2012 -0600

    Fix JRUBY-6434
    
    sprintf does not support name references, like sprintf('%<xyz>s', :xyz => 'abc')
    
    * Added %<foo> support to Sprintf
    * Moved %{foo} support from Ruby kernel to Sprintf, since it was
    incorrectly matching %<foo> stuff (and was brittle anyway)

commit 1922f2e888a7a059937b6d1c9a09a0786c3adc04
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 24 19:22:52 2012 -0600

    IR-to-JVM backend refactoring.
    
    * Move compilation snippits into instructions
    * Add argument to enable IR-to-JVM backend using -X+CIR
    * Modifications and tweaks to get simple code working again

commit 36d3e03bd254f1006f5d1dff6de3a406bbadb6d4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jan 9 02:44:43 2012 -0600

    Modify StaticScope factories to provide a dummy scope for unscoped constructs.

commit 05bfbf49427bc31ccbae4b833bed58a0ccd31225
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 7 01:49:43 2012 -0600

    Use more direct classloader path for loading Ruby parts of JRuby.

commit f007944b459e7c5e33b8296433d8b9d704bf02cc
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Wed Dec 7 13:36:13 2011 +0900

    [SECURITY] Random String#hash to avoid DoS attack
    
    This is the fix for CVE-2011-4838.
    
    Randomize String#hash (in Ruby world) and internal RubyString#hashCode()
    (in Java world) for 'Denial of Service via Algorithmic Complexity
    Attacks' explained in [1].  Introduce the runtime-local seed for hash
    randomization which is set at runtime initialization and use it as the
    seed for MurmurHash 2.0 [2].  MurmurHash is used in CRuby 1.9 and it
    should make the attacks difficult. (Assuming that no reverse function
    has been found for MurmurHash 2.0)
    
    Credit to Alexander Klink <alexander.klink@nruns.com> and
    Julian Waelde <jwaelde@cdc.informatik.tu-darmstadt.de> for reporting
    this issue.
    
    [1] http://www.cs.rice.edu/~scrosby/hash/CrosbyWallach_UsenixSec2003.pdf
    [2] http://sites.google.com/site/murmurhash/

commit d8fabe6bf07fd4ab0743ca26c45fd8f7491cef4c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 27 15:17:40 2011 -0600

    SystemStackError < Exception in 1.9.

commit ea0eed02b4eb57c2198afa9fd47f94bc46cfc69f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 21 13:44:31 2011 -0600

    Add -G/--gemfile option because why the hell not.

commit f907bcd072c5c574ab60347fa2c1caff7e44eb99
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Dec 19 01:13:09 2011 -0600

    Ensure globals are volatile.

commit 7dc2dc6b2e2bcaa1dee830101433653753bd6712
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Dec 19 00:56:58 2011 -0600

    Minor doco fixes for intellij and SAFE-mode unsupportedness.

commit 0a1ed62c94ef3c07d28932d7e99434b56d2c35be
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 14 17:02:00 2011 -0600

    Get MRI's tests running in JRuby's test suite.
    
    * Get minitest/excludes.rb in for minitest exclude support
    * Update test/externals/ruby1.9/*
    * Fixes to get tests running:
    ** Add dummy "continuation" library
    ** Add dummy "io/nonblock" library
    ** Fixes to Psych{Parser,Emitter} for recent changes to Psych proper
    ** Be more permissive on constant names, to allow encodings
    * Update externals for previously unexcluded failures

commit 77cb0737749b13ee3054773ae7322fc02b850d70
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Dec 13 14:04:05 2011 -0600

    IR: The few mandatory core classes have a new home in IRManager (which can be used to stuff other IR global data

commit 793df3a18a34f9515d6ae509c7adaf89a9fb4a71
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 8 17:07:20 2011 -0600

    Move builtin/* built-in .rb files to jruby/ and refactor javasupport files.

commit 9d35334661eecd50c73540a15b0557c4ff325493
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 22 14:28:44 2011 -0600

    In 1.9 mode, -r redispatches to topself require to pick up RubyGems.

commit 2a2b0717ce415a40a12190481f8d1f6a5e6e82f1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 16 10:05:56 2011 -0600

    Fix JRUBY-6214: Dir#rmdir raises improper exception if directory is not empty.
    
    * Added proper sequence of checks to always raise the more-specific error.
    * Cleaned up some related logic.

commit 4a8330815c3e6fc5407b424312fd7d65518203fc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 26 10:10:14 2011 -0500

    Cleanup and centralize all property-based configuration settings.
    
    Properties for JRuby are now all in one location, combined with information
    on valid options, defaults, and description. All properties going forward
    should follow the same format, to ensure they're documented in the jruby
    --properties output.
    
    I have added to this new form all properties I thought were interesting to
    expose. There are a few still hidden that may be deleted soon.
    
    I also removed some long-defunct properties and removed unused code that related
    to them.

commit e62f60123f19361a1460d87e15b91f912e359cfe
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 25 10:06:28 2011 -0500

    Use normal LoadService.load for booting Ruby kernel, so security manager doesn't complain.

commit 30b9d8dad3e259b29df5c7b230805181fbbac50a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 23 20:52:57 2011 -0500

    Move Signal into Ruby kernel.

commit 2e0751028e75ca58da9127c86507bbbb0b6b9bc0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 23 20:04:06 2011 -0500

    Move builtin/kernel* stuff to jruby/kernel*.

commit a3f5c0bddb6a131f9ac895aca73beb06750ae5b7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 23 19:50:46 2011 -0500

    More restructuring of Ruby-based "kernel" files.

commit e5b2462ae2102247aa72d479b9b69a6580f8f67e
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Tue Oct 18 12:26:12 2011 -0500

    [IR] Backed out some bad eval fixes; create a new IREvalScript scope to
    handle evals; fixed some bad IR that implicitly assumed static lexical
    information (which doesn't hold true under eval and friends)

commit 74d3a1cbaf1a8f23a6384aab125350e0e58889e0
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Mon Oct 17 18:06:45 2011 -0500

    [IR] Fixed up scope handshaking to let all evals go through the
    IR interpreter -- we now have additional spec failures introduced
    by eval and binding failures.

commit 3c70e35a71fdf5533111faaf08f92fc05bfb0b21
Author: Ben Browning <bbrownin@redhat.com>
Date:   Thu Oct 13 16:36:31 2011 -0400

    Remove fileno map entries when closing a RubyIO (JRUBY-6137)
    
    We only remove the entry from filenoIntExtMap since that's the only one
    that grows indefinitely as new RubyIOs are created for STDIO streams.
    
    Signed-off-by: Hiro Asari <asari.ruby@gmail.com>

commit f592cbbfae1186c42fb9e0545e2d9c394e73312f
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Oct 10 16:42:24 2011 -0500

    Use factory for standing up static scopes

commit 4807459e7a2458de246cb41104075c10c5d0fafb
Author: Subramanya Sastry <sss.lists@gmail.com>
Date:   Mon Sep 26 13:54:42 2011 -0500

    * Added allocation methods to StaticScope to allocate the appropriate
      static scopes and protected LocalStaticScope, BlockStaticScope and
      EvalStaticScope constructors.  This will now let us allocate
      IR-specific static scopes that IR execution requires.
    * Also added isBlockScope test on StaticScope to eliminate instanceof
      tests against BlockStaticScope and LocalStaticScope.
    * Hand-patched auto-generated files Ruby19Parser.java and
      DynamicScope.java.

commit 5ac18309ddb0465f81df37407deb9ae34a7d9e01
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 19 23:02:37 2011 -0500

    By popular demand, add optional colorization to console backtrace output.

commit a42b021c5f3fcfc318c2524c8de83b9129e0c0e8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 15 12:19:06 2011 -0500

    Fixes for test-all.
    
    * Allow fallback to stdout logging when security policy prevents java.util.logging
    * Move RubyRandom's SecureRandom to Ruby.java, so it is per-runtime and can be wrapped with a security fallback to Random.
    * Disable debug logging by default in StandardErrorLogger.

commit d9c84782df3a5aafa0de2c979d3b301e051a4c5f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Sep 14 01:28:15 2011 -0500

    Refactor RubyInstanceConfig.
    
    * Reorganize contents into functional groups a bit.
    * Pull out argument processing into a top-level class.
    * Pull out command-line printing strings into a top-level class.
    * Add settings for many fields missing them.
    * Prepare for moving static configs into instance configs.

commit 122f676c9b1ab34ab42d207af224a223e238a097
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 13 23:40:41 2011 -0500

    Fix a test failure and move native/cext enabled flags to per-runtime (per-config).

commit f804c1070fd01c308ee84c8baa4c949113f868e4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 13 16:17:30 2011 -0500

    Provide a finer-grained switch for turning off *just* C extensions.

commit de1ce82a88cf9fd8c79a32e08dd193e7def4a89b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:42:03 2011 -0500

    Get Enumerator and generator_internal loading properly in 1.9 mode.

commit 3bfe13752009a78e2d4018a16ecdc42c82bf1900
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:32:49 2011 -0500

    Move net/protocol extension under org.jruby.ext.net.protocol

commit 09f5fc3211be17a39722500f77269d048782c05a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:30:28 2011 -0500

    Fix package for 'fiber' library.

commit 9dc5bf25e6e783a1ec7283c113bf28240ff4be23
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:29:50 2011 -0500

    Move 'fcntl' library under org.jruby.ext.fcntl.

commit 52ed5a5cc20853f397ab05ce4b9ec6bbeded3f32
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:28:59 2011 -0500

    Move 'tempfile' library under org.jruby.ext.tempfile.

commit c49e01228d1cad6467b8860d56d57676bcf8d722
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:28:00 2011 -0500

    Move 'jruby/serialization' library under org.jruby.ext.jruby

commit 17b117bcfe17ebf63a02e68b37a94d07c6d5bd06
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:25:59 2011 -0500

    Move 'rbconfig' library under org.jruby.ext.rbconfig.

commit 7437da7db8f57a45cafd7296a4cb52d9aa470f31
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:24:37 2011 -0500

    Move 'timeout' library under org.jruby.ext.timeout.

commit c18fbe43dd04a7fda3f80541ce109830f606125f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:23:19 2011 -0500

    Move 'delegate' library under org.jruby.ext.delegate.

commit 3998959450e02de4152a99422af21cb3f096d69a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:21:43 2011 -0500

    Move 'weakref' library under org.jruby.ext.weakref.

commit 960e7f23665d34662804d376bacf09c56e4d6683
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:19:50 2011 -0500

    Move 'etc' library under org.jruby.ext.etc.

commit ab245028172bf7dacfce7adafd430aa0bb4279eb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:18:15 2011 -0500

    Move 'io/wait' bits under org.jruby.ext.io.wait.

commit 96bb3e5651d4c326403448e066a6c0f8eee32551
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:16:28 2011 -0500

    Move 'bigdecimal' bits under org.jruby.ext.bigdecimal.

commit 8b9fdd2694366fce183de9060de0c797aefedc6f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:12:02 2011 -0500

    Move 'digest' and related libraries under org.jruby.ext.digest.

commit ef5691852cbdb1b25b5a669b29a81da33d96134f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:05:30 2011 -0500

    Move 'thread' library bits under org.jruby.ext.thread and move inner classes out.

commit d774fa989e76d19fa8a8714df5cc4e37cabca825
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 14:58:50 2011 -0500

    Move backward-compat 'enumerator' lib under org.jruby.ext.enumerator and define Enumerator unconditionally (a la 1.8.7).

commit ebeb2a481d5f69a0f3ef0a15031e99b05198c48a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 14:47:35 2011 -0500

    Move strscan bits under org.jruby.ext.strscan.

commit b683ba9f75b6997eba847963954f369818bbfd93
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 14:44:30 2011 -0500

    Move stringio bits under org.jruby.ext.stringio

commit 4d7b234941915f070eff5c295fd4136c5d37b2b5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 14:40:08 2011 -0500

    Move iconv bits under org.jruby.ext.iconv.

commit bc21084cee97805c1083d69774914f1f7ab47975
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 14:37:57 2011 -0500

    Move zlib bits under org.jruby.ext.zlib.

commit 89ddd68295c5cf0c4422ec72ed4076dfa83a8e85
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 13:53:53 2011 -0500

    Fix lazy-loaded nkf library.

commit 0f7c9ce8261d46ebfb7ef6e17e7da2f86f5d5ba5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 12:48:51 2011 -0500

    Update to ASM 4.0 RC2 and master builds of jnr-{ffi,posix,constants,netdb}.
    
    Squashed commit of the following:
    
    commit ce02afcf40ede2c485ab357435866ce754cd2671
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 12 12:46:44 2011 -0500
    
        Fix group id for jnr-posix and version numbers for modified libs.
    
    commit 0b5632be85dce5500c35d3533fa5d7cd240bf515
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 12 12:39:24 2011 -0500
    
        Fixes to get ASM 4.0 RC2 passing tests.
    
        * Update jnr-* to master versions, since some depend on ASM and had to be updated too.
        * Fix ASM-related errors due to new class hierarchy.
        * fix skinnymethodadapter_spec to use new h_ prefix for handles and to filter "asm" constants.
    
    commit 4ac391fb3bf2f53dd42f8e4c5f3a0e36ca638e1b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 12 10:35:08 2011 -0500
    
        Remaining tweaks to get jruby compiling with ASM 4.0 RC2.
    
    commit 3801518505d0d38bf045a39fd8ca6eb80ef50126
    Author: Douglas Campos <qmx@qmx.me>
    Date:   Mon Sep 12 00:21:54 2011 -0300
    
        updated InvokeDynamicSupport
    
    commit 2aabc1894d38b717cca2b4546f51596b8b03db6e
    Author: Douglas Campos <qmx@qmx.me>
    Date:   Sun Sep 11 12:43:39 2011 -0300
    
        updating asm version

commit ee230a06592107a72cf86dce4d097c2e8aeb430f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 1 14:39:14 2011 -0500

    Move RubyJRuby out of org.jruby package, into ext subdir, and restructure.

commit f96764ac9db5a8e8b5673bae2972e23f2b37dfac
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 1 14:23:52 2011 -0500

    Move jruby/core_ext to Ruby.

commit c6ec5898c568cb6d40f26b3fdead595372fdf24c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 1 13:14:44 2011 -0500

    Move jruby/ext extension to Ruby code.

commit e6c371fb89e3f848645eb140769d58d427a0fe49
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 31 20:13:32 2011 -0500

    Move parts of RubyJRuby (the "JRuby" module) into Ruby code.

commit d0aef726ee440417321a2914a91c2d42fe458a05
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 31 18:14:20 2011 -0500

    Beginning of full Serializable support for RubyBasicObject hierarchy.

commit bc3b77fdf3b4bb2b1ed533f09d9d74bfd7435a7d
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Aug 30 14:42:37 2011 -0500

    We have paths calling newNameError with an explicit null origException.  Block out NPE in logging

commit af4a3d19d5fdbd0acbe053aa9e9f5039f468b5b5
Author: Tobias Crawley <tcrawley@gmail.com>
Date:   Wed Aug 24 17:30:02 2011 -0400

    Fully unregister the instance mbean [JRUBY-6019]

commit 0abdd839c17e79d479b06fbd0207e6143add0656
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 24 02:13:41 2011 -0500

    Refactor Fiber support into threaded and coroutine-based.

commit 73fb055101190bc54c3f4f69e81d10a31b7b3207
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Wed Aug 24 15:47:34 2011 +0900

    EADDRINUSE/EADDRNOTAVAIL for TCPSocket as well as TCPServer
    
    Extract BindException handling code for EADDRINUSE / EADDRNOTAVAIL from
    RubyTCPServer and let RubyTCPSocket use it.

commit 6bf8b2cd8c4c8df88c49334b44a4f6cb8d94ceea
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Aug 16 23:48:12 2011 -0500

    Add support for Ruby 1.9.2's "coverage" extension.

commit 08c38b4ebe8d68124b532ca58d94115f29fd5690
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Tue Aug 2 11:18:02 2011 +0900

    JRUBY-4717: Import digest.rb from CRuby stdlib.
    
    I broke digest lib for 1.8 at 51bf9d9f and Nick fixed it at 288ef4ae.
    And this is a new try for re-fixing digest library for JRUBY-4717.
    
     * Update tool/globals_1_8_7.rb to import digest.rb for 1.8 as same as
       1.9.
     * Remove Java implementation of Digest.const_missing. It's defined in
       lib/digest.rb for both 1.8 and 1.9.
     * Revert 288ef1ae. It does not mean that 288ef4ae is wrong. It's
       51bf9d9f which should be fixed and needs above fixes. 288ef4ae was
       needed.
    
    With importing lib/digest.rb for 1.8 mode, Digest function start working
    for 1.8 as same as CRuby.
    
    % ruby187 -rdigest -e 'p Digest("SHA2")'
    Digest::SHA2
    
    % jruby -rdigest -e 'p Digest("SHA2")'
    Digest::SHA2
    
    % jruby163 -rdigest -e 'p Digest("SHA2")'
    NoMethodError: undefined method `Digest' for main:Object
      (root) at -e:1

commit 288ef4ae93e8e352bce8c69d5ccc9098dd262e4e
Author: Nick Sieger <nick@nicksieger.com>
Date:   Mon Aug 1 11:56:36 2011 -0500

    JRUBY 4717: Revert to previous digest loading scheme for 1.8 mode.

commit 51bf9d9f64452c00278ffa537f888084efe09741
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Mon Aug 1 22:51:29 2011 +0900

    Fix JRUBY-4717: implement new digest methods.
    
    Use method-definitions in lib/ruby/1.9/digest.rb instead of our native
    implementation in RubyDigest.java.
    
    This commit causes 5 failures in ant spec (see [5 failures] below), but
    it's from;
     - JRUBY-4033 (IO.sysopen can't handle directories) and
     - JRUBY-4082 (File.open(dir) raises Errno::EACCESS)
    so I left it as-is for now. This patch solves 5 failures but we should
    solve JRUBY-4033 first.

commit f31ddd479011c67f14efaad9733bc16a24b877d4
Merge: eef82e7 72ce56a
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Thu Jul 28 13:02:53 2011 +0900

    Merge branch 'master' into autoload-threadsafe

commit d2c413cdf6ad039a079a7c55d3c4989ec7c5e6c7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 13 03:56:46 2011 -0500

    Cleanups and build fixes for org.jruby.util.log changes.

commit 43f7ec512ca712cd34b74e2428a18cfa5c4453e2
Author: Douglas Campos <qmx@qmx.me>
Date:   Wed Jul 13 04:10:30 2011 -0300

    using jruby's log wrapper

commit bda45ebef7a15ba38858ad0ad4a7a7b7ec236f19
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 12 14:56:25 2011 -0500

    Cleanup a few more println in Ruby, all println in JITCompiler.

commit 052be0aec68fb78201d83be51db0e6e7a95d63c7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 12 14:27:38 2011 -0500

    More cleanup and use of slf4j
    
    * Use shorter names for loggers; package + class is too long
    * Replace println logging in InvokeDynamicSupport
    * Switch to "simple" backend by default, less verbose than jdk14
    * Update maven poms

commit c7617101eb6977d4c46690f13d5aeb188001344d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 12 13:43:32 2011 -0500

    Clean up slf4j build bits, eliminate ivy use (felt weird), fix NB project.

commit a9c529866334dc0363b55134ee4664ebd37c44b7
Author: Antoine Toulme <antoine@lunar-ocean.com>
Date:   Fri Jun 3 09:49:24 2011 -0700

    add slf4j and draft use of Logger

commit e321f6b32a0e451b6e5d945bc9e81234ac85f444
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 11 10:33:00 2011 -0500

    Fix deprecation warning on Script.load and propagate 'wrap' in more places.

commit 6f159fe5dd51c062a5b1aab64a8ede916990877a
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Mon Jul 11 03:36:17 2011 +0900

    Deprecation of fast constant access paths.
    
    Each os those has the same definition as non-fast verision.

commit 36dd3a0424ec9789a402a60d6262fff7c7a59c75
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 10 01:45:11 2011 -0500

    Fix JRUBY-4339: Kernel.load with wrap=true does not protect the global namespace of calling program
    
    * We were not wrapping the script's scope with an anonymous module.

commit 9fd4ada22e3f3f3ac94f65276c73c0b455765edb
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Mon Jul 4 23:01:30 2011 +1000

    Replace usage of com.kenai.constantine with jnr.constants

commit 7588393ca5bfeba6182b87b8b47669ecab2fe403
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jun 9 10:02:23 2011 -0500

    Fix compilation issues under OpenJDK 7 after b142 with primitive + varargs now resolving as ambiguous.

commit 28414b798c52fe21e1b838c35d5c4da1fa4ecdd4
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Jun 7 16:56:04 2011 -0500

    Fully implement Fiber.current and Fiber#transfer
    
    Fixes JRUBY-5842 and eliminates the majority of fiber-related rubyspec tags.

commit 81346bf1b1ee032afb0c8ba05161d4a599139c64
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jun 7 09:07:43 2011 -0500

    Reinstate RubyClass overload for newTypeError, avoiding error-prone polymorphic overload chaining.

commit a51e4b44b95cea661dcda0156fa111c248fb7272
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Jun 7 08:49:53 2011 -0500

    Remove self-calling, infinite-recursing method

commit f6e63343f69e0b359c6227e9369aea3f12a569d5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jun 6 13:33:17 2011 -0500

    Some convenience signatures for newTypeError.

commit c2ab051060e47340eb61c44036bc4512ef4c07ed
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 26 21:18:23 2011 -0500

    Centralize construction of invokedynamic-related niblets and start adding properties for individual invokedynamic features.

commit 0b67eb4f6961aae9933fde9b6b9578f8f081ce14
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 24 17:17:52 2011 -0500

    Add Rubinius::ByteArray (reverse and utf8_char missing right now).

commit 5990281dff83e5f35624dd1ad8f4e7cd2c055085
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 24 16:01:57 2011 -0500

    Merge in several Rubinius-specific modules and load all Rubinius-specific core classes/modifications on require 'rubinius'.

commit 64ed70abac38ff52de9974e3eacee84bba3e7d2c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 19 15:27:41 2011 -0500

    Oops, make constant invalidation actually invalidate the cache properly.

commit 90be178c96053d201ea2a869bda7feddeedcfa10
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 19 12:49:26 2011 -0500

    Use invokedynamic for constant lookup; SwitchPoint invalidation replaces constant generation guard.

commit 78dc4c19ae69f31bbb3c4e4b36048e85aa199d51
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Thu May 19 16:02:30 2011 +0900

    JRUBY-5786: Fix SelectorPool file descriptor leak
    
    Close all selectors in SelectorPool explicitly at Ruby runtime termination.
    
    We need to call java.nio.channel.Selector#close() for freeing internal
    resource(s). For example, Selector implementation of Hotspot JVM for Linux
    uses 2 file descriptors(fd) per 1 instance and close() is the only way to
    release these fds.
    
    We kept soft-referenced selectors in a pool and let GC collect it. Since
    Selector does not have a finalizer 2 fds per each selector leaked after
    Ruby runtime was terminated, and creating many Ruby runtimes eventually
    caused 'Too many open files' error.
    
    Number of selectors in SelectorPool (== number of leaked fds after a runtime
    terminated) depends on numbers of maximum *concurrent* select operations
    in the runtime. It should not grow so much but we might need to release
    spare selectors while running in the future.

commit 447793c4478a23558d434ef4e5421d4c15fc42ef
Merge: 0f31de0 6d28d8e
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Wed May 11 23:30:14 2011 +0000

    Merge branch 'require_protection'

commit 8c6dba0f8734a1bd12eb155036a6eba8e6d15f3e
Merge: 7837c84 fd957a1
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Wed May 11 12:26:08 2011 +0000

    Merge branch 'MersenneTwister'
    
    Conflicts:
    	src/org/jruby/Ruby.java
    	src/org/jruby/RubyArray.java
    	src/org/jruby/RubyRandom.java
    	src/org/jruby/util/TypeConverter.java

commit 5557645bb736286665103276f5c83eeea6822b96
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Mon May 9 23:45:02 2011 +0900

    Make LoadService#smartLoad() @Deprecated.
    
    smartLoad() doesn't take a lock for required file. To avoid threading +
    require issue, marked it @Deprecated.

commit 1a1864332f246cca9eaa6ea7f6959bf4f713850b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 13 17:44:23 2011 -0500

    Fix JRUBY-5674: Cannot override Fixnum operators
    
    * Enable "reopening" checks for Fixnum and Float in fast operator paths.
    * TODO: lighten the checks somehow, or invalidate fast operator call sites actively.

commit 957e62d5a7587e583dfeb1ba97edab7fd448ae49
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 5 14:41:04 2011 -0500

    Fix JRUBY-5694: DATA points to wrong file
    
    * We were setting up DATA for every file loaded.

commit ff1ec4932a80fd781021ea29fa4dd4d5b815d4c3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 24 22:45:45 2011 -0500

    Fixes and support code for JRUBY-5596: Improve Dalli IO performance
    
    * Disable backtrace generation for EAGAIN, which is usually used to retry a nonblocking read.
    * Provide a flag to force all Errno (EAGAIN specifically) to generate traces (for debugging).
    * Add a Runtime MBean to monitor exception counts, backtrace counts, and caller counts.

commit 43422df208abbeddec80c6492af80cdb88b8936c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 14 19:32:54 2011 -0500

    Fix JRUBY-5583: Profiling should not bomb out trying to find method name
    
    Two fixes, but I'm going to leave the bug open to try to determine why a method was missing from the profile table:
    
    * Make profiling table growth synchronized, for cases where methods are being defined across threads
    * If a method can't be found at display time, replace it with "<unknown>". This should not happen.

commit 3e27e54534290bfa2b220ff1c1ddf9ff65448f7c
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Feb 22 08:59:32 2011 -0600

    JRUBY-5525: Ensure encoding service is set up in both 1.8 and 1.9 modes
    
    Move OSEnvironment to org.jruby.util and deprecate single-class
    org.jruby.environment package.

commit 15832d3b4dc4f4023b40b710db43f66ce9d0a2b7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Feb 17 14:46:38 2011 -0600

    Fix JRUBY-5514: Errno::EBADF is sometimes raised instead of IOError when TCPSocket#readline is called after TCPSocket#close
    
    The problem here is that under real concurrency, EBADF or equivalent are perfectly valid to see. Eventually you have to make a low-level IO call, and under concurrent load that could happen just slightly after another thread calls #close. There's little we can do to eliminate EBADF, but I have cleaned up some paths that raised it unnecessarily and others that raised EPIPE when they should not.
    
    I also cleaned up several places that could cause a NullPointerException when under concurrent load, because a stream gets nulled out after it has already been checked for non-nullness.

commit 24af14859c6adb14c52be3d5b4a9c6c2c1d12dee
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Feb 16 16:25:44 2011 -0600

    Fix JRUBY-4433: [windows] Writing to a pipe with closed source raises wrong exception
    
    * Use the IOException's message (different on Windows) to know what to raise.
    * Patch from Luca Simone.

commit 7c7ecc5cdb0748b4353243fe7fc34b179ee6d7f7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 15 19:57:53 2011 -0600

    Fix JRUBY-5463: Process.getpriority should raise an error with an invalid process type
    
    * Wrapped most posix calls in RubyProcess with errno checking logic.

commit 527be7924f6507d012871a16617f0923396c0e2e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 15 18:17:14 2011 -0600

    Fix JRUBY-5471: private method `verify_mode=' called with Bundler, net/https, jruby-openssl and RubyGems 1.5
    
    The problem here was that the extension loaded with the requirer's frame stil present on the stack. If the requirer had set visibility to "private", frame-sensitive methods like attr_accessor would use that for the method visibility. In MRI, extensions are most likely given a fresh frame in which to execute. We did not see this before because most core JRuby methods used to be framed (like Kernel.require) and so extensions implicitly got a clean environment.
    
    The update to RubyGems probably exposed this bug (likely present in RC1 as well) by setting OpenSSL attributes where it had not done so before.
    
    The fix is to push a fresh frame before loading extensions, so they execute in a clean environment with public visibility default.

commit 597a16d05d31de1aff150f26a087fe3a30c503ec
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 15 13:25:09 2011 -0600

    For JRUBY-5504: Improve default backtraces
    
    * New exception format for exceptions propagated all the way out
    * Refactored TraceType into Gather and Format phases
    * Trace type is per-runtime now
    * New backtrace style "mri" for old C Ruby format

commit fd957a1956a032be89bd4b309f3c0f2d7f0b6272
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Thu Feb 10 00:28:16 2011 +0900

    Array method cleanups which uses PRNG
    
     - Remove Array#choice in 1.9 mode. CRuby 1.9.* does not have it.
     - Remove unused random and randomSeed property of runtime.
     - Add randomClass property to runtime. I once removed it in
       MersenneTwister branch. My bad.
     - Add RubyRandom.randomReal for rb_random_real impl.
     - Update Array#shuffle and Array#sample with MersenneTwister.

commit 3d4720af9819a1aca64c5ebe71c3c41d3d903f31
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 8 21:24:19 2011 -0600

    [1.9] Switch to a pure-Ruby implementation of Fiddle (atop FFI)

commit 663dd69f2a80ad49ca186948c4ea1cc01aa89b30
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 8 15:48:17 2011 -0600

    [1.9] Partial implementation of Fiddle atop JFFI.

commit de43a3b79d9574a99a8ded07d65710a1c0813e7c
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Tue Feb 8 15:23:42 2011 +0900

    [1.8] Adopt Mersenne Twister PRNG.
    
     - Remove randomClass from org.jruby.Ruby and add defaultRand instead.
       It's for interpreter global PRNG.
     - Remove Kernel.srand and Kernel.rand impl from org.jruby.RubyKernel
       and let it delegate to impls in RubyRandom.
     - Implement Random class with Mersenne Twister PRNG. (it locates in
       org.jruby.util.Random) Fully rewritten, but half of functions are not
       yet used since I only tested 1.8 mode.
     - It passes test/test_rand.rb in CRuby 1.8 and ant spec:ci_18.
    
    CAUTION: It doesn't work under --1.9 mode now. It will be fixed shortly.

commit 23a1f3d2c1232f4ac5ead6ea0000ed685d08dda5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 7 16:49:29 2011 -0600

    Fix for JRUBY-5153: File system access not checked by JVM security manager
    
    * Warn if loading from boot classpath and a security manager is installed

commit 6dc571876ebf0f4210812f49d8a418e24141a17d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 7 15:50:08 2011 -0600

    Clean up logic for ^C profile dumping to reflect changes to profile API.

commit f18d84ab6d68bdc42372f2a8f99acfb6bd1d0354
Author: Douglas Campos <qmx@qmx.me>
Date:   Wed Jan 19 02:55:37 2011 -0200

    profiler should dump all profile info on SIGINT (^C)
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit 5f8bfc2ce908349fee11f6c14b2535fff1e3e968
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 27 01:29:52 2011 -0600

    Fix JRUBY-5346: jruby 1.6.0.RC1 doesn't recognize multibyte strings in 1.9 branch
    
    * inline scripts should assume locale's encoding in 1.9 mode.

commit 6c1d41aedfde705c969abf10cf5384e2be69f10a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 27 01:13:30 2011 -0600

    Partial fix for JRUBY-5352: Eliminate yecht.jar entirely, so that YAML can be loaded without nested jars
    
    * Move yecht.jar into build lib and stuff its contents into jruby[-complete].jar
    * Add a lazy loading library to Ruby.java for YechtService
    * Modify yaml files to load newly-located library

commit 04ce8b7d9d93135fcf274389be392875a5b2d8cb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 25 18:19:09 2011 -0600

    Fix JRUBY-5356: --profile.graph sometimes shows wrong methods
    
    * Only use the first name encountered for a given method serial, since aliases/etc will re-use them.

commit 406556bd3b7f6a92a3af7b9ba96bf872388b5376
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jan 24 16:36:05 2011 -0600

    Fix JRUBY-5417: Nil backtrace when overriding method_missing and calling super
    
    Ok, the problem here is that with the "backtrace" branch work, it became a requirement that RaiseException must have its preRaise method called before getting thrown, so it would generate the Java backtrace. This matched Ruby semantics for Exception.new/raise lifecycle, but put the onus on Java-land exception creators to just know they had to make that call. In practice, nobody knows that, and even in JRuby several extensions were still not preRaise'ing.
    
    This particular case was caused by a separate logical path for method_missing fired in the "super" case. That path did not preRaise.
    
    I've decided to just force the preRaise call into the RaiseException constructors, so it is guaranteed to be there. This passes all tests and specs, and will fix this error plus many others as yet unreported. It also still mostly matches the Ruby lifecycle, since Exception.new does not create a RaiseException in Java...that doesn't happen until raise is actually called anyway.

commit e275d67fd77c27fa95300a581e3c23b7260a0b7a
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Jan 20 16:19:38 2011 -0600

    Make default_external encoding be set based on locale and fall back to ascii-8bit like MRI if none can be found

commit dd5c7e15cf58c9c5ad6dcce0b5aaa4336b03f88e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 18 23:35:22 2011 -0600

    Move main thread profile dumping into Ruby.tearDown, so it picks up at_exit and friends.
    
    * RSpec 2.4 appears to run everything in an at_exit hook (???)

commit 19aa6381eccddced3b65aa65541c97e54e0969ad
Author: Daniel Lucraft <dan@fluentradical.com>
Date:   Sat Jan 15 15:05:33 2011 +0000

    Profiler output goes to stderr by default

commit f0c217b6f0e3d9d23dc0215ce51604ad3d039627
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 14 19:51:07 2011 -0600

    Fix JRUBY-5326: [1.9] Java error in Psych when running "gem build" command
    
    Problem here was that our lib/ruby/1.9 YAML files were still the 1.8 versions. After
    I swapped them out, the next problem was that they default to using the "syck" extension.
    Making them load "yecht" instead did not appear to completely work, so instead I took
    the controversial route, enabling psych by default.
    
    We'll see how it goes in RC. We can always fall back on yecht if we need to.
    
    * Get 1.9 yaml libs to match 1.9
    * Move yaml libs out of builtin
    * Use Psych by default for 1.9 yaml

commit 20ff6278cc74d368d58276e00804c9f8c445ec1a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 13 18:43:11 2011 -0600

    Fix JRUBY-5322: NPE forcing to compile a script
    
    * Refactor backtrace style into TraceType enum
    * Move raw/full/ruby backtrace-gathering logic into TraceType
    * Move MRI/Rubinus backtrace-printing logic into TraceType
    * Fix Main toplevel exception handling to print using TraceType
    * Fix force-compile errors to render better and fire correctly for top-level scripts
    * Fix failed script compile to bail out, rather than NPE
    * Refactor Main into cleaner pieces

commit 1750cc385c9de20a04c0420ade0ac69bd114af3f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 9 21:00:54 2011 -0600

    [1.9] Add --disable-gems flag.

commit e1765fa81d9b54381f1bb594df4ba616400533f4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 9 19:33:19 2011 -0600

    [1.9] Kill gem_prelude, just load RubyGems at startup.

commit 139c1ccd163e396c7ca7774b9ce269e3795077ba
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Fri Jan 7 15:36:23 2011 -0600

    DefaultExternal internally should be set sooner than later. RubyIO should just use Encoding objects and binmode should convert from US-ASCII to ASCII-8bit

commit e342875cbe714dc8c82a7c95ff419c0dcb1e412f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 7 13:22:20 2011 -0600

    Ok, maybe that wasn't such a good idea.

commit 6fb76a48b600541a2be2b1ab75ad4313815b0bd9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 7 13:14:39 2011 -0600

    [1.9] Fix ArgsPush in compiler.
    
    * "first" target array needs to dup().

commit f99dbc122b3152cb0c2a713db3a030087cec317d
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Jan 5 15:20:16 2011 -0600

    Support -U and -E flags

commit 9995c7e26747d4247e150aec6551fd7e72056198
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Jan 5 14:20:48 2011 -0600

    Swallow JDBC unloader exceptions, dumping them to stdout if using -d.

commit 8e196532220925181e0af3e4b2f65844b6038a79
Merge: 7b96984 3d95a53
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 4 05:15:04 2011 -0600

    Merge branch 'master' into profiling

commit 11440c3aef65e6540bda1453aeb349193d8fe56b
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Jan 3 13:02:14 2011 -0600

    regexp in 1.9 will throw error during parse

commit 325dc46cbcfa290fbaff37eea25f5ad78010f038
Author: Nick Sieger <nick@nicksieger.com>
Date:   Mon Jan 3 09:44:44 2011 -0600

    JRUBY-4226: Unload JDBC drivers loaded into the JRuby classloader at runtime teardown

commit 01e4d770efddad773d0e52c2a2e0312bdf7cb660
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 31 16:14:05 2010 -0600

    Fix JRUBY-5261: RSpec >= 2.2 around hooks trigger runtime NPE
    
    * MRI initializes the block reference in a proc during Proc.new, and does nothing in the base Proc#initialize.

commit 4549c9edc1756ab61fcca5c9c798a2a802a9e6ef
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 30 20:37:37 2010 -0600

    Add profile-dumping to threads on thread termination. Partial fix for lack of profile-dumping in threads.

commit 7b96984afc343e4b8e2fdd5205a30b24d26a9006
Merge: d2575a7 0c5e9d7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 17 17:53:55 2010 -0600

    Merge branch 'master' into danlucraft-master
    
    Conflicts:
    	src/org/jruby/runtime/ThreadContext.java

commit d2575a71f38b702a110d86d21910db42a1597b2f
Author: Daniel Lucraft <dan@fluentradical.com>
Date:   Fri Dec 17 09:18:09 2010 +0000

    Graph profiler: refactorings to allow for printing profile data from Ruby code (doesn't work yet)

commit 18663a028b34dc80f63efd36d880d13908c842b5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 16 14:55:22 2010 -0600

    Move Rubinius-related exts to org.jruby.ext.rubinius, and defer loading.

commit 2da2d00c5101234b71194a58e0cbdd290264e71a
Author: Daniel Lucraft <dan@fluentradical.com>
Date:   Thu Dec 16 09:00:26 2010 +0000

    Graph profiler: added --profile option which creates ProfilingCacheEntryFactorys but doesn't do any profiling yet

commit e5915beeccd1ef36af9919ca96537ed64bcab921
Author: Daniel Lucraft <dan@fluentradical.com>
Date:   Wed Dec 15 08:58:32 2010 +0000

    Graph profiler: refactor FlatProfileData and GraphProfileData into a single ProfileData and two printers

commit 52192272b2f4afbc7bae4b6ab4c81eb24a098c8e
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Dec 9 13:10:33 2010 -0600

    Initial stab at magic comments...bleh

commit 62ecad3bed149fee9e993578b4decf0d78a91947
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 7 22:50:41 2010 -0600

    Fix JRUBY-5221: jruby.reify.classes raising error with optparse
    
    The problem here was that the class in question (OptionParser::Switch) had a no-arg "pattern" method on both the object and the class. When generating reified Java methods, this caused an error, since it is not allowed to have both a static and an instance method with the same name and signature. I fixed it by giving priority to the instance method, since normally those will be the most important for reification (for interface impl, etc).
    
    * Prefer instance methods when name+signature conflicts with a static method
    * Move jitted code to rubyjit top-level package and reified classes to rubyobj top-level package
    * Add some debug logging to reify logic

commit 43cf066ae2366e316366db36bcec4a17f55255bc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Dec 6 05:21:08 2010 -0600

    [1.9] First pass at implementing Psych, using 1.9 .rb files (added to our repo), and SnakeYAML.

commit ab76e5d4261e80fcccd63bee388df14e48bb75d3
Author: Douglas Campos <qmx@qmx.me>
Date:   Tue Nov 30 13:39:48 2010 -0200

    normalizing args number error message
    
    Signed-off-by: Douglas Campos <qmx@qmx.me>
    Signed-off-by: Hiroshi Nakamura <nahi@ruby-lang.org>

commit fd0fa789b21b30f294e8286b72b75fe3b688c27a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 1 12:07:42 2010 -0600

    Merge "backtrace" branch to master, now that it runs clean on all our various test cases.
    
    This is a squashed merge encompassing the following commits from "backtrace":
    
    commit eb0e24242050199ac1cc4cf6e48d93025f0186f4
    Merge: 32137de ea48d8d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 12:03:28 2010 -0600
    
        Merge remote branch 'origin/master' into backtrace
    
    commit 32137decc9351dd7b6a19c49c7955808f535bb9c
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 09:41:29 2010 -0600
    
        Fix remaining failures for test-all.
    
        * Disable CheckClassAdapter temporarily, since it disallows what should be valid JVM identifiers.
        * Use the presence of $RUBY$ in method name as an additional indicator that we're processing a compiled Ruby body during backtrace gathering.
        * Move some largely-static properties out of "init" target in build.xml, so they're available whether init is triggered or not (e.g. run.jvm.model).
    
    commit ee2a624201d5e9cd408d6ae793160aeb99b50b3d
    Merge: cd50ae5 88ad204
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 08:01:22 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit cd50ae5f06b95a2fffab6bc1f3a7419f478d0a52
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 19:15:07 2010 -0600
    
        Get remaining spec failure with -X+C passing.
    
        * Embed the actual Ruby method name into the Java method for block bodies, rather than __block__.
    
    commit 52bbfffcae1aed62bf4afcb692bed9725e4e1564
    Merge: 4ed7235 1aace5e
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 01:37:15 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit 4ed723579101fffd8bfa73b30dc6e4e8991866f2
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 01:31:44 2010 -0600
    
        Precompiled (AOT) specs *nearly* green.
    
        * Mark __method__ as reading frame "name"
        * Fix AOT-based stack trace mining logic
    
    commit 64e20aa939b5b9c6e41e0e9fe09039a0bb92794a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Nov 29 16:50:55 2010 -0600
    
        Jitted specs running green.
    
        * eval needs to set method name into the binding, so it's there for "__method__" in the eval'ed code.
    
    commit fd442c0a815bcab9eb6c9aa1b71e1f8a260ee03b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Nov 29 16:06:53 2010 -0600
    
        Interpreted specs green on backtrace.
    
        * Tagged some __method__ specs for which backtrace behaves like 1.9, which Matz apparently likes but was afraid to backport. Odd cases anyway.
        * Fixed method name for the block used to define_method.
    
    commit cedb27e430b422c1158f66b4dcc7769922433506
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 24 18:35:22 2010 -0600
    
        Reinstate deprecated java_to_ruby and ruby_to_java I removed, since it's still needed by some external libs.
    
    commit b48b17910de662b4e2d20ee8f4b5cc734eefc1ed
    Merge: f39007e 2ae4995
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 24 13:40:58 2010 -0600
    
        Merge remote branch 'origin/master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/RubySymbol.java
        	src/org/jruby/runtime/CompiledBlock19.java
        	src/org/jruby/runtime/Interpreted19Block.java
        	src/org/jruby/runtime/InterpretedBlock.java
        	src/org/jruby/runtime/MethodBlock.java
    
    commit f39007eca676c1e6ec9f891ac63b7c5d907b0d1b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Nov 18 14:01:29 2010 -0600
    
        Start normalizing the method/class names generated into Java by JIT and AOT compiler, to wrap up the remaining spec failures.
    
    commit 76e42c4b4522dc87c066d20051d02d1e4005b860
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 20:40:33 2010 -0600
    
        Disable dynopt for now, to allow better stabilization on the main feature of this branch: frame elimination.
    
    commit d03099690df2e16d423e8b6a8969e0264983237f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 15:00:14 2010 -0600
    
        Encapsulate "coreMethods" hash in Ruby and add "bound method" logic to default (non-generated) class populator. `ant test-all` runs green now.
    
    commit ed7458f72bce55b11e5231f8e7b9d590c09ca53d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 10:46:43 2010 -0600
    
        Fix incorrect use of fastSetInstanceVariable instead of fastSetInternalVariable in FFI.
    
    commit f09626121b6a8bea6ab39a3c8ed3ccd69f56b505
    Merge: f780b97 e8ca689
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 10:15:16 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit f780b972b1f3e18f4c2608d9536e797a0845cd1a
    Merge: 25ab5d3 6967ea7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 09:04:42 2010 -0600
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/runtime/ThreadContext.java
    
    commit 25ab5d3d3f8c1fbf0fa334427b1485d322e83f86
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Nov 7 00:42:54 2010 -0500
    
        Don't do dynopt against calls that receive blocks; non-local flow is not properly handled yet.
    
    commit a4ad27056dcc3acf6bae0b0af7e618966d08a6dd
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Nov 6 15:22:40 2010 -0500
    
        Tag caller specs that do not pass with new backtrace logic (peculiar eval caller behaviors).
    
    commit eed8902084cfa06d4648935c1f70da57bf0c7a9c
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Nov 6 00:32:59 2010 -0500
    
        More fixes to get specs and tests green on backtrace branch:
    
        * Hash#index was not being bound properly from RubyHash#index19
        * Range#min and Range#max need super, and therefore need frame = true
        * tc_owned is a bad test and fails on system like OS X where (for some reason) / may be owned by user
        * test_trace_func had been hacked for a bad class result (Integer, instead of Fixnum)...fixed that
    
    commit 9d9f94c30de76fa25e738e70e84ea09163eca5cb
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Nov 5 20:03:22 2010 -0500
    
        Fix Kernel#caller to replace .java lines with Ruby lines. Brings specs mostly to passing.
    
    commit de433c771830e95c54f8196453208f2b312191aa
    Merge: 3ffe1cf e25c58f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Nov 5 17:40:02 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyIO.java
        	src/org/jruby/compiler/impl/StackBasedVariableCompiler.java
        	src/org/jruby/evaluator/ASTInterpreter.java
        	src/org/jruby/java/proxies/JavaProxy.java
    
    commit 3ffe1cfba86f52ee96d89f3a1c352597f22f76b7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 27 01:42:06 2010 -0200
    
        Fix compile error I accidentally merged.
    
    commit b081253fb3cdf5141f7f0cf76d3f8546837d9f42
    Merge: fc3028d ad68e22
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 16:30:25 2010 -0200
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/internal/runtime/methods/DefaultMethod.java
        	src/org/jruby/runtime/ThreadContext.java
    
    commit fc3028d9da2750c9d1c394600ab8ee712388724d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 14:39:29 2010 -0200
    
        Add better description for class bodies in backtrace
    
    commit d796555494c2237116c7477c932fd96cd30d2e20
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 11:36:29 2010 -0200
    
        Clean up and add color to Rubinius backtraces.
    
    commit 012f5357ce649bd5a996211fe231f26097bf4f5b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 16:23:04 2010 -0500
    
        Fix classloader check to allow for compiled method handles, which use a no-arg constructor.
    
    commit 473d48aac6a5523304188d1d433e4c12df989b89
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 16:10:32 2010 -0500
    
        Improve Proc-binding-based eval position info by propagating block's position into the binding and through to the backtrace frame.
    
    commit bcfd16b519b145c9ee055db1592dfaced05b71a0
    Merge: 4902faa 5b49583
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 11:07:15 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyTime.java
        	src/org/jruby/runtime/ThreadContext.java
        	test/org/jruby/test/TestRubyException.java
    
    commit 4902faaf1678d5aecdef8b0b66f8ec78062aeec5
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Oct 21 09:28:45 2010 -0500
    
        Fix badly-merged RubyProc.to_s19, missing opening brace.
    
    commit 69177d7098f9dc4ff9096d08eee25c0d8bb4f971
    Merge: 801e764 f895837
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 20 21:50:53 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 801e7641b8838a8ae8931a9c6dcc5cf050096c4a
    Merge: 0c60a89 dda4644
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 19 23:16:41 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyDigest.java
        	src/org/jruby/RubyProc.java
    
    commit 0c60a89aa746f286588b218681e9ad25b11318c4
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 19 23:06:15 2010 -0500
    
        Only compile direct recursive calls when we haven't branched to another method body (e.g. for rescues) and we're not compiling a closure or class body.
    
    commit 18333fe82c808e8ed49eef898f19c86fa2d764b2
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 17:04:13 2010 -0500
    
        Get 1.8 specs running green except for a handful of Kernel#caller specs (which don't expect to see .java files in the trace...not sure how to deal with that).
    
        * Fix another literal-block-calling path that wasn't using callIter
    
    commit 366740120ee76d8df3f977edc1727b60b2d4ad63
    Merge: b64390b 6b243a3
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 10:35:14 2010 -0500
    
        Merge remote branch 'origin/master' into backtrace
    
    commit b64390b8cf0d2cb13e06d352969a093b5e86818d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 10:33:39 2010 -0500
    
        Remaining fixes to get precompiled mode passing all our tests. Still some spec failures.
    
        * Bump up permgen max for test runs
        * Fix stack-based scope initialization to not leave an unused nil on stack
        * Ensure compiled method handles properly wrap pre/post logic for dummy and backtrace frames.
    
    commit 96bd3cbde91fc505b37ee13cbea6ffa3e8690c58
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Oct 11 18:36:34 2010 -0500
    
        First fixes for backtrace branch in precompiled mode:
    
        * Add test-precompiled build target for running just precompiled
        * Eliminate extraneous toplevel scope being pushed for precompiled loads (because that logic is all in the generated "load" method now.
        * Add a new scope descriptor decoding path that properly sets up a toplevel scope
    
    commit 0ebbd6ac46c9ac04558f5200f980f26f798b9413
    Merge: fc387be ac455fc
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 6 21:53:18 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyIO.java
    
    commit fc387befff57ada6c116b646a3dfb767cc926ee5
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 28 15:57:58 2010 -0500
    
        Renumber arguments for consistency.
    
    commit bbc91d3c4039bf6c26ceffd4899dcaaeaa3d46d0
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 28 15:40:38 2010 -0500
    
        Fixes to get specs a bit closer to running green.
    
        * Move pre/post logic for Script.load into generated code, so it's the same everywhere.
        * Make pre/post-load push a frame, so top-level of a script is always framed
        * Remove break handling from non-literal block call paths in CachingCallSite
        * Make sure all literal block calls are using CallSite.callIter, which handles break
        * Fix a bad test in testCompiler that needed visibility tweaks and framing
        * Add complete doco for CallSite
        * Fix Kernel#caller to trim from top of stack instead of bottom
    
    commit 4e814a24d5b2ef1b6567a3076a463ff9d08e2a0d
    Merge: 91dc13a 3dbcef3
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 27 17:43:30 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 91dc13a2f0b74bc1054d83378782416465ecc1b8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 27 01:02:48 2010 -0500
    
        Fixes to get test-compiled (but not precompiled) passing 100%.
    
        * Fix eqlInternal's RubyNumeric branch check if classes are equal
        * Provide file and line from all BlockBodies, so Proc#to_s can always use it
        * Fix rejiggered Struct#each and Struct#each_pair to call the appropriate internal version
        * Fix ruby_test's IO.new suite to not use STDOUT directly, risking that it get closed
    
    commit dc4af45352607ebb8a95d70befdcdb15c1111c58
    Merge: ec8bb7f 90275be
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 21 09:52:10 2010 -0700
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/RubyDir.java
        	src/org/jruby/RubyKernel.java
        	src/org/jruby/compiler/ASTInspector.java
        	src/org/jruby/javasupport/util/RuntimeHelpers.java
    
    commit ec8bb7fc31d4acd4ebcb040f088e19fb427448e8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 19 16:21:38 2010 -0700
    
        Remove frame = true from all core class methods, to reduce their call costs. A few remain for invokeSuper and methods that may still need frames.
    
    commit ec276b6ca0c6009702839b12d97664b9e52b1023
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 16 14:10:43 2010 -0500
    
        Eliminate RubyTuple use that snuck in.
    
    commit f80254100cfc17ac6eb558e465fc1fb9122c3ee4
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 14 10:07:53 2010 -0500
    
        Special case a few immutable core types in equalInternal/eqlInternal.
    
    commit eb66c45145e4fd1f8c28e9a8c544114f034116e8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 18:26:13 2010 -0300
    
        Performance changes for backtrace logic:
    
        * Back off using Java stack trace for Proc's to_s file+line, since it's prohibitively expensive
        * Move the Backtrace stack to being a fixed-size array of objects updated, rather than created, when a push happens
    
    commit 6f0ade5ab28946b8800431d3454d2e57fc0dbe19
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 11:36:07 2010 -0300
    
        Add generation guard around trivially-inlined logic.
    
    commit c4d8705217174580d35757dc85c5c646e980b57f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 06:18:38 2010 -0300
    
        Full speed ahead with a caching mechanism for calls from core classes. Only works for core class methods right now, but opens the door to expanding that.
    
    commit 5874abc01104f6c0f435f8ac4643ed0f77cf7cff
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 03:43:37 2010 -0300
    
        Localize some fields used in Array#include? to speed up the loop.
    
    commit 346245cd5e154574d14736cf4b9e0b4b98260d14
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 15:02:41 2010 -0300
    
        Allow passing a number of iterations to bench_quicksort.rb.
    
    commit b4687022a1f00d0b63838b1c9daf00753fcfa93e
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 11:55:15 2010 -0300
    
        Fixes to get run-junit-compiled 100% passing on backtrace branch.
    
        * Fixed a couple tests that are too sensitive to core method line numbers or expected only .rb elements in the trace
        * Added a mechanism for procs to retrieve the most recent Ruby frame, for to_s purposes
        * Added comments for hybrid backtrace logic
    
    commit 15cd9b16cb2750d0e40ba478d07fe5bf265dc620
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 08:07:57 2010 -0300
    
        Add better logging to AnnotationBinder (for showing framed/scoped core methods), ASTInspector (for showing methods detected as framed/scoped and for reporting deopt flags as they are set), and JITCompiler (for dumping jitted methods' full classes and inspector results). New property jruby.jit.dumping=(true|FALSE).
    
    commit c4e6176498590d791868055025c2e72ded1ccf13
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Sep 10 02:10:20 2010 -0400
    
        Improve dumping of generated bytecode by including class and method name when possible.
    
    commit 07fc4215f6873f449f89d4f5da7a7e2e8963bc70
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 9 23:39:20 2010 -0400
    
        Make attr accessor's var accessor field volatile, to guarantee visibility across threads.
    
    commit e3a7cf5cd4d8ccd08407955779bdd94feb5e4ac8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 13:26:48 2010 -0500
    
        Add missing "in" to caller backtrace lines.
    
    commit 7140c339f386959853f747d86cb2ea9a8afa6f2a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 12:10:50 2010 -0500
    
        Fixes to get tracing tests running in interpreted mode:
    
        * Off-by-one line numbers were off for MRI too. Fixed to correct line numbers
        * call and return for Ruby methods need to use impl class, not self class
    
    commit cbc9c4edab56807a023817d06db9c22441fa4b53
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 10:31:57 2010 -0500
    
        Fix runInterpreterBody to properly unwrap RootNode for "gets loop" execution.
    
    commit 3a09773058d8d58d5bf8f1b6fbebc494fc18f7c6
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 10:01:43 2010 -0500
    
        Make --bytecode attempt a recompile, so that dynopt and no-compile modes can still print bytecode.
    
    commit 4e48e722ba5ded10975af348738237fcb7fe9b2a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 09:23:38 2010 -0500
    
        Add a "full" backtrace style which does not omit any Java frames and interlaces the Ruby frames.
    
    commit 6f5057e3ae1e372bd66602dcc26864adc3270128
    Merge: 7006d31 811fd8d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 07:48:47 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
    
    commit 7006d3175bbf4630921dfecaa4faef2a39a77205
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 4 16:04:28 2010 -0500
    
        Bytecode size reductions for stack-based nil-initialization of locals and for x, *y and x, * forms of masgn.
    
    commit 3a8fb16f020c2b9aaa6228605bdb3d8fd1b78ccf
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 4 14:52:04 2010 -0500
    
        Do not do direct recursive invocations for heap-based scopes, since the scope is not currently being reset.
    
    commit ec00e99636667eff97a891917ae9ef37f94a6eb7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Sep 3 19:55:24 2010 -0500
    
        Turn on dynopt by default, to aid testing of new logic.
    
    commit 9508e8a6925fce4f57a386ede867b3f8f9b67d38
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 2 12:40:38 2010 -0500
    
        Fix Time test that expected two separate Time.now objects to to_s the same.
    
    commit 65ba8b37a8a232495453e71b2a560c761b40893f
    Author: Nick Sieger <nick@nicksieger.com>
    Date:   Mon Aug 30 14:50:03 2010 -0500
    
        Use new backtrace info to set a more useful Java thread name
    
    commit 75b100604af39de52b26bdb21669136234424a0b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 30 11:37:49 2010 +0900
    
        Fix ifne/ifeq bug in dynopt guard and switch DefaultMethod to not flip generations on JIT in dynopt mode.
    
    commit fe3b408629e94b7db0436152968bd6d2232f6c7c
    Merge: eea60da 85c64c6
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 29 20:33:06 2010 +0900
    
        Merge branch 'master' into backtrace
    
    commit eea60da3905c87c16fbb4e6c78fd7a07f842e4bd
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Aug 27 14:09:44 2010 +0900
    
        Modify Java Fixnum fib bench to use the long call paths where possible, to be more like what compiled Ruby does not.
    
    commit a189563d9073208292e91aff3eb1c88489bd113d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 15:07:21 2010 +0900
    
        Fixes for jitted/compiled backtrace generation
    
        * SClass in a method body needs to frame, so it has a jump target for non-local return
        * Compiled methods need to always have their ruby name in the method name, so it can be mined out appropriately
        * Synthetic calls, like to rescue bodies, need to gobble caller frames to avoid multiple entries
    
    commit 276226de611cb8d5af942148109c2a51982e7640
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 14:03:44 2010 +0900
    
        Add callNumber tracking to method handles, to properly handle return jumps.
    
    commit b94bcf119a54f52ab9be3c86bc5cc85078f20eee
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 13:16:25 2010 +0900
    
        More fixes for hybrid backtrace:
    
        * Get generated trace to be RaiseException's Java trace
        * Add Ruby exception name to the RaiseException message
        * Rewire and repair trace calls
    
        All main suite tests now pass in interpreted mode.
    
    commit dc9fcd3de0f3070507ac0a0647973d1e9f16ae4f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 14:38:47 2010 -0500
    
        Fix debug logging of exceptions being raised and patch a couple tests for new backtrace structure.
    
    commit 3acd3201d85e4da9186fa17d3a04bdc9db742e29
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 13:23:04 2010 -0500
    
        Include original source file in compiled Ruby, add missing "in" line for MRI rendering, and soften requirements in test_backtraces to allow for native elements in the backtrace.
    
    commit 728cf3983fbeffba944fe34a8b0e410cc1de041c
    Merge: 88a64de 0e9c956
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 00:18:07 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 88a64de879446be3398ba7671b5fa1f3e46ce02f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:29:21 2010 -0500
    
        Turn on "positionless" compilation, since compiled code no longer needs to update interpreter backtrace frames. Also fix nil/null backtrace rendering.
    
    commit 5712a4ce285a5b3662c8ef8def2599223a232626
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:18:17 2010 -0500
    
        Fix off-by-one line numbers from interpreter frames.
    
    commit 519f4625b9d9658f50b986b1add560903ee453de
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:10:47 2010 -0500
    
        Remove some old backtrace code no longer in use and get all "backtrace" method handles to generate with no frame at all (since Java stack is used now).
    
    commit 424d967df8a3b6ba277bdb1b530d4f7f62ecbc4a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 16:52:29 2010 -0500
    
        Get Kernel#caller working with hybrid traces, get Rubinius rendering working again (partially), separate gathering and rendering of backtraces.
    
    commit a00822740712ddd924896feccc10f015fd20d4be
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 15:32:08 2010 -0500
    
        Mine method names out of AOT and JIT compiled stacktrace elements and get JIT using the original name of the method.
    
    commit 039d184ac5f798aed21870a7552b66c5973ca0eb
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Aug 14 22:16:48 2010 -0500
    
        Simplify in-class encoding of StaticScope data.
    
    commit 876a762b8af88955bee598dfd0421805d9b47c40
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 01:41:44 2010 -0500
    
        Fixes to hybrid traces to get tests working better:
    
        * Omit Kernel#raise and the KernelJavaAddons rbRaise from traces
        * Handle getBacktrace when there's been no preparation
    
        Also modified test/testException.rb to allow internal line numbers for the "load" call, rather than MRI standard "whatever line it was called from".
    
    commit 06f1bd171d6897f651b3cebfd76551080acbfe40
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 00:39:59 2010 -0500
    
        Move backtrace management to a separate stack and implement mixed-mode backtrace generation.
    
    commit ca40e73a7c136dfdd3853f0cd62a73bf70a3a08f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Aug 21 20:56:50 2010 -0500
    
        Get all major interpreter entry-points passing through simple, known method bodies. First step toward mixed-mode backtraces.

commit b9f508f08b183a2141a4c69f84090a150d2cf928
Author: Daniel Lucraft <dan@fluentradical.com>
Date:   Tue Nov 30 22:09:29 2010 +0000

    Add a --profile.graph option, and split ProfileData into FlatProfileData and GraphProfileData, though they behave the same currently

commit 620caccb1537e436a45448e27e1c6714ae8af560
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 18 15:10:31 2010 -0600

    Fix for JRUBY-5114: Frequent internal server errors resulting from AJAX calls -- GlassFish v3 1.0.2 with JRuby 1.5.2 and newer
    
    See comments on bug for explanation of fix.

commit 82225384c2c738682d0fd4e804f8afa19f2e8370
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Oct 27 11:05:56 2010 -0500

    Make required files use same method so we can use proper interpreter

commit 5cf92443800cdeaf33821acc72c85eb76834b3b3
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Oct 26 17:35:50 2010 -0500

    Hook IR into main

commit 987b709d1e35a18d158e2ede630d76a1e699bcc9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 26 16:02:47 2010 -0200

    Fix bogus Object#initialize time in profiles due to startup "chunk" aggregating at 0.

commit aabfa79f434ef5ad491b708ae1cefb65458ff29e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 26 13:07:25 2010 -0200

    First stab at a basic instrumented profiler. Needs update of jruby launcher to pass --profile through.

commit 3f995f73716cdbec74776a58e6dade82006e1ab5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 22 02:01:41 2010 -0500

    Fix for JRUBY-4966: TCPSocket raises Errno::ECONNREFUSED instead of Errno::EHOSTUNREACH
    
    Java was raising the expected exception (NoRouteToHostException), but our finally layout was not allowing it to bubble out (and we weren't catching it anyway). Restructured finally/catch blocks and actually catching NRTHE and re-throwing EHOSTUNREACH.

commit d18ce4d63aeb8f153dc5ddcb78e299d0f167c702
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Oct 18 16:42:48 2010 -0500

    Add support for jruby-win32ole if installed as a gem

commit 4375b30ab230c032efb32368606cc2db36e5f43b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Sep 10 02:10:20 2010 -0400

    Improve dumping of generated bytecode by including class and method name when possible.

commit 36f6d22f2ea9d3119abadb6b7334e207c4a9f25c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Sep 8 10:31:57 2010 -0500

    Fix runInterpreterBody to properly unwrap RootNode for "gets loop" execution.

commit 141b7e967ed40cce06df0dbecfc85b4f1418b610
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Fri Sep 3 14:03:50 2010 -0500

    Trivial: Remove unused imports and use StringBuilder

commit 19fa9537a743abb6fe93e5e3ac63cb5027758e08
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Sep 3 12:53:52 2010 -0500

    Selector pool implementation.
    
    The fixes for JRuby 1.5.2 involved avoiding a per-thread selector in favor of
    always opening and closing the selector around blocking operations. This
    worked for Linux and BSD, where selector lifecycle is fairly clean. But on
    Windows, selector closing involves shutting down a socket, which goes into
    TIME_WAIT state for some amount of time. As a result, heavy IO operations on
    Windows could saturate the max number of socket connections for a given
    process, preventing new selectors from being opened. This fix introduces a
    soft-referenced pool of selector objects. There will only be as many live
    Selector objects as there have been recent concurrent selects, and they will
    age out on a soft-reference lifecycle, which ultimately means unused
    selectors will be dereferenced and eventually finalized at GC boundaries.

commit 852a031512c45457a00c22b94d1a0b95ab4d7b22
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Aug 20 13:46:32 2010 -0500

    Fix a few exceptions that don't generate ruby backtraces before getting thrown.

commit c4e46dc874d4584627aee552f5aa839eaa15429f
Author: David Calavera <david.calavera@gmail.com>
Date:   Wed Aug 18 18:49:35 2010 +0200

    String#sub! with pattern and block raises a RuntimeError when self is frozen

commit a620dd1d367f02546787ccd23532b76987bd72e1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Aug 3 18:18:04 2010 -0500

    Modify backtrace generation to happen closer to throw/raise time rather than on construction. Preparation for better native+interpreted hybrid traces.

commit 282126570e79430f48c2a9b925effe03cf2d4fe6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 7 23:09:31 2010 -0500

    Move all inner-class libraries/extensions into top-level classes, to avoid future occurrences of JRUBY-4785.

commit 740dcd32bdb2b17f1a67b8a0b9baeca2b57d51fa
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Mon Jul 5 11:35:53 2010 -0400

    Fix JRUBY-4915: BasicSocket.do_not_reverse_lookup should default to true in 1.9.2

commit efd485a8c7908e0ca2d59eefa36722e7e26f22de
Author: Nick Sieger <nick@nicksieger.com>
Date:   Mon Jun 28 19:22:28 2010 -0500

    Squelch "useless use of * in void context" warnings for evals where they actually ARE useful.
    
    Fixes a bunch of spurious output when running AR tests.

commit 42b0fa9bc088cab4607c4926ae1a1edfc91ca632
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Fri Jun 25 23:48:23 2010 -0400

    Fix JRUBY-4468: Process.kill doesn't return a correct value

commit 58ee674e056ae787cbf904f715801377a81e02f1
Author: Nick Sieger <nick@nicksieger.com>
Date:   Fri Jun 18 13:15:25 2010 -0500

    JRUBY-4785: Try workaround for linkage error by pulling library inner class out to a standalone class

commit a5503a49df27a4f661b86c282c64a4ca2045cb32
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jun 10 02:41:33 2010 -0400

    Move back to an atomic generation ID and install some simple type/modification guards for dynopt calls.

commit 71aa55d7c09f8c0da914aa4bb921f2896f22b04f
Author: David Calavera <david.calavera@gmail.com>
Date:   Wed Jun 9 18:35:23 2010 +0200

    fixes JRUBY-4859: File.delete doesn't throw an error when deleting a directory

commit 19b2a4c215f8ebe8ebf9ab1bed77dfcc0fb8f76c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jun 1 22:21:12 2010 -0500

    Two fixes for executeScript logic:
    
    * In the compiled paths, do not use context.getFrameSelf as the self, since in many cases at the moment of execution no self has been set into the frame. The interpreter paths used getTopSelf, so now the compiled paths do too.
    * executeScript called through the same logic Main calls through, which meant it was usually trying to compile each script like it were a command-line script. Modified executeScript to call through runInterpreter instead of runNormally.
    
    These changes fix an issue with jrubyc --java(c) output where the generated classes could not be imported and constructed from top-level Ruby code.

commit 02ed9ff001647de520b6fa8ac65b7d97a2c4a407
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Sat May 29 12:43:47 2010 -0500

    Implement Time#subsec. MRI provides nanosecond resolution, but joda does not, so we only get milliseconds (for now).

commit c2f126a48e4e722c3a9fb875622fb1613976091c
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sat May 1 23:00:18 2010 -0500

    Improve fiber library implementation relative to YRI.
    
    - require 'fiber' now works
    - FiberError defined and raised in some cases
    - Fiber starts out alive before it is resumed
    - Some methods only appear after require 'fiber'

commit e373c01f64dc8cd4f29517e6d56e8a4db9a90177
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 20 16:08:50 2010 -0500

    Eliminate the often-unnecessary getRuntime and getNil from the preamble of compiled methods; brings us closer to lightweight or do-nothing methods inlining away.

commit 6cfde5233601ccc4698860f7f8a7f344e3b60eb7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed May 5 12:56:35 2010 -0500

    Fix for JRUBY-4773: Lock contention in Ruby.allocModuleId(RubyModule)

commit 1c6e5609b45528b80c956a4f69f86f232e98fb51
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 4 15:58:27 2010 -0500

    Rework fileno/descriptor registration to live entirely within ChannelDescriptor. This avoids descriptors being unregistered prematurely by RubyIO finalization, eliminates RubyIO finalization, and centralizes registration much more neatly. An additional map is added to Ruby to allow 0, 1, and 2 to always map to the current runtime's notion of in, out, and err.

commit f40b10f4b75143d34c6e76c26cc8f10cad8ac723
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 3 21:01:30 2010 -0500

    Finally switch to a native Symbol#to_proc, for both startup and execution perf.

commit e05b969291d44e3d42e14861e30ce189a52f1b5f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun May 2 02:09:26 2010 -0500

    Miscellaneous cleanup:
    
    * A number of findbugs items in the "threadsafe", "performance", "malcious code", and "experimental" warnings
    * Tidied up all NetBeans "yellows" in the files I touched
    * Removed now-defunct JRubyServer/Client/Service
    * Removed now-defunct ssa.rb and DAGBuilder

commit cd1677ddf0f4a1ef1b584f33825404a5c22b55d9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 30 01:50:20 2010 -0500

    Add the ability to pre-generate all method handles when compiling a .rb file (--handles flag to jrubyc).

commit d872d1e6610f394fde792e9bb36475ab1a5f5c80
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 26 15:04:32 2010 -0500

    Fix for JRUBY-4747: read_nonblock error with couchrest
    
    Looks like the missing logic for us was that when defining Errno classes we're supposed to reuse the same class for the same value. On the platform I tested, EAGAIN and EWOULDBLOCK are the same value, and so the rescue EWOULDBLOCK in couchrest rescues EAGAIN too.

commit 7748ad743a1932857c441c777f8c3ef4351f3c6d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 20 18:10:59 2010 -0500

    Fix failure in -W spec by restoring the IRubyObject value for verbose in Ruby.

commit a1b33a2850f3b2b18439dff35acb84daa311f3c6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 19 16:35:35 2010 -0500

    Modify "multiple methods" warning from JI method selection to only show in debug mode, since it's expected there might often be multiple matches. JRUBY-4734.

commit 1e4305db2686be393d589a6d626a8acda00fab92
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 7 23:52:52 2010 -0500

    Fix for remaining issues with JRUBY-4695: local variable has value nil when compile mode is JIT or FORCE

commit 091db96e56a770487d412d2373f2be79f5f7a5e7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 7 16:15:48 2010 -0500

    Make two more internal exceptions be unrescuable. Fixing Continuation fixes IRB failing to exit cleanly.

commit 8234945a538784bb4b7de506dd29e1d648d05fa8
Author: Yoko Harada <yokolet@gmail.com>
Date:   Wed Apr 7 15:27:06 2010 -0400

    Partially fix JRUBY-4695, sharing variables when JIT/FORCE is set. Currently, sharing lvars works on JIT but not on FORCE while sharing ivars works on both JIT/FORCE.

commit be6f6c0e5b48da9eba1fa244d7a0a6d6c60dd652
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 7 04:10:03 2010 -0500

    Fix for JRUBY-4643: it is correct that M::X does not look for X in Object
    
    Also includes a BONUS fix for off-by-one backtrace lines in evals with line specified.

commit 0773a7860c05deddb5c73243853618b825701b5e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 5 14:21:39 2010 -0500

    Make a bunch of initialized-once fields in Ruby be final.

commit 9414a764ecf84b9c0f2871dabaf51b2036fc1b47
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 5 14:12:41 2010 -0500

    Better fix for JRUBY-2186 and improvement to prevent things like JRUBY-4693.
    
    JRUBY-2186 added logic to filter out singleton classes in completeion.rb. This commit just filters them during each_object, like MRI does.
    
    JRUBY-4693 reported a perf issue with Float multiplication that turned out to be just running a benchmark in IRB. We originally turned ObjectSpace on in IRB to allow completion to work, but completion only uses each_object(Module). This commit makes that work as well as each_object(Class) did.

commit 6e8d0d52375859371cdbfb8c3ed99a29765dfdd7
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Mar 31 14:01:18 2010 -0500

    JRUBY-4685: Installing gems in JRuby on Windows fails most of the time.

commit 999c35e294f5c605a1737b4661c241b370bfefab
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 25 22:07:13 2010 -0500

    Move builtin generator and jsignal to generator_internal and jsignal_internal, to reduce likelihood of preventing user libs from loading. JRUBY-4218

commit eb12460b59e231af02fa2cbc31ad20f07b4dfc15
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 25 21:53:46 2010 -0500

    Make the 1.9 prelude files be loaded without using require (prevent their names being "special" for JRUBY-4218)

commit 10a114f67c9ea96dc916de0d78cc132e9cc720fa
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 24 15:40:58 2010 -0400

    Add a JRuby::Synchronized module that makes a class's methods (and its subclasses' methods) be wrapped with synchronization.

commit d9f7f815efb36418bc7249d3e840a57cf2ac5688
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 18 23:01:48 2010 -0500

    Port the Delegator class to Java to improve its performance and avoid the nasty 1.8 .rb implementation. JRUBY-4658

commit 93b1257dad9a3915c6c6374d71d7c51e1dd9c460
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 17 12:13:28 2010 -0500

    Revert "Fix for JRUBY-4484: jruby -rtracer doesn't trace"
    
    This reverts commit 5f3de424615189193a722d754189a143b40cf6ed.

commit 726da0a3c2b506940a6846f09a0c9cf750e92cda
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Wed Mar 17 02:17:38 2010 -0500

    Fix JRUBY-4653: [1.9] Math API changes

commit b1966c56957daa30b26be930f1f68e77d70d216f
Author: Yoko Harada <yokolet@gmail.com>
Date:   Mon Mar 15 14:18:07 2010 -0400

    Fix JRUBY-4640. This change adds Ruby#tearDown(boolean) method for embedding API to give a chance to catch exceptions.

commit 1ec01f99c9d504c5e1ffe233bed11c8e1338b943
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 11 10:11:59 2010 -0600

    Additional tweaks for JRUBY-4553, to address regression in JRUBY-4651.

commit 26323269fcfb2341ff8fa3b198037e1290982926
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 10 16:21:23 2010 -0600

    Fixes for JRUBY-4553: Scalability: JRuby suffers from Java Charset lock contention

commit 8e51e6e32ca9b779fce39778e49e9bccd2d023e3
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Tue Mar 9 12:39:42 2010 +0100

    Fixes for JRUBY-2282 and JRUBY-2475.
    
    JRUBY-2282: Unclosed, unflushed IO objects might not write contents before program exit
    JRUBY-2475: JRuby and Builder::XmlMarkup (strange File interaction)
    
    This is actually a regression, caused by IO rewrite long, long time ago.

commit 00ba351cc820881ae905e6e2db577c2ccdff40dd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 8 09:02:14 2010 -0600

    Remove rogue logging in codeCache logic for force-compiled files.

commit 0c012c78053e9ec19ffcdd48231a1141aba544b5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Mar 7 14:56:00 2010 -0600

    No need to use a weak map for fileno to ChannelDescriptor, since in C land unclosed fd's live forever too. Eliminates special need for a hard map for sysopen and weak reference management for all other IOs.

commit 6857a4e5c345a1b90d1832ba70d03d04e21aea04
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 21 12:20:29 2010 -0600

    Add codecache support for precompiled scripts dumping to disk and loading from classloaders.

commit 78cf2147a50893580f938b5881e15cae716df9ea
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 1 08:59:16 2010 -0600

    Fix typo in a compiler warning.

commit 733fb41fc7aa8207a17c8f9d7323c7c74c972bb8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Feb 18 13:35:52 2010 -0600

    Fix for JRUBY-4563: jruby retains handle on files

commit 339200669634275deed5b87c5fdd4c04ed238576
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Feb 18 03:37:37 2010 -0600

    Fix for JRUBY-4539: Error is shown when script length is more than 64K - should be just warning

commit ebb0459ec816c5aebb2dd49387ac0fb324a8eae7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Feb 17 15:59:31 2010 -0600

    Fix an issue I introduced where -r flag with a missing file causes NPE.

commit 5f3de424615189193a722d754189a143b40cf6ed
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Feb 17 13:50:05 2010 -0600

    Fix for JRUBY-4484: jruby -rtracer doesn't trace
    
    I modified how toplevel bindings were prepared when libraries are required with -r. tracer.rb depended on caller(0) being one-deep to know when to install itself. Minor fix, fragile use of caller, but at least it's matching MRI behavior now.

commit 22f720815bcbb4ceb1603dffb8e2f284bf3f6a69
Author: Yoko Harada <yokolet@gmail.com>
Date:   Wed Feb 10 13:59:20 2010 -0500

    Fix for singleton model ScriptingContainer to choose RubyInstanceConfig depending on a presence of global runtime

commit f5cc09f381bf6803cef4c1f4f6d2e8236ab02d80
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Feb 1 10:27:42 2010 +0100

    Fix JRUBY-3369, contributed by Lars Westergren <lars.westergren@gmail.com>

commit 5c62b34bb5f7cb844050a4d6a5b467fc59e1906e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 19 01:39:09 2010 -0600

    Modifications and additions to address JRUBY-4487: gem prelude should be loaded in 1.9 mode

commit a8981decdbf4a91054a5db6c6da90ccb1836de74
Author: Joe <qbproger@gmail.com>
Date:   Thu Jan 14 20:19:24 2010 -0500

    add connect and connent_nonblock to socket
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit c852b972cafce1877814a99ed1dfea8b79b80d8b
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Fri Jan 15 20:54:13 2010 +0100

    Partial fix for JRUBY-4456: [1.9] Random class is not defined
    
    Patch by David Calavera, with modifications by me.
    
    Also, untagged the passing specs.

commit 83b1502eed5f738ef5838db9c3201c3ea114aaf9
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 12 14:53:46 2010 +0100

    [1.9] Make Hash#hash and Array#hash fully recursive safe

commit e6c72780d9942527d89c535298026f8403416cbc
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 12 14:09:02 2010 +0100

    [1.9] Fix Array#join and Enumerable#join for 1.9

commit ea74a4d434ea3388b1a07c329ff1f00c1ac80dcc
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Mon Dec 28 23:17:22 2009 +0100

    Updated jnr-posix to 1.1.0 and fixed a couple of bugs:
    
    - JRUBY-4388: [FFI] GetLastError always returns 0 on Windows
    - JRUBY-4392: [windows] File.link is not implemented

commit 02b8e01b4686b05da6762dd69950835d57dcd653
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 19 14:24:28 2009 -0600

    Remove MiniJava and all the tendrils it extended through JRuby. Useful remainder moved to org.jruby.java.codegen.RealClassGenerator.

commit 7c990d43c30f8634567224c7fb92801b5ed9f880
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Dec 9 20:15:14 2009 -0600

    JRUBY-4341: Byte-array-based LexerSource implementation

commit 3487bba2fada506a4c56b7e643e82ae3b6294cb5
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Tue Dec 8 11:54:04 2009 +0100

    Fixed JRUBY-4116 and JRUBY-3950 (IRB in Applet and WebStart environments).
    
    - JRUBY-4116: security error running org.jruby.demo.IRBConsole in jruby-complete
    - JRUBY-3950: samples/irb-applet.html doesn't load the Applet

commit 7eef14fb27fa6b95d0c70b148ada5ed1229cb6bd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 3 17:10:42 2009 -0600

    Move the set_trace_func warning (for lack of --debug flag) a bit lower, so all EventHook registrations will warn if --debug has not been fired. Should help eliminate bugs like JRUBY-4270.

commit 3efeecd53fb7f95815be55d31c093549a83ad492
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Mon Nov 23 21:26:42 2009 +0100

    JRUBY-4259: break 'jruby' lib into two pieces, one that needs full 'java' lib and the one that doesn't
    
    Also, tweaked jirb so that it uses the 'lightweight' piece of 'jruby'
    lib, which is much faster.
    
    Jirb now starts up in 340ms, instead of 570ms! Yay! :)

commit e7bd6f200e43453b93d694dd45aeba8f510b303a
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Fri Nov 13 23:12:49 2009 +0100

    JRUBY-4233: Incorrect error code with TCPServer.new
    
    This makes JRuby pass two new RubySpecs for TCPServer.new.

commit 685a359f1265014fa608e7c2b275661155a3d021
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Nov 2 18:29:23 2009 -0800

    Modify --bytecode to only print the target script, not scripts evaluated during startup.

commit 857cfdc34538f94bcce39f6b612885f3c2130f37
Author: Yoko Harada <yokolet@gmail.com>
Date:   Thu Oct 29 19:42:33 2009 -0400

    relocate generator and prelude from shared to builtin. This fixes JRUBY-4168

commit 2ec5894c8f02f8cbbf6a6047b77a6f0b2eab0b36
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Oct 27 13:05:38 2009 -0500

    JRUBY-4072: mathn/complex and mathn/rational should be implemented (patch by Hiro Asari)

commit 1bd4ca29a7cb42820a850ad21c76d6da740c6b9b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 25 21:50:28 2009 -0500

    Multiple improvements for JRUBY-4117: RubyIO#incrementLineno is Very Slow
    
    I modified both $< and $. to be normal fields on org.jruby.Ruby, with the global var accessors just accessing them directly. This allows all places in the system that access them to go straight in rather than doing the global var hash lookup and constructing a RubyFixnum. I also modified the RubyArgsFile.setCurrentLineNumber to not dispatch back to lineno= and instead just update the int in the ArgsFileData structure. With these changes, we are trimming off the couple seconds RJ Lorimer mentioned in JRUBY-2810.

commit 9407eea38c6e44c7eb62826c9d57b222f44b8edd
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Oct 19 17:24:11 2009 -0500

    JRUBY-4106: Calling JRuby from MATLAB/Octave fails at enumerator library

commit ac73a4946d03ab780bda374b5620c13ee4ac1bc1
Author: David Calavera <david.calavera@gmail.com>
Date:   Mon Oct 12 16:45:27 2009 +0200

    String.encode support improvements
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit b888a3b4dde89067c866916ab8c2f77db4f51bb4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 17 00:16:08 2009 -0500

    Rework of Generator library to be 100% ruby again.
    
    This is an attempt to move Generator back to Ruby where it will be easier
    to implement lightweight enumerators/generators that do not require threads.
    The previous implementation was split between code in generator.rb and the
    Generator library in Generator.java. This new version is entirely contained
    in generator.rb, offering the possibility of having custom generators for
    core classes and an easier path to implementing the lightweight generator
    protocol.

commit ce4379c72e52cb7847f832653afae06f6674ac82
Author: Nick Sieger <nick@nicksieger.com>
Date:   Fri Oct 16 15:58:58 2009 -0500

    JRUBY-2816: Turn off debugger events generated from non-user threads
    
    (stream pumpers from system calls in this case)

commit a6c9a1e3ce37325eb2083178c8734563fa6ef6d6
Author: David Calavera <david.calavera@gmail.com>
Date:   Wed Oct 14 21:11:22 2009 +0200

    fixes JRUBY-4091: IConv.conv ignores //IGNORE flag into the encoding parameter
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit 556fc570efa82de682a269c149d7271284f402eb
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Sat Oct 3 21:49:35 2009 +0200

    JRUBY-4036: Regression: Instead of java-based ThreadLibrary a
    pure-ruby thread.rb from stdlib is used.

commit c6c3a8c720cdf74425efc2c98e44312b96c08706
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Sep 29 16:05:48 2009 -0500

    Apply proper patch for jruby-embed

commit e910bf7044546afb7ca500389e86afee3fab85e9
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Wed Sep 23 22:05:58 2009 +1000

    Use Integer autoboxing in a couple of places

commit 1bf7a3f05bf77011b1d30fa987a3e24a1d66c2d6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Sep 13 17:17:29 2009 -0500

    Fiber is now loaded at startup for 1.9.

commit 48cf3fb6a589e782650026abf155d2bd39665c8a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Sep 12 08:34:43 2009 -0500

    Fix for JRUBY-3956: Can't do Enumerator#next in --1.9? Not implemented yet?
    
    Also underscores the need for inline caching for Java method bodies calling to Ruby.

commit 8a337390564c1562565a853fee40fc7c6c196e25
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sat Sep 5 13:42:47 2009 -0500

    Add JRuby.with_current_runtime_as_global { ... }
    
    Use when the notion of "first created runtime as global" doesn't suit
    your application, or you want to call out to some java code that needs
    to call back through Ruby using Ruby.getGlobalRuntime().

commit 363872a6f3eda8f6a69fafe8c1ca50575b5914b4
Author: Nick Sieger <nick@nicksieger.com>
Date:   Fri Sep 4 17:23:48 2009 -0500

    First Ruby runtime to be created gets set as global.
    
    For easier Java->Ruby integration for hybrid programs that are launched from JRuby.
    Rename a variable that was shadowing a field.

commit 2f0abf0119b45008a1edada47521ed6d0ae8ba48
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Aug 28 17:45:54 2009 -0500

    Add accessors to CachingCallSite for optimization info, and add method serial number logic.

commit 8c0ae0347337e04275efaaf5a0c76f51bb5ac7f5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Aug 20 16:34:32 2009 -0500

    Remove lib/ruby/1.8/java and .so from load searching, to reduce the number of paths we try.

commit d1ae677a99c7deceb885341c94d3a2c2acf4807d
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Aug 18 13:35:05 2009 -0500

    JRUBY-3761: Fix lchown # args and behavior

commit 2e539f16ca9ae1ae5762d727eda820246602332d
Merge: ae08daf a9c202c
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Aug 4 17:35:54 2009 +0200

    Merge pieces for 1.8.7

commit ae08dafe12e4f41a81c3e5dd5cea5c6f20dd5496
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Aug 4 17:31:47 2009 +0200

    Fix all test failures and remaining problems for 1.8.7 compatibility

commit db295e7cfeb8641f4746ae6a004ffaf00fb58984
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Aug 3 18:40:34 2009 +0200

    [1.8.7] Kernel#__method__, Kernel#caller, Kernel#loop, StopIteration

commit 1425b9a0ea46d36fe2d294af5c5b45ba137f58d6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Aug 2 14:07:46 2009 -0500

    Add link to Android enum bug, so we can check back whether it's been fixed.

commit aaaacede64748087433d78ffd5c0b44ea4ccfc53
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Aug 2 00:04:43 2009 -0500

    Add a hack to catch exceptions from preparing the Errno constants since Android has a bug in enum iteration (or something).

commit a5add56753a0410755796530af079bd3e0071eef
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Jul 31 12:06:55 2009 +0200

    Start the process by converting ARGF to be 1.8.7 compatible.

commit dc8d7f6cf8590cadafac2995738a23841f8621c2
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jul 21 20:37:18 2009 +0200

    Remove yaml based on JvYAMLb and add Yecht version 0.0.1 instead. Also update yaml tests as a copy from Ruby 1.8.7.

commit 2afcfd01ef871cd643cd32700201601b52b386eb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jun 2 21:05:44 2009 -0700

    Revert "Inline caching for global variable accessors. Why? Because it's there!"
    
    This reverts commit ed72b6b0d8761df1b0404ac82563158f8428aa2f.
    
    This breaks the JSR223 engine's global variable stuff. We'll need to take another look at doing this, if it's actually worth doing. JRUBY-3729.

commit d337bb6f8bf4483360355b0d96587ef6acf9a656
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 28 11:48:03 2009 -0500

    Fix load name for jruby/core_ext library.

commit 854953308a4985e4ca2dc79828c5ed3bef82d582
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 14 12:43:11 2009 -0500

    Fix for JRUBY-3647: Severe performance degradation from 3d9140fafcda9c4fe6b9d5a1fec0ae9822877e03
    
    My lock-free approach to fixing JRUBY-3551 was clever, but introduced too much overhead into applications that do a lot of includes at runtime (usually in the form of obj.extend). So this falls back on the second-based fix, introducing a global hierarchy lock for when multiple threads concurrently tweak the hierarchy bits. Should still be as safe as before, only slightly slower for hierarchy modifications, and way faster for creating new classes or including modules.

commit ed72b6b0d8761df1b0404ac82563158f8428aa2f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 14 10:01:28 2009 -0500

    Inline caching for global variable accessors. Why? Because it's there!

commit b15402d92d30fbbb977e53e79163dc762f864428
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 11 18:25:47 2009 -0500

    Wire up new Constantine-based Fcntl constants. JRUBY-3349.

commit 02a5c74cea28c1d0cd6ebc0b65725fd7ae8ba346
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun May 10 23:30:04 2009 -0500

    Fix for JRUBY-3633: JRuby 1.3 Fails to Execute Embedded Ruby code in Java
    
    Re-add deprecated versions of the yarv-boolean "run" methods, to allow existing code (like JSR-223 engine) to continue running.

commit dea6cf5b56b0a436b99fe3aecf89be34f5c07159
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat May 2 12:47:29 2009 -0500

    Remove extraneous ExecutorService creation.

commit ddf259c1f7222b290714e3f10648b45c3fd59fba
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Sat May 2 14:18:43 2009 +1000

    Revert "Rewire fcntl to hit the FFI platform versions, so all constants are live."
    
    This appears to break things when there is no FFI fcntl.rb for the
    platform.  Will redo shortly using constantine constants in File.
    
    This reverts commit ebc4d6384a60b8d9f583a1d82a69103b13e6bd4b.

commit ebc4d6384a60b8d9f583a1d82a69103b13e6bd4b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 1 10:59:03 2009 -0500

    Rewire fcntl to hit the FFI platform versions, so all constants are live.

commit 21efdb5d37426f6b62730e388eef5a0c880c2633
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 28 17:13:40 2009 -0500

    Add a Rubinius-mode for top-level backtrace output.

commit ca771648f6a448260b15d68deaff89bd237acad8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 25 12:52:40 2009 +0200

    Move timeout into a native library; passes all specs, tests I could find.

commit 2257c8f811fab8d675a942c86ab712922dc46c6f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 10 14:11:16 2009 -0500

    Remove all code and references to the outdated and nonfunctional YARV and RBX bytecode support. Both have evolved since, both will need a fresh look, and current interpreter is now much faster than either engine.

commit a2a65ce89114389f9ebffe3bbe45f79fc1ae272f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 8 21:25:18 2009 -0500

    For -n, -l, -p flags, move scope initialization outside the body execution.

commit 3c204142ccc5bb96b8cecc18d2ba616b8fbb4c05
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 6 18:25:27 2009 -0500

    Make all references to the fixnum cache use the same static final int, so it can be adjusted easily for experimentation.

commit 07b96edc551a1b539f66f271ccb78c74bf92cbd3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 4 04:17:37 2009 +0000

    Modifications to move toward method_missing being "just another method handle", allowing for inlinable dynamic calls real soon now.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9519 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7417037b7e8bfcaa7b06601c3b227193bf3a1b2e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 10 19:59:33 2009 +0000

    First prototype work for compiler 2, plus modifications for global runtime stuff.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9391 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0d279402ad495c5a9bf2d3842d525e53a194a11e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Mar 8 03:43:17 2009 +0000

    Add back the ability to retrieve runtime from a classloader-global (static) field. Does not appear to impact performance whatsoever.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9373 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c9dfe522d490ef9a54b3738b71fadc9e3ca9f968
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Mar 6 07:54:32 2009 +0000

    Fix for JRUBY-3449: jruby-complete-1.2RC1.jar seems to break FFI
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9361 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6e3506e5b78f69339ef142bc118f419faf4d8b10
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 24 22:27:57 2009 +0000

    Fix a few comments and breakages I introduced with previous Ruboto commit and make a printStackTrace only during debug mode.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9312 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 28bf75a9274a3a32b64930ea6d401fd494173e44
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 24 21:10:13 2009 +0000

    Minor tweaks to get JRuby running unmodified on Android:
    
    * Don't use EnumSet for mapping Errnos; seems to be a bug on Android with EnumSet.
    * Load JMX-based BeanManager stuff via reflection; no JMX on Android.
    * Explicitly pass the default 8192 size to BufferedReader and BufferedInputStream; Dalvik warns otherwise (???)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9306 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 38420837403b163d0dac9ee65fb78cf237a71edc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 23 06:16:09 2009 +0000

    Add trust/untrust/untrusted? methods for Ruby 1.9, update RubySpec, and fix an expected error in Module#autoload.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9271 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7f64e0e91e7c144d678da2a9a057e03f9bef5ef1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Feb 20 22:40:50 2009 +0000

    Basic thread pooling for Fiber.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9251 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a47bd7faa0da9dc66eb79c66e48edb44a3cb1d83
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Tue Feb 17 19:08:33 2009 +0000

    Use Ruby.is1_9() where possible.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9217 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 60f3d6628f5a79946c651d7e8dc41d9b5a11e518
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 17 06:18:27 2009 +0000

    Fix for JRUBY-1079: IO.sysopen not defined
    
    Thanks very much to Riley Lynch for the patch!
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9212 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d63cc4db5bf5e1c4c029cf3ae034fd75b256de47
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Feb 16 17:19:47 2009 +0000

    JRUBY-3410: Add -y flag to debug the parser
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9194 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 99f983249e106d4153d4d7421f9feeacfaff6af8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Feb 13 23:04:16 2009 +0000

    Rejigger how binding works with files and line numbers. It appears that we weren't tracking everything we needed in a binding. Instead of holding the current frame plus the current file+line, we held only the current frame. This led to us constantly setting and clearing the frame's line numbers in an attempt to get traces to line up. With binding carrying the original file+line, that juggling is no longer necessary. This fixes an eval spec and should improve backtraces across eval calls, which had numerous peculiarities before. This also fixes JRUBY-2328: Overriding require causes eval to give wrong __FILE__ in certain circumstances.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9140 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 262f2ef22f7c2733ebd97c47c7835b423cc13a67
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Fri Feb 6 21:02:07 2009 +0000

    Define 1.9 StopIteration exception.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9051 961051c9-f516-0410-bf72-c9f7e237a7b7

commit db732f280723facd91bf2c8b6d5a92187083d37d
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Fri Feb 6 19:43:35 2009 +0000

    Bootstrap 1.9 Enumerator::Yielder class.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9048 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b12bb4d2dd15451af3dc265868ff784c8036e12b
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Fri Feb 6 19:36:44 2009 +0000

    Bootstrap 1.9 Enumerator::Generator class.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9047 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d5917ab017873fd1aca4fb008d9db98238cd1062
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Feb 6 01:54:23 2009 +0000

    Implement 1.9 Kernel#caller and require_relative (plus other 1.9 prelude stuff) in preparation for 1.9 tests.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9039 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4c35d54c6ea42b2a73dfc366eb27fd4a4927e009
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 30 00:23:40 2009 +0000

    Second phase of block arity-splitting: argument counts 1-3 now pass from compiler back to BlockBody unwrapped.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8943 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0746d04376d5a16802b95e5062fe586c687d2ae6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 23 09:04:02 2009 +0000

    Improved Yehuda respond_to optimization.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8876 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1501bc7a0241b767ed5a0ccf1736bf00de5c024f
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Fri Jan 23 09:01:24 2009 +0000

    Rework Ruby#loadConstantSet to use the complete cross-platform set, and filter out constants that don't start with an upper case char
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8875 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5a2bf93b221217617d81ac60cd5be3838acce9b9
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Thu Jan 22 23:07:32 2009 +0000

    Change some Socket constants to use constantine instead of hard-coded
    fake values.
    
    Also add proper support for TCP_NODELAY, which was previously broken,
    and broke some tests when different values for IPPROTO_IP and SOL_IP are
    used.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8871 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fdb385e10a30b1649ca6923ec079bf5c7fa9815a
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Thu Jan 22 23:06:57 2009 +0000

    Remove IErrno and Errno since Constantine has fake errno constants
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8870 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 082f232db7ed9f9ac4851155b051120f59e74569
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 20 07:38:12 2009 +0000

    Finally commit Time.local fixes for Rails' many timezone-related failures. Patch by Stephen Lewis for JRUBY-3254: Make JRuby's Time#local behave more like MRI
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8846 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8a6966218398e00f487ba2f8162816e6895ca4cf
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jan 16 14:47:38 2009 +0000

    JRUBY-3307: tempfile.rb sucks in JRuby
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8802 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d122b96f305a63ca98208dea5653ececbf3000a5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 13 15:54:25 2009 +0000

    First steps for block/proc optz.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8744 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ba18033fa6306acf66a8a15dfbfda348d7c877c5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 11 15:12:01 2009 +0000

    First set of fixes to get JRuby running on IBM Java 5. Remove generics on descriptor map (confusing poor IBM
    javac) and avoid naming multi-arity methods different names (current code doesn't handle it either, so hash
    ordering differences break method binding).
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8702 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dfc95ecfd773db530964bc7a0e902385bde75194
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Tue Jan 6 18:28:11 2009 +0000

    Another round of Regexp refactoring, make most initialization/cache lookup code to Regexp instance independent methods so we can toss plain Joni regexps around.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8612 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ca3c9c732c61f0dc72167b03295bec7d98fcad7c
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sat Jan 3 16:27:49 2009 +0000

    Move default internal/external encoding from encoding service to runtime.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8578 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2ce155eb1a6297de8648580bcbabec7364333e39
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 26 23:32:14 2008 +0000

    Modify all interpreted call paths to never check for event hooks when not started with --debug mode. This reduces overhead for both pure interpreted and interpreted+jitted methods. Since --debug was necessary before for event hooks to work, this does not break anything. It also opens up the possibility of adding tracing to jitted output, since it can be conditionally emitted.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8465 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 958b00744a837193ad8e7dd75e909d1542427508
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Fri Dec 26 17:25:13 2008 +0000

    Dummy 1.9 Encoding::Converter.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8458 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 58bfd651321af144c70250f4e8e180b3bf8be4de
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 23 20:23:19 2008 +0000

    Add StackOverflowError logging in debug mode. Still debating whether we should just let Java's stack error bubble all the way out, since a stack overflow is almost always unrecoverable (data structs in bad state, etc).
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8446 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3809576cfe26f4a75a73f5b08c0fa1a1e55afc11
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 18 02:57:58 2008 +0000

    Enhancement for JRUBY-3248: jruby can't load file produced with jrubyc
    
    I'm not sure why I didn't add this sooner; this allows normal org.jruby.Main loading to also accept a compiled .class file, so you can precompile scripts and still run them from command line with the 'jruby' command.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8394 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4f35d613126441c2fdda6cd2ecd71d9d4cfe7da8
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Tue Dec 16 19:47:02 2008 +0000

    Introduce isVerbose and warningsEnabled runtime booleans to easier and faster distinguish $VERBOSE is nil/false/true.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8369 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1d6c408a473993d644e943cb4d4f6d788927655a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 16 18:04:40 2008 +0000

    First round of twiddling to get 1.9 compilation work under way.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8367 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bdbe0ee70a906fe3e911b6431aa13f5207bcb41b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Dec 15 14:58:15 2008 +0000

    Minor tweaks
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8344 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 32278d1ee02c9ba39f866a18feb073a4430e6abf
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sun Dec 7 00:40:17 2008 +0000

    1.9 String#capitalize/capitalize!.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8288 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 66f85e6dc280f98ecd9379349caa3e79e6a5fa53
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sat Dec 6 20:34:48 2008 +0000

    1.9 version of RubyString.eql (used by Hash internally) 1.9 rb_any_cmp/rb_str_hash_cmp. This is one of very few situations we have to perform runtime check against 1.9 mode, though it turned out performance drop is negligible.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8279 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9edd694494af51ea40e7b675e40bfed67f4bdc54
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sat Dec 6 16:40:51 2008 +0000

    Finalize some runtime fields.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8278 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5bc4c4170cb46cf66703bc405f8ebcbab34fc835
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Dec 3 01:58:25 2008 +0000

    JRUBY-1489: Adding encapulated parse methods for external uses, such as JSR223 API implementation
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8251 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bdbfba1faa96809dfb2efdecce491ef3d94afb01
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Dec 1 22:34:27 2008 +0000

    JRUBY-2324: AST Node positions and content incorrect when passing down Multibyte content to lexer (syntax exception part)
    Possibly also JRUBY-2484
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8237 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3a1517d77640203cdbe098c55ce541115ce86f8b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 26 15:01:25 2008 +0000

    Additional tweak for JRUBY-3185 to use a ReferenceQueue for cleaning.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8147 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bf8db0bc4acaeed7900b867e821e959f254be0be
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Nov 22 22:57:11 2008 +0000

    Biggest commit eva (1.9 parser+1.9-runtime-related-changes landing)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8099 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0c1c4968bfd2db9c52d53f5ad45a4e9c8a013fae
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 13 21:14:40 2008 +0000

    Multiple fixes, updates to rubyspecs:
    
    * Updated to latest rubyspecs; have not gotten full run tested yet but spec-short is clean and tagged
    * Modified fetching to use wget; ant get does not handle githubs redirect well
    * Fixed a minor issue in Array block-accepting methods where error message did not match spec
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8066 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 22119c2810da0df3f10096c307dbd0de723fff9a
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Fri Nov 7 19:31:35 2008 +0000

    Add EncodingError and Encoding::CompatibilityError
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8011 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3d6d3488de997e1d6bfa895f3b24186e372791ed
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Fri Nov 7 02:25:30 2008 +0000

    1.9 Encoding class and runtime encoding services. Support for finding, listing names and aliases, lazy loading, proper encoding name constantization. Very lazy encoding loading scheme to exploit encoding method devirtualization which 1.9 can't do. Next big step: make jcodings Encoding a ByteList member (so we get for free String, Regexp and File/IO encoding storage).
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8006 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bff3b3bf1d210302b8eabbb401cae2f497b58c80
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Wed Nov 5 19:07:40 2008 +0000

    Big opt for Arrays by using Nil prefilled array to fill empty/ahead storages by System.arraycopy. 5-10% faster literals. The bigger the array the bigger pay back, e.g: Array.new(400) is more than 2x faster.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8003 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 302eb3dfb6a1d052cad541a49081795590e6efa5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 31 02:51:34 2008 +0000

    Reenable constant cache with a global generation number; name-based was tricky to get right and I'm really burned out.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7976 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0cafbbed1a85fddb5c98b91dab1542f6fb1fcf6e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 24 19:50:48 2008 +0000

    Another fix for some IBM JDK unusualities: finalizers coming out of the finalizer iterator (in Ruby.tearDown) null, causing NPE.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7910 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6e673b59cd7223c945b6b1a4aab23154f48b217a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 24 04:46:31 2008 +0000

    Wide-ranging rework of exception-handling synthetic methods:
    * Chained compilers split into two, to handle outlining code within child-scoped methods as well
    * outline method moved to Root and Child method compiler base types
    * Simple ensures modified to use new outline logic
    * Rescues modified to use new outline logic for both main logic and bodies; no sharing yet between ruby and java exception paths
    * Small reduction of code generated for rescues
    * Simplification of rescue logic in compiler, due to outline use
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7904 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d19b777d04439a3632eddd40271a4e32d8eae475
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Sun Oct 19 08:00:40 2008 +0000

    Move to constantine-0.2
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7889 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 39b2eb5fd8cd6f608a204dde1c9ca6312c1e95ec
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Oct 16 20:52:50 2008 +0000

    JRUBY-3028: ObjectSpace#each_object blows NPE when JRuby is run via bootclasspath
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7882 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 01671a002cdd0371c873000b29b683da4ddbfb4c
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Tue Oct 14 09:09:10 2008 +0000

    Remove the local generated constants in favour of using constantine.  Also add constanine-0.1.jar to build_lib
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7878 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1870a13957039555a141f3589093a8417c30a3ff
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Oct 13 20:42:06 2008 +0000

    Generation-based inactive invalidation of constant site caching (active cache invalidation sucked in Rails)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7876 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e1be5e774d00e65627727f87a16a80cb0b93a78d
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Oct 13 18:31:44 2008 +0000

    Clean tree...Remove cache map and friends since caching strategy no longer uses them
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7875 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 74deae83536b0efcbf299a4e57002769a16c3a61
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 11 22:10:15 2008 +0000

    Fix for JRUBY-3049: EXCEPTION_ACCESS_VIOLATION
    
    This commit has several changes to simplify jump exception handling in while loops:
    * The "reason" for LocalJumpError is now based on an enum, so there's no need to .equals a string
    * Redo handling is now a separate try/catch chunk contained within the loop, rather than part of the larger chunk outside it. This prevents the redo from jumping back into the exception-handling logic, which was the source of the crashing.
    * LocalJumpError handling within a while loop is now implemented as a RuntimeHelpers call that checks for redo|break|next and *rethrows* a normal JumpException subtype. This allows the jump-handling logic to be reused, and moves the LJE-juggling to a separate piece of code.
    Not only does this solve the segfault, it also substantially reduces the amount of code emitted for a jumpexception-aware while loop.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7871 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0be23d6124bbc965e1fcb634ac89561bdc7b1dff
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Oct 11 15:21:49 2008 +0000

    JRUBY-3052: Cache constants at their call site (const_node)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7867 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9d2d976bd654a2d6ff9f358e2ec192c5135e2319
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Fri Oct 10 10:27:22 2008 +0000

    Fix JRUBY-2219 by adding constant generation based on the FFI const generators.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7856 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 40a73091ffd8be3351f74b958559030402e2b543
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Oct 9 04:30:11 2008 +0000

    Flip some 1.8.7/1.9 features to 1.9 only, since we're backing off 1.8.7 support. Move tests to 1_9 variants so we don't lose them.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7852 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 87fc0c952b468607c3a2935bd7bad60488f007c9
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Wed Oct 1 21:14:45 2008 +0000

    Fix for JRUBY-2905: NoMethodError does not give a useful message when thrown in BSF.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7808 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7c82c874051624371d479c7aacdeef4671f9815c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 23 18:16:16 2008 +0000

    Add jruby/core_ext library to enable Class#subclasses.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7768 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e451942addab48bda1311473ab74839c984e9919
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sat Sep 20 19:26:38 2008 +0000

    No more Precision module in 1.9 mode.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7729 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e84813e2e2551967af2250a6c8bd7d4051e22fcd
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Mon Sep 15 17:52:13 2008 +0000

    Basic 1.9 enumeratorize support.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7706 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3fc75aa4e0fb355b8781f073479fd053dd581599
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Sep 14 05:06:11 2008 +0000

    Eliminate constant and class var dependency on heap-based scopes.
    
    This implementation degrades performance slightly for normal stack-based methods (fib goes from 0.33 to 0.37) but in exchange it allows methods with constant or class var access to also be stack-based. It is also a stepping stone; with this code working, it's now easier to return stack-based bodies to using no scope at all and having no pre/post logic.
    
    Also included in this patch is a change to evalScriptlet that forces each call to execute in its own scope. I've always been suspicious of evalScriptlet, and now I know why: it was adding variables to whatever scope happened to be on the top of the stack. Even worse, if variables were already there, it would reuse and potentially overwrite them. This behavior simply cannot be allowed, and my forcing stack-based scopes to use NoVarsDynamicScope exposed it. evalScriptlet must execute each call in a separate scope, and we should consider adding a new version taht can take an existing scope.
    
    Note also that TestVariableCreation, which depended on evalScriptlet's broken behavior, has been removed.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7698 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d047e0694aefc95c922dd6c6a4f9d39c32472034
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Aug 31 10:14:21 2008 +0000

    Add a ParserStats MBean to gather metrics on time spent parsing.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7608 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a8e0d81256a190106d3aa91336d4d6433ef65003
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Aug 26 01:30:17 2008 +0000

    trivial changes
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7537 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4c65fe38521030d5dbc4cdfa4fd509cfb8295073
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Aug 20 22:36:35 2008 +0000

    Change Events to be based on enum to better encapsulate line offset logic (path by Jay McGaffigan w/ mild tweaks by me)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7507 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2eac21c8f5062bf346b2315963174c8091e37844
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Aug 18 20:39:50 2008 +0000

    JRUBY-2932: Move static soft reference timezone cache to be runtime-specific cache to remove complexity of dealing with soft references
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7494 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1a8b8860af086a58ade4ec5badb1260771ecf9c7
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Aug 15 15:11:18 2008 +0000

    Fix large memory leak in management support. JRUBY-2924.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7471 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 16c2535acd64558d402fb75f37709dc1644cbcb8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Aug 10 21:21:51 2008 +0000

    Clean up numerous cases where we box args unnecessarily by calling newer specific-arity "invoke" methods on RuntimeHelpers.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7429 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 571842914dfdc6fe938a4ed37b7b182b069cb1aa
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Sun Aug 10 16:09:23 2008 +0000

    More removal of JI from the FFI setup
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7425 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cf398c5448461a3dda12d9ccf79d940d00345b04
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Sun Aug 10 16:08:38 2008 +0000

    First phase of removing FFI dependency on JI to load it
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7424 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 00b50ec16a89ac3c0a267a8446ac3b571722fc1b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 6 06:47:42 2008 +0000

    Chop up some methods hotspot said were too big during an interpreted fib run.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7383 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 55c83e74fc0219c30389455395f377eb4812bf3a
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Tue Aug 5 23:39:45 2008 +0000

    Full implementation of 1.9 Complex/Rational. Those classes are _very_ tightly integrated with the rest of core library (Nil, Kernel, String, and all Numeric descendants). Lots of default behaviors are dramatically changed (e.g. 10 ** -5 returns Rational instance now) so it might be difficult to test it all at once. 1.9 Complex and Rational classes are not rubyspec compatible, we fail then the same way 1.9 does (in 1.9 mode, though jruby should fake requiring Complex and Rational then). 1.8 mode should stay unaffected.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7378 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6902d680a0945369c10bbcd5356704fae727fa60
Author: MenTaLguY <mental@rydia.net>
Date:   Thu Jul 31 18:07:13 2008 +0000

    add ConcurrencyError
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7331 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6f85e7fd5351d6e795c1cf2a8daa94b128d61621
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 25 20:48:28 2008 +0000

    Add our first Java-land call site, for invoking initialize during object construction. Simple user object construction about 25% faster. Java object construction about 30% faster, now under 1s for 1M Integer.new. Looking to expand call site logic for general-purpose use (coercion calls, etc).
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7297 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 93fed5c7a6bf93d3f295840d097f4580476ce8c7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jul 24 03:30:45 2008 +0000

    Rename the builtin name of several libraries to .so, so they can be overridden by a .rb if necessary and loaded with .so if specified explicitly.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7281 961051c9-f516-0410-bf72-c9f7e237a7b7

commit edd8190afdcb203f9d0dadf723f5f0b023cd8d93
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 20 20:54:51 2008 +0000

    Fixes to make Rubinius and YARV flags functional again.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7246 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 43ed0203cac85a54501db6a5181d35db91bb241d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jul 17 09:23:03 2008 +0000

    Remove the never-used metaclass-detaching logic contributed by GemStone. If all goes according to plan and we're able to do lightweights by the end of the year, it will be unnecessary anyway.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7207 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1561011443e9a61505d31b7028506ceb2a952232
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jul 17 05:56:29 2008 +0000

    JRUBY-2722 for real this time AND Rails works
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7205 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 10b0ce3b75a75c33285e603d04a11792bbbfb5ee
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jul 17 03:13:05 2008 +0000

    Update tracing test to match released MRI behavior.  Make 'return' events match MRI
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7204 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 87eae19998b2494c376f9e8d1d79addc52884678
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jul 17 02:55:15 2008 +0000

    Unbreak $0 != __FILE__ (plus this matches MRI expected value)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7202 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 50bad77e6d45909793dae606a5476dd163a8358b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jul 17 00:03:09 2008 +0000

    JRUBY-2722: Interpreter passes absolute path to the EventHook for 'require'ed files
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7198 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 01f3db54f9dab483c54a81618c2b8f8a6dfde5d9
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Wed Jul 16 15:49:34 2008 +0000

    JRUBY-2809: Not all at_exit blocks are being executed.
    
    * Regression tests added and pass on Linux and Windows
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7191 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1a6b635900f434142a8e67b6a69112ab37fa08c1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 9 19:59:45 2008 +0000

    Add --bytecode flag for debugging, experimentation purposes. Might move it off the list of standard options?
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7133 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 72975c6c9467ac11677b86f3886e555911e50299
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 9 00:34:32 2008 +0000

    lots of RO.getRuntime removal
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7131 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dd6961afadc591749d9f79edcb83ba8f788005bd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 7 03:31:44 2008 +0000

    Rework of how break and return handle jump targeting. Now all frames have a final jumpTarget field used as the target for the non-local jumps, rather than using the block body (which is static and breaks cases where the block is passed through multiple levels) or null (jump target will never be null now). For JRUBY-2756.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7110 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1b06d72d921434e39252fbfb380da27d2f26f9df
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jul 6 15:04:49 2008 +0000

    It is valid to have a null message in an IO exception
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7107 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 69da32d5a45c75e369ff40e730ed5a095cf91c6e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 4 16:06:54 2008 +0000

    Fix for JRUBY-2753, wrong file in c-return trace from require or load.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7106 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8f029624e1f7d410f8ad86e77fb6e69b7411c543
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jul 3 00:29:41 2008 +0000

    Fix for JRUBY-2738, NPE in TCPServer#peeraddr.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7081 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9cb91cb4a8566ceff59d039e96cea87970858717
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 2 02:15:25 2008 +0000

    Add jruby/type library for Rubinius "Type" module behaviors. Used by zlib.rb among others. First steps toward a few new standard APIs we can share in common.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7070 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9a0c82816e6c09c9c0cdcb600de7477a6618d46b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jun 30 22:44:52 2008 +0000

    Partial fixes for JRUBY-2721. This may be enough though, since it guarantees that dead threads can't be added to a threadgroup and once they die they won't stay there long (only a very brief window). Seems to resolve issues with Mongrel too. I will probably mark as resolved once I write up some specs for this behavior.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7057 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fb75b640ab02115ac6bb58781d670ee9bb41fd01
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jun 30 09:43:56 2008 +0000

    Add more smarts to "IOError from IOException" to produce appropriate errno exceptions for CONNRESET, PIPE. Probably others I'm missing. Damn you Java and your one-IOException-to-rule-them-all.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7052 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6892098b857acff6f6a311d670db548d7b339070
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jun 25 20:04:42 2008 +0000

    no need to get runtime from runtime
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7027 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b14872d45736680f5b49d580b243823d9c63a1d9
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Tue Jun 24 08:39:44 2008 +0000

    JRUBY-2320: Remove of unused imports in package org.jruby
    JRUBY-2321: Remove of unused imports in all packages
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7023 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0aa32bd5b65ad2dea484352b8e12a700e937f8bf
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Sun Jun 22 14:58:30 2008 +0000

    Fixed typos in Ruby and RubyObject.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7012 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 27438e0e6117ae74e0838c19e4af058b790cb48c
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jun 18 19:16:13 2008 +0000

    [interp] Unboxed attrassign node (2-3x speedup)
    assign is now based on same mechanism as interpret
    FCallOneArgNode has slower ASTInterpreter.getBlock instead of this.getBlock
    converted consumers of ASTInterpreter.eval to Node.interpret
    converted all consumers of ASTAssignment.assign to Node.assign
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6993 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 028c3fdef05e3d152a0ab17a2855a0484e3f84f8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 6 21:52:24 2008 +0000

    Add some additional props to JITCompiler mbean (code size, avg code size, avg compile time) and add a ClassCache mbean.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6915 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 826cc77af178edf5526ff137fb3594677fa23885
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 6 07:42:46 2008 +0000

    Add an MBean for monitoring and flushing the method cache.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6911 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 93d58db749772ced2c7fa0f5dab5c4db850cc9ce
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 6 07:07:19 2008 +0000

    Add an MBean for examining configuration settings.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6909 961051c9-f516-0410-bf72-c9f7e237a7b7

commit debe19cab41e3043dbb6745ca5d836d33fa797d7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 6 07:07:09 2008 +0000

    Add in basic support for JMX management and monitoring of JRuby, along with our first MBean to monitor JIT metrics.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6908 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 19069268ad2174a6d0da14a4b71444f636b2af71
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 27 03:19:39 2008 +0000

    New features for JRUBY-1463, add a JRuby classloading-aware ObjectInputStream to allow deserializing Java objects correctly.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6810 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 386e7bea65ed7766b0e5c12442feb92c2efc985b
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Thu May 22 17:54:31 2008 +0000

    Support for Iconv.charset_map.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6750 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3bb6b82f878bb1fabc16c2155d3cc814c5c0677c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 16 23:54:50 2008 +0000

    Early work on a new Java layer that's lighter-weight, more "raw", and more explicit.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6719 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a85973e9a76fe08c741fe226662a339d2f3e0fc0
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Mon May 12 18:53:14 2008 +0000

    Cache remaining core exceptions in the runtime so we don't get NPE's when they're reassigned.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6683 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ea0ada914fc139fe18b43999c9e3ab6d387cf41f
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sun May 11 22:16:32 2008 +0000

    Thunk based default method_missing message building. 2x speed up for: no_method rescue nil.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6679 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6977b68ccb65e1b1c1f177d7364edd63e160c0c7
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Thu May 8 17:25:08 2008 +0000

    More RubyString from CharSequence construction cleanup and deprecations.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6642 961051c9-f516-0410-bf72-c9f7e237a7b7

commit be1bc6f1635a8fd35a9353a34529b7543ce0d406
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon May 5 16:41:05 2008 +0000

    Fix warnings based on deprecations
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6624 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 19ac35c27b8787018c593344e9953d89035f2f62
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 1 22:07:22 2008 +0000

    Add miracle cure for slow startup to jruby(sh) and jruby.bat startup scripts.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6608 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7be3e62c35796d36ea332a1ecacf7455d73dce4c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 28 08:15:35 2008 +0000

    Multiple microoptz to compiled output:
    * all int loads now use smallest bytecode possible (biload, siload)
    * removed extraneous runtime params from several methods
    * split range instantiation into exclusive/inclusive versions
    * moved some array/splatting methods out of ASTInterpreter and into RuntimeHelpers
    * Modified Fixnum creation to use efficient int loading bytecode when possible
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6579 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 59ca34930cb08d32a9264d98865b0858cf1fb26b
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Fri Apr 18 17:52:30 2008 +0000

    Remove RubyUndef and replace it by RubyObject.UNDEF static.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6533 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1f190446814994ed4586a51bf2b0f4b32ff21df7
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Apr 18 14:55:23 2008 +0000

    Make Enumerator available as builtin
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6530 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f81c78123d869209827d30a8c03a3b4176df99bd
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Apr 16 21:17:32 2008 +0000

    Revert to using ActiveSupport to_proc instead.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6519 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9309a03590ec6a9a45cdbdad26be60eb146b8f5f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 12 15:13:56 2008 +0000

    Some fixes and simplification of instance_eval and related methods. No more Callback construction, and fixed some behavior that was not working as in MRI.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6481 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d065d9338f2f98f6e4fada6df33f5f748d389202
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Apr 11 13:05:08 2008 +0000

    A working version of rbuf_fill that doesn't use timeout
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6461 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9442ea80d2614d9a69f5b79b3ffed5c4baf7f072
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Apr 11 13:04:55 2008 +0000

    Add skeletal support for replacing net/protocol
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6460 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f03a771c9d4e4a0950ee293a39fbac6394b102ee
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 11 01:43:38 2008 +0000

    Partial fixes for JRUBY-2367 and JRUBY-2254, at least gets JRuby running under IBM J9, though tests and specs blow up.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6459 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a2d7f322e6a432b15359ad5d4f93f0595772866d
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Mar 26 20:26:50 2008 +0000

    Partial fix for JRUBY-2328
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6346 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f8a029af815ecf044f5268707b5855b85c738db0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 20 22:14:18 2008 +0000

    First round of logic to pregenerate method binding code, to avoid walking methods and annotations at startup.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6298 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e6b4326ec239a45f3a3fecd4faeff23d4ad6a69
Author: Nick Sieger <nick@nicksieger.com>
Date:   Mon Mar 17 05:09:44 2008 +0000

    JRUBY-1446: Preliminary '-s' support, when supplied manually on the command-line.
    Not yet for args on the shebang line.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6232 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3750f3a4556775bf9520115ed3ec9f2987542390
Author: MenTaLguY <mental@rydia.net>
Date:   Wed Mar 12 21:44:10 2008 +0000

    remove use of TimeoutError, since it was controversial on ruby-core
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6186 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 852d904134ad970a20497fdcc5d752dd4ae49766
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 7 22:04:54 2008 +0000

    The RC3 Surprise!
    
    Allow annotation defined ruby methods to optionally specify ThreadContext as first parameter
    Convert easiest and most common methods to accept ThreadContext when method or child method can use context
    
    These changes give about 15% improvement on petstore bench and about 10% in ar-bench.  In ar-bench getCurrentContext calls go from 14 million down to 2 million.  The remaining calls largely can be removed but they were much more invasive.
    
    IRubyObject op_eqq and op_equal both not have ThreadContext consumer, but we could see no use of this in any extensions and figured it worth the trouble of converting.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6143 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f31a311d5bfe02bdc5919ace02a59da67848d46d
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Fri Mar 7 16:48:16 2008 +0000

    JRUBY-2240: Ability to enable full ObjectSpace support from within
    ruby scripts needed.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6137 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6efcdf7ea0cfefe8963e05faa651eca27fcd464e
Author: MenTaLguY <mental@rydia.net>
Date:   Thu Mar 6 18:51:39 2008 +0000

    migrate TimeoutError to core
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6124 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a0bded3d0b73cafb29fbe13cd80a48f6644bc08d
Author: MenTaLguY <mental@rydia.net>
Date:   Thu Mar 6 18:49:24 2008 +0000

    gracefully chain non-allowing of classes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6123 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c52ef1b3855534b17842ace62394f352e1105af6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 6 18:04:59 2008 +0000

    Fixes for JRUBY-1799, allow the thread pool size and ttl to be configurable. Added configuration properties, --properties help, and moved the executor from a static field of FutureThread to an instance field on Ruby, so each runtime can have its own pool.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6122 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c4c463923a27519fcff8e4eb9b51d77461447415
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Feb 27 17:09:40 2008 +0000

    - Move setJRubyHome to instance config, so it can be set before instance is
      created and initialized
    - Allow jruby home to be set to 'file:' URL, so that it can reference e.g.
      'META-INF/jruby.home' inside the complete jar
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6045 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e74fa531a44397a7fa24c39da614eabf50c312bd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 25 01:24:44 2008 +0000

    Eliminate polymorphic implementations of getRuntime by naming the real getter on RubyClass different and eliminating other instances. As much as 16% improvement for fib under Java 5 and a few percent under Javaa 6 too.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6020 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 11162145749913e0379ecffb4b829fde760ba4ec
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Feb 18 09:04:26 2008 +0000

    Allow LoadService to be customized again.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5961 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b96f2b9e6685c94c94d86e2fad4b0ef16a844019
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Feb 16 23:30:27 2008 +0000

    Partial support for Etc group stuff
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5953 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 420e07a53740caacecd1aec08ec42b709e71a8fa
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Feb 16 18:48:37 2008 +0000

    Provide a separate quiet and verbose versions of JavaSupport.loadJavaClass, for internal use that shouldn't print stack traces.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5947 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e5ac6856750ecd2079addf00ab769d72038c8603
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Feb 10 17:48:19 2008 +0000

    -Key for compiled cache is just sexp now
    -Mild tweaks and warning removal
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5895 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c090a3211fb860057412a4ec684c7fede88405dd
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Feb 5 17:11:12 2008 +0000

    Fix for JRUBY-2061, implement UNIXSockets using JNA. Also fix some Errno problems
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5826 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 66b024fedbb2ee32316ccd9de8387931d07993ec
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 5 05:57:53 2008 +0000

    Merging the new IO implementation to trunk to give it appropriate burn-in time. Give it a go, friends!
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5821 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2b1a005a405839ca4eb268288816294e88f20a2b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Feb 3 18:37:14 2008 +0000

    JRUBY-2062: Add ids and convenient data to SyntaxException and IRubyWarning interface to make their life easier
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5806 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 55b1e747d6fd02d03695b731dbb28af9bef191a1
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jan 25 23:45:51 2008 +0000

    Phase I: Stop using ISourcePosition in runtime
      - Removes need to manage extra fields in compiler reducing memory size of methods
      - Seperates setting of setting line and file (later commit will be doing a lot less setFile's)
    
    - Removed a chunk of dead code from RubyKernel.eval
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5747 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fad6cbc50786ef3d7085118e3252f2f1d9fd9b6a
Author: Nick Sieger <nick@nicksieger.com>
Date:   Fri Jan 25 22:18:03 2008 +0000

    Remove unnecessary JRubyClassLoader accessor on RubyInstanceConfig
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5746 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fe71dd428b15ddb90afd0adc9514f03c85c5ddd1
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Jan 25 16:28:01 2008 +0000

    Add constants more correctly for Socket, make sure getsockopt actually throws an error correctly
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5733 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bec7f5528ee9d359999f68fe4e1f5f0cd4d466ba
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 25 00:48:18 2008 +0000

    Refactoring of IOHandler: IOHandler -> Stream, IOHandlerNioBuffered -> ChannelStream, bunch of methods renamed to their libc equivalents, some unused methods removed from Stream interface
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5719 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 12d3a7559642364e02bf569709012653c9d36625
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Thu Jan 24 19:04:34 2008 +0000

    JRUBY-2030: Attempt to load broken Java class breaks JRuby.
    Note: use verbose mode to see the original Java exception,
    that caused the problem when loading the Java class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5716 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 286d79c6ad2dee6f759c7d4620c9c1b9f0b18e5f
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Thu Jan 24 13:12:07 2008 +0000

    Fixed broken unsigned JIRB JNLP sample after recent regressions.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5714 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 791ffe12e4590873a0917cc05a55287b748c3c8f
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jan 21 18:49:06 2008 +0000

    Fix for JRUBY-2013
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5684 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a562366faf1d5292c693836c1ff1fad8de78c008
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sun Jan 20 23:22:44 2008 +0000

    Major regexp cache simplification. Enable global, cross runtime regexp cache capable of storing ANY type of regexps. Some other RubyRegexp cleanup as well.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5676 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2fa81574ffeaf58d286a02c797146705b0d8de12
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jan 19 20:03:31 2008 +0000

    JRUBY-1896: Missing method: IO#stat
    JRUBY-2000: IO#tty? returns false for "/dev/tty"
    Fixed error in build.xml for all specs
    Fixes provided script of JRUBY-1608, but the issues main description
    
    IO/File still has issue that fileno is not file descriptor.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5668 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 45acb347ae8e7ab01c57050a87fb579fd5f646c9
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Jan 19 13:01:04 2008 +0000

    Fix JRUBY-1952, the -T flag
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5667 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 405d8a96eb9cbb77a9e30d9007a83cc57d5672a1
Author: Nick Sieger <nick@nicksieger.com>
Date:   Fri Jan 18 18:14:38 2008 +0000

    JRUBY-1998: Fix system exits coming out of at_exit blocks
    - Also collapse test-short and test targets
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5659 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0a2f940b308e47fadfecf689e04e840846195b86
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jan 17 21:48:55 2008 +0000

    ext/posix is now JRuby free.  Next step extract.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5648 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 207780787c40f4fcf98d30c92ac03d817710db76
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 16 21:08:22 2008 +0000

    More javadoc for key construction and execution methods
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5631 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ca27ca8cb51872d9151ef9b52cd12b4e857f9cbe
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 16 20:02:23 2008 +0000

    Continuing cleanup: condense duplicate logic in defineClass/defineModule and add some javadoc.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5630 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9ae5eeeb0fca80ff8a08f6467a9526b8ee05e41c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 16 11:09:09 2008 +0000

    Large refactoring of Main.java and Ruby.java, with some additional work on LoadService and RubyGlobals. Cleaned up loading logic, reordered into actual dependency order, and broke up into appropriat emethods. Inlined and simplified Main logic. Set up LoadService to be constructed immediately and initialized during init, as preparation for loadpath/classpath unification.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5628 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2676a5f4e06e95e1c007f601e4d773c5090dc470
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jan 14 10:47:07 2008 +0000

    Fix for JRUBY-1948, support the -c syntax check flag
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5599 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 25260dfaa3467a5a20d747746fc39314aedb4f07
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jan 14 06:00:38 2008 +0000

    Fix my screwup on the refactoring of return and redo handling in invocation method handles.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5591 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f5203ff13f3da9d89f08458a06a777220a9fdb6b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 13 00:04:44 2008 +0000

    Multiple cleanups:
    * Tighten up NoVars scope to not do checks where it's unrecoverable (assert instead) and return IRubyObject.NULL_ARRAY instead of a new array in getValues.
    * Some cleanup of Ruby.java.
    * Fix RubyFile.expand_path arity regression from previous commit.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5577 961051c9-f516-0410-bf72-c9f7e237a7b7

commit aadea35369507f888b0b97afa2f59c68a63425a0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 12 03:15:55 2008 +0000

    Temporary fix for static threadlocal regexp cache.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5553 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 84d0648c2b6fd9bf81b54a8bec156a50d29ffd43
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 8 08:19:53 2008 +0000

    Add a max jittable methods limit, specified with jruby.jit.max. Default is 2048, 0 disable JIT, -1 disables max (unlimited). Should help permgen stay reasonable with large apps and many runtimes in the same JVM.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5535 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 70cf5b704f2bafe07ac5c3911afc90a8f839857a
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Jan 2 20:45:39 2008 +0000

    JRUBY-1862: missing Errno constants (McClain)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5459 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a694709e87e269be436ed1d176a688712beb9d5d
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 1 05:09:53 2008 +0000

    Remove unused callbackfactorys
    Add partial impl of Etc with some cooler pieces of it still commented
    Remove many warnings
    Some generics to lessen warnings
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5456 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 94dc806d8650944114eb947fc67724bc04ec0d4f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Dec 30 10:20:43 2007 +0000

    Much of the work for JRUBY-1847. Wait functions, pid/gid/uid functions all implemented. We will need to test against Rubinius specs, but they depend on fork at the moment. They should be possible to migrate to using non-fork child processes.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5439 961051c9-f516-0410-bf72-c9f7e237a7b7

commit db5949f3375aef81be7e117bceda731f7d2eee60
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 29 22:43:20 2007 +0000

    Trivial fix: SystemStackError should descend from StandardError.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5431 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d5edd038a6f0356e46d6307c3391182f12211e9d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 28 21:54:03 2007 +0000

    Fix for JRUBY-1812, load should accept a "wrap" parameter that causes it to load in a new top self.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5400 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 365535e309f50ec440b5929c33854f745e67f89c
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Thu Dec 27 13:27:32 2007 +0000

    Introduce newEmptyArray for null array creation (for cases where methods return empty arrays).
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5382 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 072684c7e26f2f254862b542adb7a1f39bdeab16
Author: MenTaLguY <mental@rydia.net>
Date:   Sat Dec 22 04:30:11 2007 +0000

    compile fix for r5335
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5337 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ed1cffba3ce453e277b5971af39fea2532c48ed6
Author: MenTaLguY <mental@rydia.net>
Date:   Sat Dec 22 04:26:16 2007 +0000

    threadsafe allocation of module and symbol ids
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5336 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 014ba11a30f5d7aed08986c77a2aea3f6748839e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 21 21:08:48 2007 +0000

    More security fixes for applets, specifically to allow IRB to run again. For JRUBY-1762, from Vladimir.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5329 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a78db1a702e5cbf7125c0311a9cbecf7289b0dc1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 21 13:54:19 2007 +0000

    Fix for JRUBY-1641 from Vladimir; safely check privileged system properties, since blowing up there kills JRuby.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5324 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2f96cf3f8e918c679668f9380628a3ce50ec81fc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 20 19:23:02 2007 +0000

    Replace pure Ruby/ObjectSpace-based weakref impl with one in Java using Java weakrefs.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5315 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e138e7380d7e56ee0e3a9d2f7817944bf2874c47
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 19 23:01:42 2007 +0000

    Cleanups and name-mangling unifications (along with a few compiler bug fixes) to make +C work during test runs and add full-file, forced AOT compilation to the test runs.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5302 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c70b662346fca654c9203dc290cf0e920f4ec53f
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Dec 13 19:45:51 2007 +0000

    JRUBY-1689: Tempfile class random behavior and "Bad file descriptor (Errno::EBADF)" exception (path by Vladimir Sizikov with some minor tweakage)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5250 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 41b7bd6f275a7cbb21508d5328867658a63baee1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 13 07:01:00 2007 +0000

    Remove a comment from my last commit.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5243 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 73504ebc3837d8bfa5a6bb73937770a184ee58e0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 13 05:45:46 2007 +0000

    Fix for JRUBY-1708, +C tries to pass along a scope when it should not.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5240 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4361da97ebe17743a34002d8c8789a2e9e43c6b5
Author: Nick Sieger <nick@nicksieger.com>
Date:   Thu Dec 13 04:19:43 2007 +0000

    Partially stubbing out openssl. This seems to be the minimal amount of stubbing
    to allow Rails 2 to run without the JRuby-OpenSSL gem to be installed. If the gem is
    installed it will take precedence.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5237 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4b46736a80bbf2f95c82c7ce4cd227a75ec5b4a7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 11 15:20:22 2007 +0000

    Multiple compiled tweaks:
    - Rename CompilerCallback.compiler to callback, to avoid conflicting with ASTCompiler.compile
    - Make ASTCompiler an instance, to allow for maintaining state during the compilation process on the tree-walking side
    - Adjust compiler client code as necessary
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5209 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8d8669086cdd9c1cabb4000f7279c6c74f078ca4
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Dec 9 03:15:08 2007 +0000

    Whoops.  Mistake in last patch.  Add back nativeSupport property and ENOENT on stat'ing non-existent file in Pure Java mode
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5199 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e4b20bafd8ec5e0b80afde2804b5a254ddcb14c4
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Dec 9 02:43:21 2007 +0000

    JRUBY-1516: FileTest#chardev? is not currently implemented.
    JRUBY-15: Implement File::Stat.ino and File::Stat.dev
    JRUBY-1438: Create JNA-based implementations of fstat/lstat
    JRUBY-1580: Pathname#unlink complains "<file> is not a directory"
    JRUBY-1433: File::Stat.uid needed for rubyzip
    
    This patch implements more than the above.  It also implements all of File::Stat, File::Test, Kernel#test, and all File posix methods (sans File.umask and File.readlink).  This is done via JNA and will work on Linux, Windows, and MacOS (32 bits).  64 bit systems require a little more work and Windows may be spotty (e.g. not as solid and Linux/MacOS).
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5198 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f7bf2e0b56501b3caa40db7742a70454f3a0abf4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Dec 7 11:40:19 2007 +0000

    Almost certainly a fix for JRUBY-1674, some other related issues, and some assertions to make sure it doesn't happen again.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5182 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a00faa4be44d094ed020d1161408d5c1982e7f4a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Dec 4 07:16:47 2007 +0000

    Implement TCPServer#accept_nonblock to get the Rubinius socket spec running to completion.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5157 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f81bedc13453dfff4d42467fa19a5ac7164ba72a
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Dec 2 14:33:33 2007 +0000

    fix for all known Generator issues. Generator spec and some of the fixes by Vladimir
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5142 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 57b8005ae7bcd84ecceb1800ff73df689765e3fa
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 30 17:23:27 2007 +0000

    Add --properties help for turning off native code (JNA)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5132 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a083c59df048f22cbeb3a36b456a371cd9676e26
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Nov 30 12:53:04 2007 +0000

    Make the base class loader customizable. Needed to get strange ClassLoader environments working - for example Ant
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5131 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9f4f129edbf1cd0f699405d7146f219bae629877
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 29 06:19:04 2007 +0000

    Eliminate the static reference to a default JRubyClassLoader in org.jruby.Ruby, since it could cause a sideways leak via Java SE's softreferenced java.lang.reflect.Field objects when running in a web container.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5097 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2bb2dff23d81e87184e0b13250995b74d2a7f206
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Nov 27 11:09:30 2007 +0000

    Merge Joni as new regular expression engine
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5072 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 07e5114c786a1115a5599bee467f895168c41d67
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 25 10:22:55 2007 +0000

    Centralize Java classname/identifier name mangling. Refactoring will happen from here.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5034 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3d346cbe8531c2c22c6acf71a8fd8ff3bb324850
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Nov 23 22:55:55 2007 +0000

    JRUBY-1614: File.open should throw Errno::EACCES when opening non-permitted file (patch by Vladimir Sizikov)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5012 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1eb51095b1447ca07e086b2bd92d4d292fc0c545
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 20 04:55:25 2007 +0000

    JRUBY-1279: Changes and additions for GemStone's contributed patch to add a threadlocal runtime mode. This mode will be used in the near future for GemStone object persistence, as well as for Ruby use cases that do not require separate JRuby runtimes. This in turn enables things like generalized object serialization and the upcoming "compiler #2" that can produce normal, instantiable, callable Java types.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4971 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 83ad9a5567c816ae4112d73e1a87c903a86ab7c0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 14 05:56:28 2007 +0000

    Move fiber to 1.9 features.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4938 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 25297c74c3df6eef58b1e46bae1c2b93681554e3
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Nov 11 21:02:49 2007 +0000

    JRUBY-1057: Rubinius core/exception_spec failures
    
    Small classpath tweakage for Eclipse users (for debugging)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4915 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4bab7c8c05a043f327bf0ce0a21a569c7d6c5522
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Nov 10 01:15:39 2007 +0000

    Pulling binding contents up to a superclass of Block
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4895 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 697648ac073d7f67c08be154342f8e663620bc22
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Nov 9 21:47:50 2007 +0000

    Nick+Tom classload cleanup pass
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4894 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5c9c1cb72dac2e27eeea016a4734c92d9540e22b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 7 06:02:50 2007 +0000

    Multiple changes to clean up CommandlineParser by merging it into RubyInstanceConfig, make NG work better, and so on.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4880 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 73fdeb56818711cc7193ad1a3d19c7ed217ddaec
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Nov 6 23:34:35 2007 +0000

    Whoops left a print in last commit
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4868 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8438de79af20af1a08d81c51f213db82ec483f4f
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Nov 6 23:24:31 2007 +0000

    JRUBY-1064: Rubinius core/object_spec failures (patch by Patrick Farley)
    JRBUY-1106: Process.euid() not implemented, causes MailFactory failure
    
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4867 961051c9-f516-0410-bf72-c9f7e237a7b7

commit da95cc738b1640fd9c13271a33e74770d6e7704d
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Nov 6 18:17:02 2007 +0000

    Whoops, all that was not ready for checkin yet
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4864 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e7f241931e427082b457a1d44772cd45d1db529
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Nov 6 18:16:07 2007 +0000

    Remove -J-Xmx bit on trunk bin/gem as well
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4863 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3d2df6d93e4d2171fd5eb2d5f6c93bb3b652424d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Nov 5 21:51:55 2007 +0000

    Rewrite of IOHandlerSeekable.gets to better utilize NIO and buffers.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4861 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 80926ef73e074d1b2a42bccbea7da22434b86aeb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Nov 5 18:04:37 2007 +0000

    Updating compiler properties and flags for new standard:
    jruby.compile.mode=OFF|JIT|FORCE
    -C flag = OFF
    no flag = JIT
    +C flag = FORCE
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4860 961051c9-f516-0410-bf72-c9f7e237a7b7

commit eb1b43182f28038c526225f8a8a63a563cf55123
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sat Nov 3 23:16:20 2007 +0000

    Deprecate getDefaultInstance in favor of (simply) newInstance
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4852 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c2dd723b36d0748bc3d720708b351c0b3c25561e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 30 22:05:04 2007 +0000

    Move of Java support stuff to a loose directory for JRUBY-1473. No :nodoc: done yet, we'll get to that before 1.1 final.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4812 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 170296806447cb4ecbb5b02f60ed2392598ac82d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 30 07:37:54 2007 +0000

    Fix for JRUBY-1286.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4791 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b13d510c1a617cd792d486e702dbd3e21dd5c89c
Author: Bill Dortch <bill.dortch@gmail.com>
Date:   Tue Oct 30 06:44:22 2007 +0000

    Concurrent SymbolTable implementation. About 5% faster (in bench_symbol) than the ST code introduced in 4580 (which is mostly reverted here), and now threadsafe.
    
    As with the concurrent vars code, should perform especially well in multi-threaded applications.
    
    For interpreted mode, caches the symbol at the SymbolNode (almost identical to Fixnum handling).
    
    Still _much_ slower than MRI in bench_symbol (unlike vars/constants, where we're faster now).  Could be much faster if we cached the Symbol in compiled code.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4787 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dc36ae92199a4f831cfcff44250a56917ec59ab0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 27 06:33:07 2007 +0000

    JRUBY-1482: fixed bad files in previous commit.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4767 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 83f8bbdb95d84a9459ae93d2f5d101fd7156ca46
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 27 06:31:05 2007 +0000

    Reverting JRUBY-1482 commit; other stuff snuck in.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4766 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3c5de5b0cfbc9f43ccb2fd2fe949da8f601b101f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 27 06:23:50 2007 +0000

    JRUBY-1482: Make ARGV default to [] always and be configurable through RubyInstanceConfig.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4765 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9bafd553a2463b919476a938d549a892f05567ba
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 27 03:30:48 2007 +0000

    Lazy-load the classes associated with extension libraries, as well as wrapping the load of those extensions in error handling to make things like ClassNotFoundError be propagated as LoadError.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4759 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 47fc3bf1ebb3d45594f50d9ccc88d56e8aadeba2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 26 19:26:48 2007 +0000

    Fix for JRUBY-1468, fixes the original issue, adds a whole raft of tests, and fixes a few additional issues discovered.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4747 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 627de18d06c15c8ec6d241015b64d95c856b3a51
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Oct 26 16:07:39 2007 +0000

    Fix for JRUBY-1459 and JRUBY-1460, fixes to Sockets, more compatibility in error messages, and DON'T swallow all exceptions on write().
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4743 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ec8033ab24e4d0bd6c0baa73bf5c072b38c39990
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Oct 25 20:55:58 2007 +0000

    JRUBY-1473: newSymbol symbolid's make 1.to_sym, etc... give weird answers
    JRUBY-1066: Rubinius core/struct_spec failures
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4735 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 16e5550655d971eca1eeea0a2fe8794b86928b97
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Oct 25 18:14:24 2007 +0000

    Lexer jumbo patch.  Speeds up general parsing 10-15%.  Cold parses are about 30% faster.   Code has been refactored to the point that additional optimizations can be considered (like bytelist identifiers for alloc-less identifiers; same for uninterpolated string nodes).
    
    intern'ing of identifiers now happen in lexer rather than being smattered through AST
    Reader -> InputStream for LexerSource
    A new ByteList LexerSource for evals
    
    Additional bugs fixed:
    JRUBY-1408: JRuby crashes with error: can't find string "EOF" anywhere before EOF (SyntaxError)
    JRUBY-1443: Wrong position information for a CallNode with parentheses
    JRUBY-1435: YieldNodes sometimes have wrong position information
    JRUBY-1416: eval of a "proc" with setting the line number for something lower than 1 to adjust the line number causes "java.lang.ArrayIndexOutOfBoundsException: -1 (NativeException)"
    JRUBY-1432: NFE from RubyYaccLexer.yylex
    
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4731 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fdfd50dfb65a37ce0d69bb7fa53c8058dc572e3d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Oct 25 00:56:02 2007 +0000

    An additional change for JRUBY-905, to allow Ruby instantiation without the overhead of a classloader-per-instance.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4723 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 76dd8bc74c22b786736131cc19f9578575c7614e
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Oct 24 02:27:23 2007 +0000

    Unify warnings a bit more. Define accessors for $VERBOSE and $DEBUG inside
    runtime.init() so that embedded Ruby will see them also (e.g., unit tests)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4704 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9dad4334314454dadb31f9cf68f391c3c3fafc7b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 24 00:48:06 2007 +0000

    Fix for JRUBY-905, allow/use a different JRuby class loader for each JRuby runtime
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4698 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a8ef7b007589eaf2357d35689dc333cc08a7ae82
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 20 03:02:59 2007 +0000

    Fix for JRUBY-1322, provide a system property to turn off JNI and also check security manager.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4639 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bad1f67887904cd217bbf0239cc1a7354598e89e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 20 01:07:29 2007 +0000

    Fixes for JRUBY-1409, only alias the methods that MRI does; rebind others.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4631 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d9b8a70318730dfa4c48c920484984af5dacc083
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Oct 18 20:19:15 2007 +0000

    Fix for JRUBY-1393 and JRUBY-1302, missing ECONNABORTED errno
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4604 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 95c346df5368a3f5f06fa9d14022efb85eaa6809
Author: Bill Dortch <bill.dortch@gmail.com>
Date:   Mon Oct 15 07:45:22 2007 +0000

    Vars have landed. Does not include concurrent SymbolTable (will follow in the next day or so). Also need multi-threaded unit tests, work in progress.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4588 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 96bace4f160ebdab8dc53175a39a81ae98c9dee8
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Oct 11 17:21:10 2007 +0000

    JRUBY-1284: $$ (pid) returns non-pid (Ruby.hashCode) and it set in Main.java
      [Fixes windows part of this] (patch by skaar)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4570 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 95cd7bf353b79576baa36fdca3ddfd333e0d7f38
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Oct 11 07:14:27 2007 +0000

    Adding more APIs, fixing a few bugs shown by the API diff script
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4566 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f3081a1c32bc775a0cbc9146aa97ff695295d436
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Oct 8 16:06:20 2007 +0000

    Make topmost blocks have correct positioning information, also use make sure both filename and line are correct within an eval
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4510 961051c9-f516-0410-bf72-c9f7e237a7b7

commit be9df2d00c836a6c59b8f21e64a7dce11b0d34e4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Oct 4 05:33:12 2007 +0000

    Add a simple CPU sampler to JRuby
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4477 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4a58635eed43f8b05c5a5dedccccabc87ebbbee9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 3 12:10:55 2007 +0000

    Crop off ./ at beginning of file path when precompiling. This logic needs to be cleaned up and centralized; it's leaking into a lot of places.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4469 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b6494c02e71955617e29548e1341022b596628c8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 2 17:05:30 2007 +0000

    Restore the ability to disable autocompilation of the specified script on the command-line.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4467 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ffb259216dbb64ce9846cbe6c6e6639b9e598532
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 2 06:05:19 2007 +0000

    Rename EvaluationState to ASTInterpreter.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4454 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5b26d393c98428187d94b7bb168a037380b6f33c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 2 05:58:23 2007 +0000

    Renaming NodeCompilerFactory to ASTCompiler
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4452 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 739279e8c9b02c2357d5bdd807e18a3c6099d100
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sun Sep 30 23:30:22 2007 +0000

    Revert return type of Ruby.getNil() so it doesn't blow up extensions.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4446 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7c75e6d5744dba2d26a5fc3373145e503f9823f0
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sun Sep 30 17:51:56 2007 +0000

    Compatibility fixes for nil, false and true.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4439 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 455ca63b5d7147395a1a3e1554ad44f4bf00a5c5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Sep 30 17:19:01 2007 +0000

    Strip leading / off compiled classnames to avoid them mucking up the generated class name.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4438 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 25e56efa7dd9310dc04c58330627f00ea3b277d8
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sun Sep 30 16:08:33 2007 +0000

    Further work related to Core class caching in runtime.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4436 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b74a75f49b00767571bbff4ce419157a79c93b99
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Sep 29 13:13:20 2007 +0000

    Cache event hook information, by Alexey Verkhovsky
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4424 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ae68b35a187337e30723f73cf15a8fff43cb046b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Sep 28 22:12:16 2007 +0000

    Only log compile errors on startup if -C is specified
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4423 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e064d01a9459c50c40771caccab40c55623c009
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Sep 28 17:15:44 2007 +0000

    OPTNNODE no more...no more (for 1.1 only)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4419 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6c3350e6732491c6cfd431162b9bfd0ab5cec859
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Sep 28 16:27:33 2007 +0000

    Fix behavior of -n, -p, -l, and -a options and make them work in either interpreted or compiled mode. Also clean up the compilation and execution logic from Main on in.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4418 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 92f30bcbeb9e670b4c4019a2f5de5e887f8b8b45
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Sep 28 09:53:26 2007 +0000

    Patch from JRUBY-1392 by Alexey Verkhovsky. Improve caching logic by selectively dumping from it on module inclusions, instead of just clearing the cache
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4415 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 309ff1f15d97d04991c2730648e966375e64cdb4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Sep 28 00:27:59 2007 +0000

    Fixes to top-level scoping for AOT-compiled methods, loading sequence, and some minor compiler tweaks to make rubygems start up and run correctly with AOT-compiled stdlib.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4412 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3e88cfab0d224fb9efa8d18336993e2c78ce495e
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Thu Sep 27 16:40:57 2007 +0000

    - Identified and extracted construction paths for class/module/singleton/IncludedModuleWrapper, now there's no unnecessary null checks or assignments in their constructors (they take very few arguments so even asserts are not needed).
    Each of those constructors have a comment what is it the responsible for, also, two RubyClass.newClass() and two RubyModule.newModule() methods have been extracted.
    - Fixed logic that sets the parent/constant for Modules, now matches MRI (only setConstant/getConstantAt are used here).
    - RubyClass rewritten, special attention has been put on allocation logic, now Class.new(...) doesn't fire a separate allocator class. (btw, logic of "class B < A;end" and "Class.new(A)" must be split since in second case superclass and allocator are not known until initialize is called). Class/Object allocation implementation mimics MRI's weirdest quirks in behavior, is _much_ simpler that it has been and much faster. This also allowed creation of generalized clone/dup implementations matching MRI. (only our special ivars need a care here).
    - Rewritten bootstrapping of Object/Class/Module.
    - Core classes (except Exception hierarchy, they should also be in future) are now cached in runtime (MRI caches them in static VALUE's like rb_cObject) Ruby.getClass(String), Ruby.getModule(String) and Ruby.getClassFromPath(String) should be used only by either interpreter or compiler and when the class name is not known at compile time.
    - Fixed and simplified nodes: classNode, moduleNode, sclassNode, defsNode. Compiler has been synchronized here as well.
    - No more __attached__ as ivar, it is now MetaClass field (which means lazy ivars for singletons). Compiler also updated.
    - added and dosumented isModule() to IRubyObject (isClass(), isSintleton() documented).
    - Fixed test_autoload test (Object.class_eval do;autoload :SomeClass, 'somefile';class SomeClass; end;end) should raise LoadError, now matches MRI.
    
    - Fixed a number of minor bugs:
       1.instance_eval, was creating a metaclass for Fixnum instances (also affected Symbol/FalseClass/TrueClass/NilClass)
       marshaler objects were kept in singleton classes
       Range.inspect, was modifying the begin field (when it was a String)
       Many bulletproofings in Marshal/Unmarshal (like unmarshaling an instance of nonexistant class), TypeErrors/ArgumentErrors matching MRI.
       Fiber.new in 1.9, doesn't call #initialize method by funcall, fixed
       number of method arity fixes and many methods are made fast now
       fixed initialize/initialize_copy logic, further simplification, no ClassCastExceptions possible now
       Fixed defineClass(under)/defineModule(under) logic
       bulletproofed cases such: class A;end;module A;end
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4409 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d5a9d67f499024e05eac1e7ea6bd25af8db19c86
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Sep 25 17:04:38 2007 +0000

    Add PreExeNode to represent BEGIN {} in AST.  Properly scope them like methods (even though they look like blocks).  Cleans up some old begin node logic in the parser also.
    
    END {} is not perfect, but it is good enough for any reasonable test I tried.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4397 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ee1da638dbec86223197196227b8c8a293dd8faf
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Sep 18 00:11:38 2007 +0000

    Missed commit
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4345 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2923f251d4101fadc3745c24ea1df88795ddbd07
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Sep 14 22:11:26 2007 +0000

    Some warning removals (gah generics)
    Fixnum.to_sym do one less lookup in symbol table
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4323 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4e39c3c5d7dd82f7a8deb3126153b5c35d4469cf
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Sep 5 03:14:43 2007 +0000

    Microoptz for fixnum cache: precache to avoid null check every time, cache -128 to 127 for negative numbers, check <= 127 first since large positives are more common.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4273 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 413aea9ebb6472a56d0483387a3b98b5812dfe89
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 4 17:30:16 2007 +0000

    Slightly cleaner way to launch script-based tests.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4271 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e3871874cfe47429b795338883489c8d6953d014
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 4 16:42:04 2007 +0000

    Ensure POSIX library is loaded and non-null.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4269 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f1882716dd2cfc0ea2b9db0e2c92fa7cca7b105f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Sep 1 23:52:07 2007 +0000

    Adding JNA and a JNA-based POSIX library. I can't resist...it works so seamlessly.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4259 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 875bdbab098dd2a9469cb97ce2dcda9bfa223217
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Thu Aug 30 20:20:56 2007 +0000

    Fix for JRUBY-1210: Array#join behaves inconsistently on recursive arrays.
    This required some fixes to the inspection mechanism allowing the join to be efficient (e.g: not looking up a ThreadLoacal on ["foo","bar"].join)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4238 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5c206be6a8c0f9186020351f0cfbc64b1c3d5a55
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 29 10:18:13 2007 +0000

    Fix some concurrency issues in the CacheMap, and generify it to avoid future casting hassle changing cached types.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4222 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c187d01e4b83fb3477c4d327c4ed825dc34a27df
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Aug 27 15:21:11 2007 +0000

    Adding basic Fiber support using native threads. Fairly primitive, but the non-brutal tests from YARV pass, as well as most demo code I've found online.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4207 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 55e82be6c13855671d1be863007ec6003c479af7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 8 22:05:40 2007 +0000

    Local variables are now (finally) zero-based, so all local scopes will be 8 bytes cheaper to allocate. Made appropriate changes throughout the system and also fixed a small "def" issue in the compiler relating to stack-based methods.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4130 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 020ae5645ee382eb1cf9a221aedac83db558aab3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 18 20:45:22 2007 +0000

    Fixes for non-Java-1.4 String#replace, JRUBY-1216.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4045 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8beb29598e452024de3a2e637d5a1540ffcba5cf
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jul 17 17:38:54 2007 +0000

    Hide Regular Expressions behind a common interface, meaning that implementations can be switched out much easier. Also add the /j flag to Regexps, for running with Java regular expressions instead of JRegex. All of this is in preparation for REJ and Oniguruma stuff which we should take a look at sooner or later.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4038 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b317014af9c399cd10981d94ff398bb0cabfaf7a
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Jul 16 18:20:31 2007 +0000

    JRUBY-877: Sources not available during command-line debugging
    
    Parser interface juggling
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4033 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6d3d9b8f4040f0d23a3256c3d3525c3a849982ac
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jul 14 11:10:00 2007 +0000

    Fully-encapsulated args-compilation logic now; also included the bulk of the work to inspect AST and determine ahead of time whether to use heap or stack-based scoping of variables, but it's disabled at the moment due to methods like String#gsub that manipulate $~ or IO methods that manipulate $_.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4021 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 63362966da7cde8e32511b09ac4f0b2144d27aeb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jul 12 04:57:40 2007 +0000

    Fix a small bug in the implicit and explicit compilation of startup scripts: classname was dotted instead of slashed. Prevented most scripts from being compiled on startup, skewing benchmarks and performance metrics.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4009 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5c69075db8f4c946edeb0ec6a9edd506a5ab2515
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 11 19:04:44 2007 +0000

    Cleanup, fixes for method visibility check in dispatchers, improved class/file naming in compiled code, and miscellaneous tweaks.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4006 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bc644dfada4b47c7294454295bd379746d2c6e5a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 11 02:04:49 2007 +0000

    Compiler reorg: move method-compiling logic into an inner type and maintain per-method state there. Beginning to separate compilation responsibilities into separate classes.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3998 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 14282e03f1d3301abac99c0c5aced7eb513b38e3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 10 22:47:42 2007 +0000

    Compiler reorg: condense individual node compilers into a more evalstate-like visitor, for simplicity of working on the node-walking side of compilation and eventually to allow maintaining cross-node compile-time information.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3995 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3c6108a399ab8eb921a4aa4d8fb423c5648b8425
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 10 08:49:07 2007 +0000

    Fix for -C and optimizations to the compiler and dispatcher to shorten the call path and give HotSpot better targets to JIT.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3986 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 66308a41bee1215d2b084c8fde04156bb8707781
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 9 23:36:57 2007 +0000

    Merging CRef changes to trunk from enebo branch.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3984 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 47f4a4b22d41de265ce2b23203a0101f4f5735de
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jul 9 18:46:17 2007 +0000

    Add steal_method and steal_methods to jruby/ext
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3977 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3a702509c34d17ebd8e78348652a03a0c3f70d7f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 6 07:19:35 2007 +0000

    Revert to type-specific JumpException subclasses to allow Java exception-handling to do more flow control work for us. Since most signs point to non-local returns (and other flow-control) in the upcoming Closures spec for Java using exceptions, this is going to safely remain into the future.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3964 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 95108e35e65bb32045a421f84f8e0092391ecde3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 4 04:13:56 2007 +0000

    Fixes for JRUBY-1185, handle top-level visibility appropriately and use public visibility for module, class, and struct blocks.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3958 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e26fda8a1c3adefd05bb27b09a3cfada3f903457
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jul 2 13:31:01 2007 +0000

    Fix for JRUBY-1074, allow Rubinius redo_spec to run
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3946 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3855b2a7b32d013fbc4dbc8cdc3b4c6e9a9c8f0d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 1 18:59:57 2007 +0000

    Committing brand new dynamic STI generator; it's passing all tests, installs rake, runs rails. Any bugs, we'll find them in place.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3935 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d105cfd7c71531c5c34402fa9162306526c5d12c
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sun Jul 1 04:40:13 2007 +0000

    JRUBY-1110: Don't seem to see the issue if we dup the
    collection before iterating
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3929 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 44b98ae45f604f23445544802f33528635e9c33b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 29 05:05:40 2007 +0000

    Added JIT logging output to the pre-run compilation.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3921 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ce56e1951b9d290e09e69c18c76c1f8648dacc82
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jun 28 17:53:16 2007 +0000

    JRUBY-1174: Ranges in if and if_mod evaluate incorrectly
    
    Also added a couple of warnings in parser that are conditional on -e option
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3918 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a9ab9b77c1c3ef1bc5a529a035f9777d02d07c1b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Jun 25 16:14:55 2007 +0000

    Remove extra sample scripts which were removed for 1.0
    Last of ablaf is gone (clean up from removing serialization before 1.0)
    Conditional support for parsing with/without extra positioning information for IDE:
      - For runtime this saves considerable amount of memory/object creation during parsing
      - Runtime can still parse with extra positioning information if desired
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3913 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6225c4e4071aae84a6e195807067b496eb3282b2
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Mon Jun 18 20:44:47 2007 +0000

    JRUBY-1130: Interrupt should be a subclass of SignalException
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3896 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fb6c2d32b5050aede93e4642d73bbb31542beeda
Author: Marcin MielÅ¼yÅski <lopx@gazeta.pl>
Date:   Sun Jun 17 22:04:51 2007 +0000

    fix for JRUBY-1098: SystemExit#status method not implemented. Implemented a concrete SystemExit class to fulfill it. Updated tests: TestKernel.java, testException3.rb
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3887 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 79e5de6f2f9d930c89f1b83ed3024fbb6aecab44
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Jun 14 14:54:19 2007 +0000

    Make getClassFromPath not use evalScript; match Ruby behavior of rb_path2class instead.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3880 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4ed34bd69240ae82295cb73c63f85572bd65ade3
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Jun 13 10:21:27 2007 +0000

    Add new fancy method cache, written by Ye Zheng (dreamhead)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3873 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6dd7041cb85175fc07e4f18333f2dc3bec52492c
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Jun 6 08:49:52 2007 +0000

    load ruby version of #trap lazily so we don't require in all the java integration
    bits until trap is called
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3837 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 075dad7e28b5125e8e7dc30ae4420517e7a29391
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Jun 6 08:37:35 2007 +0000

    degrading #trap/signal handler implementation in ruby code
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3836 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8970d7e87da6179f180574941d8c3705bc1de3ff
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jun 4 18:20:10 2007 +0000

    Fix for JRUBY-1082 (Files should flush on close), by Damian Steer.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3831 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 81e8698c6393fbec2863625a7e00765894bbf664
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jun 2 22:18:42 2007 +0000

    JRUBY-1087: rubygems expects runtime.getJRubyHome() to be canonical
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3825 961051c9-f516-0410-bf72-c9f7e237a7b7

commit aef4e5a965b9b1ede594ad738d2cfeed9982a96c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 1 02:39:07 2007 +0000

    Damian's fixes for JRUBY-918, more fine-grained, less strict checking for security restrictions, to allow JRuby to run under security managers that aren't so restrictive.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3800 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5ade8e7740c07b6d55e1bda4bbd889f7f5d91e13
Author: Nick Sieger <nick@nicksieger.com>
Date:   Fri Jun 1 01:00:01 2007 +0000

    JRUBY-958: Damian's patch for Readline::HISTORY, plus
    try harder to normalize jruby home path, and fix extract
    once and for all
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3798 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 78107a535e9cbdf21990cf01566ee020b8149f85
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 31 19:28:31 2007 +0000

    Fixes for JRUBY-1032, allow subprocesses to use $stderr and $stdout whether they are IO objects or not (in keeping with the "must define write(arg)" contract for $stderr and $stdout)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3788 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bab5a32c3c4789ec21f48b7521d36bab3cedb9e3
Author: Nick Sieger <nick@nicksieger.com>
Date:   Thu May 31 03:04:54 2007 +0000

    JRUBY-933: add barely functioning io/wait.  At least stomp seems to work with it!
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3780 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 56d9e338199a6cc44b709b69872175af3620b62b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed May 30 18:06:54 2007 +0000

    JRUBY-948: undefined methods are not preserved when a module/class is dup'ed.
    JRUBY-756: "private method called" issued for undefined methods with explicit receiver
    JRUBY-749: Visibility issue: private method reported as method_missing and not private in class_eval
    
    [Patch by Marcin]
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3770 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 055b81c987465ebcb4869fa32d6ac7ab19f39ece
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 29 20:19:14 2007 +0000

    JRUBY-998: Array#pack("M") failures
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3760 961051c9-f516-0410-bf72-c9f7e237a7b7

commit de9856ab183f98889624ba9516ac92d9f7047592
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun May 27 06:15:43 2007 +0000

    Added the ability to register hooks only interested in specific events.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3747 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6ab8977aa4861824d215eda0c00d6f4cb1cfa607
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun May 27 05:58:09 2007 +0000

    Zero-sum (hopefully) refactoring of trace functions to have an "event hook" model more like MRI. ruby-debug (and likely jruby-debug in the future) makes use of this event hook mechanism, so we'll need to have it in place to make the port easy. Also in this commit, fixed JIT to actually be running (it got turned off accidentally sometime in the past week) and make sure it's using the same "safe" logic for def arguments.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3746 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f80fc40afb290aea57f97aec4664ee33ae300042
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu May 24 22:00:02 2007 +0000

    JRUBY-994: Remove jruby serialization feature
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3734 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 22e6ffe368d270376ad71eb7b02ca67d4bd87ea6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 24 20:59:46 2007 +0000

    Fix for JRUBY-976...class and module compilation has never been 100% and should have been marked "unsafe". Mark them unsafe so they don't try to compile.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3729 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4f27c6a9e56368404638d6d2db937ceea9966149
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu May 24 13:05:07 2007 +0000

    Change the loading pattern for OpenSSL (only works with 0.0.3 of jruby-openssl)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3724 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 51cbb8cd1ced513013633379c81cdc14a4cd02ac
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed May 23 20:55:43 2007 +0000

    Do not attempt to compile the startup script if a trace function is set (matching JIT behavior).
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3722 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e43b107b3301ad479a79bcb4cf7dbdfbdbf8c02e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 22 19:24:47 2007 +0000

    More DRY handling of JIT properties; moved them to RubyInstanceConfig.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3714 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bd31b2b340a02072520cb5a21a1d3a9d41835e11
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 22 19:06:21 2007 +0000

    If jruby.jit.enabled is false do not try and JIT whole script
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3712 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f057b63debf51871b3c4851e51e492661501b6da
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 21 05:40:56 2007 +0000

    Fix for JRUBY-787, and introduced more correct LocalJumpError class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3692 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c9f6241d841acfacf0e4147c8110611614b6e551
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun May 20 00:25:29 2007 +0000

    JRUBY-955: RubyModule public_method_defined?, private_method_defined?, protected_method_defined?
    JRUBY-24: position from passed in arguments not passed
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3687 961051c9-f516-0410-bf72-c9f7e237a7b7

commit de61f33dc5f3ed6cedc1f7075386e8405847b161
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu May 17 20:49:09 2007 +0000

    Not emit the warning for OpenSSL. getOrCreateModule shouldn't use the current rubyclass when checking.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3679 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1367ff10c60b4a2adcd2b23ee11de6c29ddae1d5
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed May 16 05:07:50 2007 +0000

    Fix for JRUBY-618: add a CLASSPATH global constant. This allows you to append, get size, iterate, and includes enumarble; basically all you can do with the JRubyClassLoader.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3661 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ffe36dc64337e1885d5139e5ba8cbe80db45de9a
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 15 23:49:00 2007 +0000

    JRUBY-936: The argumentsError is required in Struct.new (Koichiro Ohba)
    JRUBY-934: Unsupported NKF module (Koichiro Ohba)
    Various escaping JumpException errors we have seen in apps like Typo (which now works!)
    Remove some dead code
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3659 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b47502c7e4ecc3413b82a01f10fec34c8b00ca8f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 15 00:14:15 2007 +0000

    Modify normal execution to attempt compilation every time; like -C without the hard requirement that code must compile.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3654 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 926723020c6156f464e45f4f4dfa2fdc7bc9381d
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat May 12 23:11:09 2007 +0000

    JRUBY-867:  Iconv character set options (//ignore, //translit) not supported (by Soichiro Ohba)
      [This does not support transliteration, but does support ignore]
    JRUBY-930:  Small code fix (extra new LoadService! :) ) (by Soichiro Ohba)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3645 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f221245ae886f16607d505f338374422f1585f2e
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat May 12 22:17:03 2007 +0000

    JRUBY-926: Rails script/console broken in JRuby 1.0.0RC1 (was still working in JRuby 0.99)
    Plus...remove_const now also un-autoloads (missed in my original autoload changes)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3644 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5e8ecd81738e7e61a8b7d8a50c47d6095472550e
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun May 6 23:40:41 2007 +0000

    JRUBY-916: Kernel.autoload has a couple of problems [active_scaffold blocker]
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3629 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1acfeee277dbcac5101de45fff4201b62e135de3
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Apr 30 13:10:42 2007 +0000

    Fix for JRUBY-819. Due to externalizing openssl, the openssl.rb file never got loaded, which means that some important helpers didn't appear, including closed?
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3600 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b14d1b95cb126d60b00bfcd5a0843bccfcf5283a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 30 03:51:39 2007 +0000

    Modify class-generation sites to accept a classloader, to allow for garbage collection of generated classes where appropriate. This allows the JIT to generate methods continously without leaking.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3598 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 97e8519afc14d6f6c4c9f53f8d6842800cff48a6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Apr 27 10:09:09 2007 +0000

    Add empty etc-require, since we didn't have that, and Mongrel needs it
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3572 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d9e39625c923f3ca9402550ec3b5a30ed6cf5a24
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Apr 26 19:54:12 2007 +0000

    Make LoadService extendible in a better way, and also make the Ruby runtime accept ways of changing the default LoadService
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3566 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 10ee61746fe23e9062af04d7b45e9e7e46b216a0
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Apr 25 14:44:13 2007 +0000

    JRUBY-883: Ruby classes should not be includable / extendable (by Bill Dortch)
    JRUBY-793: class_variable_set and class_variable_get methods missing from Module (by Bill Dortch)
    Added smll benchmark
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3556 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2f0c37596f2f072cc5145338435f3c28a7942b55
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Apr 24 18:12:32 2007 +0000

    JRUBY-464: Struct.new with an existing struct name produces two warnings instead of one
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3551 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 76b88c9c47201d7844df3a8725b25a443e0a2dc7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 24 06:06:44 2007 +0000

    Adding support for compiling classes. All cases should be implemented, so it should technically be "safe", but it's not as robust as it ought to be (missing a try/finally around TC manipulation).
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3547 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b1742e48d5561cdc2e90fca3b335c89a0f3d9a84
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Apr 20 02:08:54 2007 +0000

    JRUBY-840: Cow fixes, Enumerable rewrite and arraycopy hunt (Marcin)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3511 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d77f8c9202ed39af9f9aae4987650e3a6fe62508
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 19 08:35:13 2007 +0000

    Fixes for JRUBY-361: supply a real binding to trace functions. Also fixes JRUBY-842 by short-circuiting STI methods so they trace instead of doing fast STI dispatch.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3505 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9a2f1ea6cc246e70965c138e69ed787308147399
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 19 00:00:04 2007 +0000

    Use the current thread's context classloader instead of the one that loaded JRuby (JRUBY-839)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3499 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 097df46fc075d68c8f31beb0fe0448bf83db5152
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 18 07:39:24 2007 +0000

    Fix for JRUBY-637, proper file open/close handling in Ruby#loadFile
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3490 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bac69eda717fe181084e119979408a1e8ad389f8
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Apr 16 22:38:58 2007 +0000

    Remove remaining metaclass definitions...
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3480 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b19d79dff7e4f080d84a94a33195c020c2b091f6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 16 18:44:04 2007 +0000

    Damian's fixes for applets in JRUBY-477
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3474 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 59065e50642ce9376adc8950d663f285c7f99425
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Apr 16 13:05:19 2007 +0000

    Lots and lots of fixes for Marshalling, JRUBY-531
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3472 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7a77daca5662ec40025900d080e4e71c7271a278
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Apr 15 01:44:36 2007 +0000

    Committing Marcin's excellent Hash and String copy-on-write work for JRUBY-818. ant test is solid, mephisto appears to work well, and with one small bug fix, activesupport, actionpack, and actionmailer appear to run the same as on trunk (maybe a little better?). Also, I found and fixed a small bottleneck that now shows patched JRuby rdoc'ing faster than trunk. So we're gonna go for it.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3462 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dce410d617322b8a3caf7121c38cd4ec3f4d809b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Apr 12 01:39:53 2007 +0000

    wrapper not used....Remove from context and friends (Merging 'safe' things from my sandbox)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3436 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b4939d610269c777bf1e95c84247a95c2b0a6dd4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 11 19:28:04 2007 +0000

    Another rework of finalization, much simpler now. Also fixes JRUBY-799, so finalizers will run whether ObjectSpace is enabled or not.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3429 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 995566d78d56052cc5af00f77016d51ebf28cd1b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 5 06:52:16 2007 +0000

    Eliminate polymorphic getMetaClass implementations in child classes of RubyObject
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3391 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e45d042829fd6b14368cfa717271bca5a2c7eefe
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 3 23:44:35 2007 +0000

    JRUBY-451 and JRUBY-591 fixes, plus tests based on the cases given.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3369 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 21997647c1c2eb63671574f60e94206c126b7a90
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 3 22:32:46 2007 +0000

    Remove StringMetaClass import...grrr
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3366 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b103366f520f4603150606f740bce8b5e69ef09d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 3 22:26:49 2007 +0000

    Removing StringMetaClass
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3365 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5b057c5d8ae4b252589310ea98ac77acf53867c1
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Mar 29 16:41:10 2007 +0000

    Make RubyObject.respondsTo correct
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3330 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1c02ca0e641c238d2fc8985fe7f939b8b3df6f95
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 29 05:54:41 2007 +0000

    Fixes for JRUBY-734, along with a first run at cleaning up IRubyObject.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3319 961051c9-f516-0410-bf72-c9f7e237a7b7

commit accc1e23bd002b5176ce93d2d7a1d8961927d7fb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Mar 28 23:50:20 2007 +0000

    Eliminate unnecessary use of ObjectSpace for ArrayNodes that are only used to gather call/fcall/yield arguments
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3318 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6f122bb298742834bd41398378a5c4b24caba506
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Mar 28 21:31:42 2007 +0000

    Partial fix for marshalling, handle metaclasses more correctly, but not perfect yet
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3316 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 37efbc82faa6778182944b78a6cb6aac43fa2c4e
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Mar 20 10:06:07 2007 +0000

    Added node DStr and EvStr to compiler
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3248 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9ca5b4c9999c140f11a7d268eacf2ffd5b58d81e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 20 03:10:19 2007 +0000

    Removing duplicate objectspace property stuff
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3244 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d0972d3f59c37f111ce447e7129b0a35c35afd0e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 20 00:09:15 2007 +0000

    Move the property for objectspace disabling to somewhere it will affect runtimes not launched from command line.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3239 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b3965b8c7c6ca2b5d9afebe01033a9d4fdaf7102
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Mar 12 12:20:30 2007 +0000

    Fix error on compilation problem with Regexp
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3179 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f95f5220c0d640d918a1ae20a5c908168d8d0335
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 8 04:48:39 2007 +0000

    Fixes to STI: make add/alias methods flush it correctly, expand to fcall and vcall, add to_s, ensure all appropriate paths are calling via STI
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3141 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2867a0e562b0e7812e2e59fee445930f609492f1
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sun Mar 4 18:53:19 2007 +0000

    Convert/ensure that jruby home directory is always an absolute path
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3128 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 83c84f8afc5d6e2dbdd634c4a2d92f2cb64ec872
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sun Mar 4 18:10:37 2007 +0000

    - get rid of src/ruby/1.8...
    - fix yaml/syck issue by moving (and registering) to builtin
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3127 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 04ff8f7af748ea35b9014bf112dd9e7f09cf6277
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Mar 3 15:45:08 2007 +0000

    JRUBY-653: Unsupported Charsets in IConv should throw an IConv::InvalidEncoding
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3116 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 465030a3f6bc0d369bc0a1d45a38aca822585ecb
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Mar 2 14:43:20 2007 +0000

    Pass runtime around
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3100 961051c9-f516-0410-bf72-c9f7e237a7b7

commit df7a40a83459870fa8624eb1dc214a2319368216
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Mar 2 11:52:22 2007 +0000

    Fix for JRUBY-645. OpenSSL is now external to JRuby, and bouncycastle is no longer part of the JRuby main distribution.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3099 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dcfd45ad8d61a22bf53c2b5f963321c622e7cc0c
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Feb 26 12:45:23 2007 +0000

    Remove the etc.rb file, and replace with Java stubs
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3080 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9fcb4b67a3e2b7eff191eecc6f32bf87a73c82d0
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Feb 23 16:28:32 2007 +0000

    The constant Java is now autoload. Yay.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3071 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bb1f4157acdfdc5a818b0f06766ef5bdece39aa0
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Feb 23 13:14:15 2007 +0000

    Make symbol id's bound to a runtime, give modules unique ids, and remove the SoftReferences in that parser pool. No reason for them.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3068 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6a3067ab1104a069e07126a35c2fa9b4d5abe152
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Feb 22 18:37:33 2007 +0000

    Managed to get an System.err.println in there
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3061 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c71592e79c2f4867db7eab55cfad48cddb3aa634
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Feb 22 14:08:37 2007 +0000

    Fix for JRUBY-603. Pack fixes.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3058 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b821c95f9fe15a1e93a4b2a7e7cad0ab32e377ba
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Feb 21 20:26:42 2007 +0000

    - Rename all methods and frame to use same vocabulary for attributes and parameters.  Also make ordering of parameters similiar
    - Make AbstractMethod become DynamicMethod and remove DynamicMethod as an interface
    - Remove a couple of dead methods in ThreadContext
    - change .id to .object_id to get rid of extraneous warning messages
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3050 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 972877610a58418cc1a3317f59c8f7ae9ef8c1e8
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Feb 20 23:05:11 2007 +0000

    JRUBY-202: ::A = 1 should work
    
    Jira issue creation is down so I will explain other changes in detail here:
    
    1) Change D*Node (DStrNode, DRegexp, DSymbolNode, ...) to use same logic as
    MRI and also remove superfluous ArrayNodes + extra DStrNode for all D nodes
    except DStrNode itself.   This may remove some cannot convert Foo to String
    errors (though I could not come up with any test cases -- though I know
    some exist).  This also includes an optimization of just grabbing bytelist data
    is StrNode is an element (since there is not point in eval'ing that node).
    
    2) AST nodes which contain literal String data now hold that data as a
    ByteList.  The overall benefit of this is that we only need a single clone
    of the bytelist versus string to bytelist conversion each time we use the
    literal.  BTW- You may wonder why we need to clone:
    
    1.upto(10) do
      a = "aaaa"
      # Add destructive op to a  here to screw up literal
    end
    
    Once we get COW strings we can get rid of cloning.
    
    The next phase is making the parser/lexer itself fully work with ByteLists.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3033 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a2107e60085a5063bca76d897783a512bbd7eddc
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Feb 18 15:18:18 2007 +0000

    JRUBY-606: Get rid of un/under-used IRuby interface
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3022 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bb20e69fca02df78c52e9c534db24e9f4dda0509
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Feb 17 22:29:59 2007 +0000

    JRUBY-599: JRuby needs a COW, primitive array backed builtin Array
    JRUBY-604: Hash#sort raises exception
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3014 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0a77bbcc43cec074daf972c40e1a12f09887c913
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Feb 15 15:26:24 2007 +0000

    Added a helper method for StandardError
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3004 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2c87b1ca376c4a7ab16c50d3fe0bd84a66737dc5
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Feb 13 21:06:49 2007 +0000

    evalUnder should use previous frames self instead of null
    removed some dead code in jumpexception and its use
    refactored jumpexception to use better names for data
    tweaked miguels patch for JRUBY-530 to work with my refactorings
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2995 961051c9-f516-0410-bf72-c9f7e237a7b7

commit db8266575a489ee2d0d072e1e8dd41d5557077d8
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Feb 8 04:01:18 2007 +0000

    JRUBY-559: JRuby should have 100% MRI compatible Math module
    
    by Marcin
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2960 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ef423f1b886650195114fe952a1a6407fbb63f82
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Feb 7 22:27:41 2007 +0000

    - Create a NULL_BLOCK to replace null checks against blocks:
      - Now isGiven() on a block tells you whether it is supplied or not
      - yield on the NULL_BLOCK throw the correct exception
        - We were not throwing this correctly by most callers with my landing of
          the block branch
        - We were generating NPE in cases where we called something that requires
          a block and supply none
    - Block.blockObject => Block.proc
     - Rename and type since this is just a convenience reference for association
       from block to what proc it might represent
    - Remove unused blockAtCreation (this may become relevent for Ruby 2 but why do
      it now
    - Remove ThreadContext and IRuby from Frame
    - Remove Scope
    - Put Visibility directly on Frame
    - callingzsuper dead code
    - Now that modules have a proper superclass we can get rid of special code in
      callSuper
    - ArgsPushNode.childNodes should not return null
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2956 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2f35b1cf3531cdbfa12075b7c76de1c1ff2309f9
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Feb 1 12:27:47 2007 +0000

    Switch socket library to be completely implemented in Java, including improving some parts of the functionality
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2898 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b24c3ced7237fb40924121c1404c57d276aa6b40
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 30 23:36:24 2007 +0000

    Remove ruby code for true and false.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2884 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fa4215cf4b11891109c9c359e220c5de71194707
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 30 06:22:19 2007 +0000

    Additional caching to avoid a call to matching_methods, turned part of ruby_to_java into a switch instead of multiple ifs, and added the ability to create "light" Ruby arrays for internal use (to avoid ObjectSpace). All fixes for JRUBY-501.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2882 961051c9-f516-0410-bf72-c9f7e237a7b7

commit beca166768368e248fbbb9ba945020d4d27c3253
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Jan 29 19:32:57 2007 +0000

    Remove most warnings in code (sans WIP areas)
    Unbreak Java 5/4 problem
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2877 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0eaa64478294d5b433834a58b07593fcf294cab7
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sun Jan 28 23:11:59 2007 +0000

    JRUBY-446: reduce impact of InProcessScript
    - but, in-proc script now has environment passed to it
    - RubyInstanceConfig for simplifying instantiation of the runtime
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2871 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 726ed07a049d0bf23d1d5257e54c710a388ffef4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 28 14:51:14 2007 +0000

    A few fixes for ActionPack, make KCODE handling unified, UTF8 shouldnt be default KCODE, and make setting of $KCODE and $-K actually have effect on kcode handling
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2861 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5c0789044de8703f41bdf83f29552ba29ad048f6
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jan 27 17:31:22 2007 +0000

    JRUBY-484: Reverse Iter Call relationship in AST and also pass block via Java frame versus maintaining blocks in TC
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2851 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 242627df44971ec43d7d2c4cda0bacde95a3e616
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Jan 26 15:26:54 2007 +0000

    Revamp the YARVCompiler to match the structure of Ruby-trunk for now. Add support for simple FCALL's
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2842 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c43f55ad20e9314df17697fe4c454149b86a6ad6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Jan 26 00:28:16 2007 +0000

    The beginnings of a YARV compiler
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2838 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0552d8014ace4c4370a2787317a90ecb3c901020
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 23 22:45:25 2007 +0000

    Fix so that inline cache works, including adding globalstate to runtime
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2831 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a04deaae0eaaeb55f513012bf633402a8c704055
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 23 01:24:43 2007 +0000

    Remove MetaClasses which were made dead by JRUBY-409
    Make STI for RubyFixnum and RubyBignum work again
    Removed some unused imports
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2819 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 034dd65866639ee89525e9070af7c92f7f4876b3
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jan 22 08:31:08 2007 +0000

    Fix for JRUBY-409, clean up numerics, mostly by Marcin
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2815 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c02e482e63400582e1dfed203f09fab54eefbf81
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 21 11:06:10 2007 +0000

    First round of changes for JRUBY-468. Added KCode enum, eliminated Split class, starting to get KCode used where it should be.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2804 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ee24af2395cc5d35d5499c960ca44ca6a8dda958
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jan 19 16:14:21 2007 +0000

    removing a bunch of tab chars
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2790 961051c9-f516-0410-bf72-c9f7e237a7b7

commit edc4f268fba5aca74d327c68790b2c805359c526
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 17 16:45:15 2007 +0000

    Modifications to update the JIT and main() to work with the modified compiler.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2766 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 86b54294cdf24bea517bcc1fbb7917b30ec13ff7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 17 14:04:19 2007 +0000

    Modifications to the compiler to get away from MultiStub and wire into the standard method-binding mechanisms.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2764 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 034bbcf98113b8669c936a073112126ad6a62b28
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 16 21:31:59 2007 +0000

    Moved StandardASMCompiler to impl subpackage to get it out of the AST-walking clutter. AST walking code should probably be moved somewhere eventually too, since we may walk YARV bytecodes soon.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2759 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b62605d95e131420a0cebefc17865a4e74471018
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 14 21:42:34 2007 +0000

    Fixed -C so it works again and so that it uses the new compiler
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2740 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dbdef380904ba217548f08f1de84e01fb569c9e7
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 14 16:30:39 2007 +0000

    Fix for JRUBY-429, and also make filenames more like MRI in backtraces.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2737 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3722540ec4708fac15a57398a1fe1e908e35bbdc
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 14 14:23:33 2007 +0000

    Fix for JRUBY-433, don't bubble a jumpexception to JVM
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2735 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 97b2ec4b358263fcd35023bb1f1b6c7cdba88a53
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 14 00:59:44 2007 +0000

    Big commit of work from last week:
    - Beginnings of STI-based dispatcher
    - CacheMap modifications to make STI "safe"
    - Code for JITing pure Ruby methods (currently disabled)
    
    Additional work on STI and the JIT will come along shortly. This will also fix current trunk failures during ant testing the compiler.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2732 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8d7f2f4f78a2264f1933e0648a52f90017b4e328
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Jan 12 19:47:16 2007 +0000

    Fix for JRUBY-412: Make File::Stat a good citizen of the new allocator world.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2721 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 162609fe64719b28adfb4b357a24bc8c2c307cd8
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Jan 9 15:51:17 2007 +0000

    - Mental's fastthread for java, fixes JRUBY-358
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2712 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6503e77d53e6c67900f3fbb63148f80358899509
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 9 11:43:23 2007 +0000

    Fix for JRUBY-417, redefining constants should warn, and also change a few unnecessary double settings of constants in the core init.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2703 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b390103c285ce373130c474193f69b87f98fb013
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 9 01:04:33 2007 +0000

    Damn the torpedos...full steam ahead! Committing fixes for JRUBY-408 to get them out in the wild. There are remaining fixes to be made, but ant test passes, gems install, rails starts, handles requests, and generates.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2700 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 201a41ace1641fe1baf03f91da8f670318f739b7
Author: Nick Sieger <nick@nicksieger.com>
Date:   Mon Jan 8 02:34:07 2007 +0000

    - JRUBY-418: jruby home and configuration updates
    
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2696 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6b71207cff8a390b117a8490ca9f808451ddd6e7
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 7 12:27:49 2007 +0000

    My code for Finalizer yesterday was totally stupid. Or, not the finalizer code, but the finishfinalizer invocation was in a really stupid place... Hopefully better now. (at least Webrick runs now... =)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2693 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e6e01c38e91fbf85c98cd9eee668e817d2a138d5
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Jan 6 15:36:34 2007 +0000

    Adds finalizer support. JRUBY-282.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2689 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 57504d74a1cc15c3236cb063ab5be50e662fa6f5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 6 10:08:11 2007 +0000

    Initial fixes for JRUBY-408. Added ObjectAllocator and code to consume it throughout the MetaClass hierarchy.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2688 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6d3f59d0a36da9bb470958d883c89fa1205bc550
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 6 00:51:21 2007 +0000

    Added comments for the runtimeInformation stuff
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2683 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f35b6b71fee59a67d8b057ff0d99b84d248d9a29
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 6 00:47:52 2007 +0000

    Added "runtimeInformation" map and JVM termination dump of its contents.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2682 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c230c07347a01b3e10e21b9b0cad10c7741825c6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 2 10:03:32 2007 +0000

    Fix for JRUBY-384, a MRI malfeature (return at toplevel shouldn't work)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2643 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1f2a54aceeffa2a272966d2f1642089b447c999c
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Jan 1 00:14:37 2007 +0000

    Quick unused import cleanup + remove WrapperCallable
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2632 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 02dffaee08295452fd23b448589ada66ccdc1c1f
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Dec 30 17:43:41 2006 +0000

    Added support for profile, to allow Sandbox
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2622 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f69a404cc97246cc1c7448bc184f4a2acdfc81e7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Dec 24 06:20:03 2006 +0000

    Beginning redesign/refactoring of compiler into node-aware and generator-aware halves
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2594 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2b3537ba7b0ee0ed1d2feafad3c579ca0463dabf
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Dec 24 02:28:10 2006 +0000

    creating compiler package; moving current compiler experiment there
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2593 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 427b2db1490737955190f02bd5fada9d0903e0a4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Dec 13 08:31:40 2006 +0000

    A generator implementation
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2576 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d38821551a58969cd2593b463d93df5f32bf3c14
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 8 15:48:04 2006 +0000

    Fix for JRUBY-336 and JRUBY-337: add support for applets by catching (and ignoring) access violation exceptions, and adds applet and standalone consoles
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2567 961051c9-f516-0410-bf72-c9f7e237a7b7

commit af07dd9e2d788cd1a5151ea8833909422495f7c4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Dec 7 15:18:57 2006 +0000

    Fixed a strange, hard breakage of 1.4.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2562 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9fd9e4432af162160296baab26a7d6d1c294f610
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Dec 5 17:07:44 2006 +0000

    Fixed a potential system/exec/backtick problem with ErrorStream
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2552 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a5d41074f98a47c0108b1a75c44775c0f6e4e87b
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Dec 5 09:02:17 2006 +0000

    Fix for JRUBY-329: Adds the debug flag, and $DEBUG variable to JRuby
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2545 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e2e7af12c6d8486e18532e34603d2e7254f411b3
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Dec 5 06:54:58 2006 +0000

    Provide a way for BSF to disable ObjectSpace. JRUBY-325.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2544 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f621b644a7b64cb12bdf5d848d9e284e023964f4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Dec 2 22:20:51 2006 +0000

    Fix for JRUBY-14, no Java-module when we don't need it
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2531 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 56de464c1a2f6e0fe0d4b8af6983838d05221d0f
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Nov 28 23:47:23 2006 +0000

    JRUBY-304: Implement Iconv
    
    This only implements the class methods: iconv and conv
    It also does not appropriately handle all Exceptions (JRUBY-309)
    It also does not implement the instance methods (JRUBY-310)
    
    This does enough to saitsify Rails however and once 309 is fixed it should be double plus good.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2514 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8d51d19dd152ddd4dac77302a4a53656ae5bffcf
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 28 15:18:53 2006 +0000

    Partial implementation of JRUBY-153 for BigDecimal support, by Ola Bini
    -This line, and those below, will be ignored--
    
    M    src/org/jruby/Ruby.java
    M    src/org/jruby/RubyNumeric.java
    A    src/org/jruby/RubyBigDecimal.java
    A    src/org/jruby/libraries/BigDecimalLibrary.java
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2510 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d9e453ef8491a951e06ecccb3e27137fa7aaccee
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Nov 28 10:00:36 2006 +0000

    Fix for JRUBY-237: Adds Data classs and dummy Continuation class.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2506 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1278c5bb3507a052d150d814f15453542ae41aed
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Nov 26 13:38:44 2006 +0000

    Fix for JRUBY-234, NameError.name, by Anders Bengtsson
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2486 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fe628a940467ceda783730ea34173dec3d365fa4
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Nov 25 16:19:08 2006 +0000

    JRUBY-270, JRUBY-284: exception with nil or non-array backtrace causes various incorrect (non-MRI) behaviour
    RSpec goodness fixing
    SSLSocket is unused variable
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2471 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2b03a33fdc382e7dc10b580dfa638c0a974dfc97
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Nov 25 11:57:15 2006 +0000

    Merging of openssl branch
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2463 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 654f173770fef24a10855574674209b3262a32f7
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Nov 22 23:05:27 2006 +0000

    JRUBY-28: Unicode not suppoprted by interpreter/parser
    
    This ONLY fixes unicode in the parser it is not a comprehensive unicode solution.  -Ku should be in a state to play with though.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2457 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 278819904d461c32545531d3679635b084dad620
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Nov 21 23:08:28 2006 +0000

    Make function tracing thread safe (untested but pretty safe -- then again aren't these the ones that always bite me :))
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2449 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 58dd624bb227288c4c2bf417a928a5b36cf4a513
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 19 00:38:26 2006 +0000

    implemented Process.times in a minimally-functional way for benchmark and profile
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2439 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fcb2bf9a6cb4705a43fc55721190605148c4c949
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Nov 18 03:24:07 2006 +0000

    JRUBY-246: Implement Enumerable::Enumerator (M. Studman)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2434 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 174e3d01468001668ab299227d4af11aea65341c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 14 03:09:59 2006 +0000

    damn the torpedos! full speed ahead! landing enebo_lexical branch changes plus TC-passing optimizations and a few small compiler updates
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2423 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d4713eeade4a5c6f19ee665e0ce513d87928f51f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 2 22:26:31 2006 +0000

    committing compiler changes before local var optimization
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2396 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8684130828e74f3c8226584b59a87ad083c12ec9
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Oct 24 15:45:53 2006 +0000

    readline.rb is now implemented in Java, which makes everything faster, better, nicer, etc.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2379 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 569c09bdd25c1d307732c0464d8719830a3ca0d6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Oct 24 07:33:53 2006 +0000

    Added new, splendid, complete, Java YAML support
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2373 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dcad59aefc1eea504d5c805e4288305c35cb91bb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 14 02:22:29 2006 +0000

    added optional -O flag to turn off ObjectSpace for performance purposes
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2336 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6e15491217631472c05c6928672f9c7064a978b3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 9 22:13:11 2006 +0000

    merging new interpreter plus a few minor fixes to trunk. JRUBY-185
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2319 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f90823bb4c2d8967a16b411027e8ca666f4eeb4b
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Oct 5 20:28:10 2006 +0000

    Missed one part of the last commit
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2293 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4eb85a4aa5b1c369fedbce19adcc69a844fc7c69
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Oct 4 16:42:09 2006 +0000

    Landing charlies latest perf changes from his branch to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2280 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b12ea6e2f334d7cb9b03280c031de947dbf5e1db
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Sep 27 21:15:54 2006 +0000

    Really fix JRUBY-116 plus bonus fixes for Array()
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2242 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 96043e89ab0da01d0e65cb49b5b79dbe49b99168
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Sep 26 19:42:32 2006 +0000

    JRUBY-99: UnboundMethod class created twice
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2240 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d5575d355e0fd55a836cdf150a5d77214e63c79c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 25 22:04:55 2006 +0000

    fix for TCPServer.listen calls blowing up because of rebind attempt and added missing Errno error for ECONNRESET
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2234 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 524049357e360ba81a21756f54071c67d3796180
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 7 01:40:03 2006 +0000

    merging headius to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2232 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 85d076939f597eefa63ed7539e11d86cabeabc36
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Aug 24 00:45:26 2006 +0000

    JRUBY-103: Unbound Methods can not be bound to derived classes (enebo)
    JRUBY-99: UnboundMethod class created twice (Miguel)
      - Thread Service initializing mainContext, localContext twice
      - Extra autoload of what is now a standard core library in 1.8
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2219 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a629a570985930f1dc88f37bf2c585dfe4ff6fb2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Aug 17 01:38:04 2006 +0000

    merging headius branch to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2204 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dc9ebc85bd64040a28aeb6d23b3a4c90f21a9b7b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Aug 5 05:54:15 2006 +0000

    optz: avoid multiple calls to IRuby.getCurrentContext in a single method
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2165 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fb4a2d8c279c1c3b8a823ef357a36c9250638844
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 23 02:00:23 2006 +0000

    simplification and minor expansion of method invocations that do not require correct "implementer":
    - class-owned methods always have the same implementer as when method is created
    - module methods must come with implementer lookup in case they've been included (so 'super' goes up the right tree)
    - module methods on kernel need no implementer lookup because they're always at the top of the hierarchy (so 'super' has nowhere to go anyway, and is never called)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2141 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8118fa3a6254dba78b15dde7b0b1c65f3f9c9aae
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jun 30 19:49:30 2006 +0000

    Make load follow proper semantics (Charlie)
    Bad test cases for load and require
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2098 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c96eef6fb6582e5e3a1a87a8960c2a248c1aab90
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jun 17 22:27:23 2006 +0000

    Java-based Zlib implementation (Ola Bini)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2075 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7f26be1aa1dcc75362d5a8ed09caca84b3f55221
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jun 16 18:13:26 2006 +0000

    StringIO reimplemented in Java (Ola Bini)
    Simplify threading to work around Thread.ciritical= problem (Charles Nutter)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2074 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 02f1a36be6c43bcb5b541cf429a4a8e0a2280750
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jun 16 02:37:54 2006 +0000

    Fixlet from Lukas Felber (missing a paren in error string)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2072 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e1cb5d91c50660f5df76840d26d14be28c3e6749
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jun 15 14:17:41 2006 +0000

    cleanup: eliminate (move to runtime), flag, or final-ize static vars
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2071 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 185c54edbc79bd7b73f1c9400146d9a0aa45b0bb
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jun 6 02:40:53 2006 +0000

    conditional String/StringBuffer patch (Charlie)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2055 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7c9ec57d0ce44adc41c27cdfce89439cec7da0ed
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jun 2 17:41:40 2006 +0000

    - File#mtime and File::State.mtime should return Time and not Fixnum
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2049 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fa2a7d11da5062fb1331d232bbc34b245d6bdc0a
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 30 17:52:47 2006 +0000

    Make Ruby File stuff keep original value versus morph on CWD changes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2047 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c4e827c37336ea25fa787bd1d85c99afba87ee4e
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Apr 30 16:34:26 2006 +0000

    Add setGlobalVariables to make JSR223 not resort of setAccessible
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2026 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f03e5dc81769f463c456e2268d0bb08c108684f8
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Apr 28 02:24:46 2006 +0000

    - Integer should import Precision NOT Enumerable
    - "".gsub(/\n/, "\n") was returning "\n"
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2021 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 62395b140d1fb0b5b75ba224eb0f4b564f70979b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Apr 22 17:49:30 2006 +0000

    More Railing:
    - Define StringIO.path (nil for IO compat)
    - Make StringIO.print not append $\ if it is nil
    - Add Kernel#warn
    - Allow Object.eval to accept a Proc as scope argument
    - Add Proc.binding
    - Make ||= work with class vars (fixes: @@c ||= 'a')
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2009 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5f5146d05a83e573fd5aaaf8647dfc65a7b083e1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 13 07:19:42 2006 +0000

    load additional hacks, classes, and tweaks from builtin/etc.rb
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1979 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b4a189a27604d62c317938f16a124fb9dab1e94a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 13 03:41:36 2006 +0000

    patch for ruby scripts running in-process with Kernel#system and backquotes (Marc Hadley)
    cleanup and fixes for Main and CommandlineParser to better support MVM (Charles O Nutter)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1977 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9f2efc63a858fa0507245b207025eab027840a04
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Apr 9 20:58:31 2006 +0000

    Make RubyString use a StringBuffer instead of a String as its internal representation.  This change makes one test case go from 262 s to 0.7s.  Various other function fixes thrown in (with quite a few new unit tests) and some conversion to make more mutable functions use StringBuffer APIs more.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1974 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1a99d1af5cf0ec0affd4f78b7cf07aa50ed18d98
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 6 07:20:16 2006 +0000

    fixed incorrectly-rooted NameError
    added missing ZeroDivisionError and FloatRangeError
    fixed misnamed NoMemoryError
    added zero div checking to Fixnum and Bignum
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1969 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 70d0ac3914a10ee21018f230c9b0bbf1910d47a3
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Mar 25 21:39:12 2006 +0000

    Fix Time.dup + make time === another_time work properly
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1942 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 13614dc442097fa2e39d37ecd005a48ff55b4903
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 20 05:03:25 2006 +0000

    adding runtime-wide "current directory" support to escape using the user.dir property
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1923 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a1b8fc1d456e3d5c6e01579b88773383068aa85c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Feb 10 21:53:27 2006 +0000

    merging changes from cnutter_work1:
    - cref fixes
    - loadservice fixes for irb
    - binding
    - misc other fixes from playing with irb and RoR generate script
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1878 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1d43870a42678f709851fcd9349d32a5f5be0dca
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Feb 2 19:51:50 2006 +0000

    merging cnutter_work1 to HEAD
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1869 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1dd061e800c87a70038a6459ff6e9ca519dad5e8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 25 05:46:27 2006 +0000

    normalizing all file paths to use forward-slash as path separator
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1867 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 278a8ee09c9c4b51d7c2a31d4ce273e9c79b8056
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Fri Dec 23 16:23:18 2005 +0000

    More work towards Rails support.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1848 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b1293eda8454686e846e2a9837b348e2983bb423
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Dec 21 14:30:32 2005 +0000

    Positioning fixes
    JRuby library added
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1845 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7877d7715bab8b1da5f4cfc22ee87dc7fbf6203d
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Nov 29 17:11:04 2005 +0000

    Remove erroneous print
    Remove unused import
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1840 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b98e7c8429dbb9a3d7aa7c6c8a3026a44f027a71
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 27 23:29:58 2005 +0000

    moved frame/scope/other stack manipulation into ThreadContext to centralize it
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1837 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f11f183fa177acbe7f7b2685c56f38fb3261856d
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Thu Nov 24 16:46:48 2005 +0000

    Added dummy placeholder for Etc.
    Added "ruby_version" to rbconfig
    Fixed NPE in ReflectionCallback.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1834 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b9fc22569381e4cf67845d6a9b87ff69d6165135
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Wed Nov 23 10:55:34 2005 +0000

    Added 'very fake' fcntl, and bit more Socket support.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1832 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 53278235b77a3297d5e7d9cc2642d45edf7a6821
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Sun Nov 13 22:47:48 2005 +0000

    Refactored printing of backtrace for uncaught exception.
    Tweaked the formatting just a bit to be more ruby compatible.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1830 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3bf2648c55082b6253d9b5907b4d310a3b0e271b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 10 15:12:10 2005 +0000

    renamed EvaluateVisitor.createVisitor to getInstance, to more appropriately match its usage pattern
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1826 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4ede4bfb0b4fcc29ce09b82da5f1164b5894d258
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 10 15:09:14 2005 +0000

    TC method refactoring, renaming, inlining of TC-related IRuby methods
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1825 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a1a6cebc8670e0beb27e1a9ddc0325c7a3ba97e6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 4 18:03:34 2005 +0000

    centralizing blockstack accesses
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1824 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d373bb7973cf5cfb3a360f3ce2549efcef634633
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 4 16:12:48 2005 +0000

    centralized iterstack access into ThreadContext, cleaned up some warnings
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1823 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b323d175fd3092d864fd475c35d1efd560ccdb3e
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Oct 31 20:42:11 2005 +0000

    Remove some simple warnings
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1820 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2101b189741a176812aef3af116f64830bd42223
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 29 00:53:50 2005 +0000

    modified setRubyClass/getRubyClass crap on ThreadContext to use a stack, so callers don't have to save the "lastRubyClass" to reset it later
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1819 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1c0de34dee5f649017453c9ff70198fb178343d2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 28 15:47:18 2005 +0000

    refactoring: decoupled all code from manipulating the frame and scope stacks directly; eliminated custom stack impl for frame stack
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1817 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e8391ba0c663add06aa24ff66fa21afc8f3f78a0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 23 03:16:31 2005 +0000

    committing LastCallStatus refactoring...it's pretty benign, and the exposure is minimal
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1809 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f5643d27aa7a2dd836ef19c758a0a13351434da4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 21 01:04:27 2005 +0000

    merging cnutter_work2 to HEAD...damn the torpedos! full speed ahead!
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1807 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 01ca9286afda4864b9a97217ebe1c30f79ccd45b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Oct 20 16:21:41 2005 +0000

    big refactoring of method calling, moved scoping/framing resposibility to methods themselves, eliminated RubyModule.call0, renamed method callables appropriately
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1805 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4dfdacd80c56018084c618f3bbab7b542653d95e
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Sat Oct 8 13:07:06 2005 +0000

    Introduced IRuby interface for Ruby runtime object.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1798 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0d0a9875911a31ab082bc2f917b1645f395a8e2c
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Sat Oct 8 12:55:34 2005 +0000

    Encapsulate all public fields in Ruby (perhaps not the *best* encapsutlation, but better than before.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1797 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fe54dc08e436329257b341997863276d73839875
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 2 20:44:55 2005 +0000

    metaclass for Bignum
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1785 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 35d53d166de629779bfb76d9c9842646a41defeb
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Oct 1 19:22:50 2005 +0000

    Consistency of Libraries (since I want to make a new one and have it follow similiar conventions to the others):
    - Remove ILoadService and LoadServiceFactory (file under your are not gonna need it [YANGNI])
    - Rename and move libraries so they use the same conventions for names and locations
      - Mutex becomes RubyMutex (like BasicSocket)
      - RbConfig becomes RbConfigLibrary
      - SocketLibrary moved to same package as other libraries
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1781 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3437afe431124a2f60cf7e37c579b0c60ed0bf95
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Sep 30 17:39:23 2005 +0000

    Merge of TOM_RDT_POSITION branch
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1780 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 36ec84bb4bc5dbd391c6ddb676b2faeb380f0539
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 6 14:57:59 2005 +0000

    merging exception-removal changes to HEAD; EvaluateVisitor changes left on branch for now
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1757 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ab561decb36638dd1760992e80d5f417bc37d3e1
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Sep 4 18:43:03 2005 +0000

    Remove all catching of Ruby Errors from within Java impl of Ruby IO (and friends) code
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1756 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 61a7ba7ca1b009786f426346da5a97d70044ab76
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Aug 29 14:41:28 2005 +0000

    Eliminate RubyExceptions and its second references to every exception (now initialized in Ruby)
    Remove all eclipse warnings in projects except for DefaultRubyParser
    Move TestHelper into test source hierarchy to get it out of jruby.jar
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1742 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ca6b16e996ea9af83ce593594b9c69b9364a9924
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Aug 28 13:29:33 2005 +0000

    Kill RubyClasses (core class/modules now initialized in Ruby)
    Store all top-level classes as constants within Object (fixes things like Object.constants) instead of second datastore
    Always load all core classes (remove lazy loading)
    Convenience function RubyModule#getClass added
    Convenience function Ruby#getObject added
    JavaObject and JavaArray are now Java::JavaObject and Java::JavaArray to be consistent
    classes defined under another class/module are now defined in the parents creation routine
    Removed some masking warnings
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1739 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 31d6374bddf26d6c286c9f865a85d5ac17ebb941
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 13 16:49:30 2005 +0000

    New method caching system
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1730 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 803c66ee682936beecc8a43fe2cfc90fe5645b22
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jun 21 14:03:26 2005 +0000

    My Laptop drive is sounding funny (dropping a little earlier than normal -- but completely safe)
    ReflectionCallback is simpler - removed some indirection levels and split out new dispatch mechanism as...
    new ReflectedMethod which has less levels of indirection than reflectioncallback and will replace it entriely once all builtin classes use MetaClasses.
    Many protocol conversion protocols are being followed.  Almost all in numerical methods and a few in array, pack.
    Several classes have been changed to have a FooMetaClass.
    'ant test' is running between 25-20% faster right now and this should increase as I convert more builtin classes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1716 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a36ff3729d6a7f2c61eb51273fcee3d3bd371350
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jun 18 14:47:06 2005 +0000

    More moving towards java.util.Stack contract for remaining Abstract Stack users
    args are never null (we no longer null check with a few strategic asserts)
    getPosition() always returns something from Nodes (we no longer null check)
    Remove AttrSetNode (fake parser node) in favor of CallbackMethod
    we were pushing/popping an extra dynamic vars set every yield
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1715 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0db25dd3ae06c744963d9b04bf3465fa3673f030
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jun 16 14:54:07 2005 +0000

    Move abstract stack users a few steps closer java.util.Stack contract
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1711 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e07201e838f343bd0e31511beab754558ae292e7
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu May 12 17:46:16 2005 +0000

    Do not let ReturnJump bubble out to caller (and actually return in eval())
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1696 961051c9-f516-0410-bf72-c9f7e237a7b7

commit abfe85d15f992ecf4447b155d177050fe2239c3b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun May 8 16:58:03 2005 +0000

    Remove classStack with two RubyModule references (should fix at least one concurrency bug with blocks)
    Object#methods returns protected methods
    RubyModule.getConstant a little more sane
    f = Class.new; class << f was not working properly
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1687 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a036caac77f004164f13cd701d62ed5fcfa9e94f
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Tue Apr 19 15:11:29 2005 +0000

    Elimnate ArrayStack in favor of java.util.Stack
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1677 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ee9b5aa48bb8637c5f40b2ac16f807215572e75c
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Apr 2 15:50:37 2005 +0000

    $SAFE=3; $SAFE=2 yielded java exception and not ruby one
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1660 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 750e66982e97bcb72545a39ceacf6ee32a52a135
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Mar 30 04:41:51 2005 +0000

    Fix ::Constant lookup (colon3)
    Fix same-named constants in different namespaces from clobbering each other
    Fix javasupport to use proper eval depending on where it is included from (uncovered from above fixes)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1653 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0a56a82804d381b7fb5b51ca46a9b6ed4a08a3a3
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Mar 29 15:36:52 2005 +0000

    IO and File now have full fledged meta classes
    Many methods in IO and File now do conversions of arguments to the types they expect
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1649 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f11a64355c32c907a28e8c0cb8ade2cfee15cb46
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Mar 22 04:56:36 2005 +0000

    All Proc.clone to work
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1630 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7a83c48af56081c1c2132111d535f28d10cf3afb
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Dec 31 20:55:52 2004 +0000

    Update license to GPL/LGPL/CPL
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1574 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8acc5bd0b022a0f5f0e70f59dc3aac5b1585292a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 24 09:43:48 2004 +0000

    Eliminated Builtins class used only by the evaluator
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1544 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bcba816d780cd937c8bb29fcff51609e6ddb194c
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Wed Dec 22 10:16:39 2004 +0000

    replace java.util.Stack with ArrayStack
    remove unused methods from ArrayStack
    make it compatible to java.util.Stack
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1525 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 40383241ec93bfe226df70f8338e54bf9255140f
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Wed Dec 15 23:45:14 2004 +0000

    - Simplified method definition for builtin classes.
    - Added metaclass support for builtin classes.
    - Added ruby 1.8 allocate support.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1489 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 81d863f72452a85654d8e0c299b8251df8b8922a
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Dec 13 23:19:15 2004 +0000

    - Add "coerce" support.
    - Fixed Fixnum#+ as an example how to use "coerce".
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1488 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b72a2862ae5b2f01f9a767ef2ce248fd785857c4
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Dec 13 00:26:02 2004 +0000

    Replaced org.jruby.util.Asserts with Java 1.4 assert.
    Fixed String#capitalize.
    Replaced RubyString.nilString(getRuntime()) with getRuntime().getNil().
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1482 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e219b9865b9d95b287ff161c83df5434039f9b1
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sun Dec 12 23:41:29 2004 +0000

    - Replace IRubyErrorHandler with RubyWarnings and SyntaxException.
    - Add deprecated warning to Object#type method.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1481 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8081fdc23459ab3e7b62155a53b7f18b561f93c1
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Dec 12 14:55:16 2004 +0000

    removes type parameter from CallbackFactory.getXXXMethod()
    and removes CallType from AbstractCallback and ReflectionCallback
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1476 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 870e1da9b41bfdbae259e1fc5f18fc8b76686998
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Dec 12 09:25:42 2004 +0000

    removes the instance variable runtime in RubyObject
    reintroduces the variable in RubyNil, RubyBoolean, and RubyClass
    delegates all calls to Fixnum,Array,Boolean,String,ArgumentError,IndexError and TypeError.newXXX to Ruby
    fixes all imports
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1469 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6c6d203022d4a6738769b37a6423ca82087317b6
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Dec 1 05:51:15 2004 +0000

    Update $VERBOSE to be nil, true, or false instead of boolean
    Make when *array work
    Remove unused import
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1438 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e6b5100a49718fc8d3cf73e804b366eae694748d
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Nov 29 14:12:07 2004 +0000

    Remove (or add a comment) to some empty blocks.
    Remove unused RubyDir#matches method.
    Remove some RegExp Adapter remains.
    Rename RubyObject#argCount to RubyObject#checkArgumentCount
    Fix the stacktrace of Exceptions.
    Fix RubyFile#expand_path method.
    Add LocalJumpError class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1434 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c15ab526440e25745b45a2ab3aaab1b5a7334d1f
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Nov 28 14:54:57 2004 +0000

    code cleanup
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1428 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e1a54408194ca2d1b51f704247fa0d1b286c2492
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Nov 22 02:46:34 2004 +0000

    Remove IGlobalVariables
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1425 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b3188ae8c129516ce45118087c24a0a44d35098a
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sun Nov 21 16:07:28 2004 +0000

    Add patch by David Corbin for the eclipse build path.
    Add serialize target as external buildtool so that the *.ast.ser files are generated in eclipse.
    Remove unused RegexpAdapter references from org.jruby.Ruby.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1422 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 39c53cd7958c3b95ef4124a65a62d1e1cac24c84
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 21 05:36:33 2004 +0000

    fixes for RubyNil being 1.6ish (no to_f) and unused
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1413 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2363f341747cdb1f08d95d5a783bcf90e74f65ac
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sat Nov 20 20:50:08 2004 +0000

    Remove IRegexpAdapter and use Java 1.4 Regexp by default.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1412 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b1562832239a5e5d73b1ee98dade51601e343257
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Nov 16 20:30:04 2004 +0000

    Rename references of org.jruby.Ruby from ruby to runtime.
    Remove unused methods from the IRubyErrorHandler interface.
    Add "same" method to RubyObject to fix "equal?"
    Fix JavaObject cache.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1408 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 035c46fd66ac254cb294f8151bb458a672b46112
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Oct 30 22:27:08 2004 +0000

    Remove unlikely to be used soon abstractions and simplify lexing
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1373 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6c06bf07f2f69a835c42ff26b6820fca1ebacbea
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Oct 26 02:53:40 2004 +0000

    For now use ordinary Stack instead of internal handcrafted one
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1365 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fe62bbf1e061b09fb42531b3c499678585ea05fe
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Oct 17 14:46:01 2004 +0000

    Kernel#srand was not generating a different seed if called within the same millisecond
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1349 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3667b6ccac740984972f19731b5b12b76b1f8e94
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Aug 7 22:01:36 2004 +0000

    Add support for optional argument to Array#first
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1324 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 19e9cf2b9a3b3c47b1c57361605a39e09e8e8996
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Aug 7 21:41:11 2004 +0000

    Make IO descriptors maintain weak reference to allow the objects to 'naturally' get GC'd/closed/etc...
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1323 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 38986c078c0e951e68bca7521240fd133d68c8e1
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jun 1 16:17:23 2004 +0000

    constants refactoring
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1310 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f5c9a1ebd775712f2dc086acfce1a14a123ec632
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 25 15:54:04 2004 +0000

    Another round of star arg grammar fixes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1302 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c6cbdf10dc22191c659f1711ba19dd6b20701cee
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 18 16:07:27 2004 +0000

    Add Kernel#at_exit support
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1299 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0fe190697fb38dacdaa0ca5fd7fdaa0d2b15cc82
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Mar 13 22:43:20 2004 +0000

    Add 1.7 break/next return value
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1285 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d2a320bd1d168586788aa074aa1aecdcaee381d7
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 12 20:02:23 2004 +0000

    Remove unneeded ObjectFactory
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1281 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 158bab74478b3ca0925ddbd2a5c73d4ef53d75f3
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 12 19:38:42 2004 +0000

    Coalecse various getName signatures to just one
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1280 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 13a33bbd44b90f8d7b6b000682d934ff742b340e
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Mar 2 16:26:26 2004 +0000

    Remove ClassFactory
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1261 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 69a9625a1a852922a24f8e341a28d367fedb2392
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Mar 1 19:03:25 2004 +0000

    Consolidate code to determine classname/path down to a single code path.  Guarantee parentModule is never null and always ends up at ObjectClass
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1257 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 177e803022ebff178750c6d8b9be9eac3ea33575
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Jan 11 17:31:45 2004 +0000

    Added support for CGLIB, optional at both compile-time and run-time; Converted RubyHash back to using Reflection/CGLIB.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1212 961051c9-f516-0410-bf72-c9f7e237a7b7

commit da1e0993189b265528a6aa5108d3ce668d87643f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Jan 11 14:39:44 2004 +0000

    Added an (optional) CGLIB implementation of Callback.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1210 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e7f721acfb6dd4252c6b7c20c7c1139b4a3a8e2f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Jan 8 18:32:22 2004 +0000

    Moved Callbacks to their own package.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1209 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d8c7bdab8430bb1f7826f7cad86d6c1aa9513a82
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Dec 16 21:12:11 2002 +0000

    Reworked class and module lookup.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1171 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 72e8154122af9a6bedb148e07c260c8171edbac1
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Dec 5 23:00:54 2002 +0000

    Moved class and module creation to its own factory class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1165 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 87cd159e65e50f4157091c667b2f04e958262442
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Wed Dec 4 00:07:44 2002 +0000

    Fixed bug with super-call results being discarded.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1162 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0a47b75206b354a71f44403969da5da8b33c2662
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Wed Nov 20 20:10:56 2002 +0000

    Removed Namespace entirely.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1148 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 042ffdc92fad4e1ba53771dea8e1f7acd98fce77
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Wed Nov 20 18:11:34 2002 +0000

    Removed the parent-reference from Namespace.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1146 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8c29661671282b9fcde93981fa2de11cb56e00be
Author: Benoit Cerrina <b.cerrina@wanadoo.fr>
Date:   Mon Nov 18 12:32:20 2002 +0000

    made it possible to define ObjectDefinition as a ClassDefinition
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1133 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bfdd0cbb34e85721d77e215e111c3176616f905b
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Nov 16 01:17:40 2002 +0000

    Some thread service refactoring.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1128 961051c9-f516-0410-bf72-c9f7e237a7b7

commit febe46897e9d25475d2b177b4d537ede6150459b
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Nov 16 01:00:06 2002 +0000

    Moved threading stuff from org.jruby.Ruby into its own class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1127 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1901a589fb458e0e24c66d0a2f1dc9aab1eff78d
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Tue Nov 12 13:12:57 2002 +0000

    Extracted a method getModule()
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1104 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 19961ee684994df7b5c10ca1d9d490a31a72fac2
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Nov 11 23:19:08 2002 +0000

    Even more mindless refactoring.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1103 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dfba0a8fda790a0b2faf5ad8f268e5d2fec8c4c6
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Nov 11 22:48:23 2002 +0000

    Removed useless globals topScope and topFrame.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1101 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f75018181746a5807539db933ad4144d55240425
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Nov 11 22:16:24 2002 +0000

    Fixed bug with un-initialized class-stack (didn't show up when running unit tests though Ant.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1100 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cc9a5c1d90daada3901d35b5853de1cdb438d53d
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Nov 11 21:24:30 2002 +0000

    Refactoring, special local vars.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1099 961051c9-f516-0410-bf72-c9f7e237a7b7

commit db825996b1895dae1eb261e8664a736f73cdad4f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Nov 9 16:59:49 2002 +0000

    Some thread-context refactorings.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1098 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 36b4d0f7943d04e5a880cf6a13afd31dc922577a
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Nov 9 15:48:46 2002 +0000

    Some ThreadContext related refactoring.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1096 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 13e69799e76f1dd3ab5912856ce9b0d9ff6e99af
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Nov 9 15:12:41 2002 +0000

    Moved classStack and wrapper to ThreadContext; Cleanups.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1095 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a01a5393868c96d8d45d154612f467fb233f2d49
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Fri Nov 1 15:40:06 2002 +0000

    Deprecated evalScript(String, Class); Some more compiler work.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1069 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6dd76e88b676c4c1a5fd076e13cd597ecac04c51
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Thu Oct 31 23:18:53 2002 +0000

    - remove unused classes.
    - update headers.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1064 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6e143e1ded2275ed4da3449d4a13446b099f800d
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Oct 20 21:44:53 2002 +0000

    Fixed bug with eval() calls destroying local variables.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1003 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 481d51b1384707b5d4097599f12ca279adff1f41
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Oct 17 00:23:48 2002 +0000

    Moved all method caching into RubyModule itself.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@995 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f25d6d4a9c0b8ed208795c381a98b42fdf2ab37d
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Fri Oct 11 18:46:48 2002 +0000

    Small refactorings
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@968 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f65b3192105333e10cc92fa8c8372b0f7bb46f4b
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Oct 5 21:53:55 2002 +0000

    Removed some dead code; some refactoring.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@950 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fffe7aa25510c5fa1f975232bea0ef0fd24762d7
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Wed Sep 25 00:25:28 2002 +0000

    - add BSF example
    - fix BSF Engine
    - fix javasupport bug
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@898 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 06f34f3a6e4941994e00090d1365045e229680be
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sat Sep 21 23:05:19 2002 +0000

    - Some MetaClass refactorizations,
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@881 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1dd2d63c772b605bffc0c1be9827385d91802ab2
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Sep 19 10:54:11 2002 +0000

    Removed dead code.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@861 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d667713f53902eb2be9e22076d1ecb9c190388a9
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Sep 17 13:07:22 2002 +0000

    - performance boost by removing "new IRubyObject[0]"
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@839 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 839de5dc5ea6ec9b3608a998c7c727bc12f50218
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Sep 16 14:08:45 2002 +0000

    - remove Ruby#getGlobalVar and Ruby#setGlobalVar
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@835 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2f1fb18e858816b33809494cf5ae1320d8b295ba
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sun Sep 15 23:43:20 2002 +0000

    - global variables bugs
    - refactorize global variables
    - refactorize Asserts
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@831 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1b9762cc35b0eda8c5103611e0c3632d66b40c4a
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sun Sep 15 00:27:00 2002 +0000

    - refactorization
    - fix mkdir bug in JRubySerialize
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@823 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 07de7bf00d240b70b32772b86223ff7f72a8e787
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Fri Sep 13 19:55:24 2002 +0000

    - add ASTSerializer
    - add 'jruby-serialize' ant-task
    - add ant 1.5.1 jar.
    - add serialization support for builtin ruby script.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@817 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 424f4dce081733e30bf2599389978a4b67bee3b2
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Sep 12 15:23:56 2002 +0000

    Dynamic variables now in a custom container instead of HashMaps.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@807 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e99afd11d8db75f685ae3c24e84d889751a1dc2f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Sep 12 13:43:33 2002 +0000

    Various cleanups.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@806 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0f597585eeb60edaa2dc6a7ce72cc9c02fcd2e57
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Sep 12 11:55:39 2002 +0000

    Removed our special RubyMap and RubyHashMap, we now only use standard Map and HashMap.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@804 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0d32daed9777448bdec0ff02ac5d61c1f1fa6786
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Wed Sep 11 23:46:31 2002 +0000

    Interned a few places dealing with method names. Seems to benefit performance slightly, and definitely should benefit memory usage.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@803 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5018a6ef1a59e7e873040ee27c76dc6c8ff14555
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Wed Sep 11 10:11:17 2002 +0000

    - Fix ThreadLocal memory leak.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@797 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c77b91f42c4f3810140d44cbe603248a1d52b7ee
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Sep 10 15:18:12 2002 +0000

    - restructure of the code tree.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@782 961051c9-f516-0410-bf72-c9f7e237a7b7
