commit 12095bfbbb787f7a05555fec5bfce1937ee7f7d2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jun 4 10:44:12 2013 -0500

    Make reified-vars classes have appropriate reified class.

commit 339e25a2fbd829b82b9c62a119d6ab511babf2ee
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jun 3 19:44:29 2013 +0900

    Fix issues with duping instance variables with fields in play.

commit 3b0b4f995c02b0f95cf5f71cb2f7eddc24392074
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jun 3 10:04:00 2013 +0900

    Fixes to allocator logic for reified variables.

commit 3708d7dfb2180c7e04c8e0514d092ffef67c6179
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jun 1 16:31:51 2013 +0900

    Improvements and expansion of reified variable logic.
    
    * Expand to ten variables.
    * Move variable-inspection data into MethodData, in prep for
      adding same data into compiled methods.
    * Reduce number of switches required to handle reified vars.

commit 5f31ca725ffb7051c11274b9c704594bb7f00d8f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 31 07:20:53 2013 +0900

    Initial implementation of packed object layout for instance vars.
    
    This implementation supports a packed layout for objects that will
    use up to 5 instance variable slots, based on a static inspection
    of instance methods at first allocation. Rather than generating
    new classes at runtime, I opted to create a chain of objects with
    generic field names (var0, var1) to represent various sizes of
    packed objects. The appropriate size is chosen by walking all
    instance methods in the object's metaclass and superclasses upon
    first allocation, examining AST nodes for instance-variable sets
    and gets. This gives us a good idea of how many variables will be
    used during the object's lifetime, and in many (most) cases we
    will not need to allocate the growable varTable (Object[]) to hold
    unencountered variables.
    
    This implementation is still in early days, and has the following
    limitations:
    
    * Only interpreted methods can be inspected. Methods that are
      AOT-compiled (such as from immediately compiling the command-
      line script) cannot be inspected for instance variable accesses.
      We can remedy this by having AOT-compiled methods also report a
      list of instance variable names they may access.
    * Only up to five vars are supported. Objects that use more than
      five variables will start to fall back on the old array-based
      table.
    * Reified variable count is not subtracted from the size of the
      array-based table. If an object requires six variables, for
      example, the base object will provide five fields for var0..var4
      and the varTable array will provide room for six elements even
      though the first five will not be used. This should be fixed.
    * No testing has been done, and this implementation likely does
      not mesh properly with special variables (object_id, etc),
      marshalling, and other deep accesses of the old array-based
      table that have not been updated to be aware of packed objects.
    
    For a performance, memory-size, and GC overhead comparison, see
    the following gist: https://gist.github.com/headius/5681716

commit de01d3a30d4e86eee608d51363108f5d23ff7a01
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat May 25 12:57:43 2013 -0500

    Start enabling variable reification logic plus logging of vars.

commit 489e885d3a2ee21a2d5c5019a7d119d6f9ead27e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 14 11:42:51 2013 -0500

    Almost wire up logic to walk ivars on first construct of object.

commit bb98e4b8decffc0361b70a6c99c1ade5fed0abcb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 28 10:02:33 2013 +0000

    Move RuntimeHelpers to org.jruby.runtime.Helpers.

commit 61678ac1a2514a9932276f8d527816a5980a94b3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 25 20:41:40 2013 +1100

    Fix more references to CPL.
    
    The phrase "Common Public License" was split across two lines in
    our default header, which caused it to be missed during earlier
    search/replace. Also, we did not replace the CPL URL in the
    header with the EPL URL.

commit 330fef3b0fc18af477ccea19bd278669667f31bb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 12 14:49:29 2013 -0600

    Switch JRuby's CPL license to EPL.
    
    Governance of the CPL license was moved to the Eclipse Foundation
    at some point in the past, and Eclipse blessed the EPL (Eclipse
    Public License v1.0) as the successor to CPL. Because the CPL
    contains a clause allowing transparent upgrades to future blessed
    successor licenses, we can make the move to EPL without
    re-contacting past contributors.
    
    The change in going from CPL to EPL largely just removes some
    punitive language that apparently made many companies nervous. All
    other language in the license remains identical.
    
    Several documents about Eclipse's move from CPL to EPL are here:
    
    http://www.eclipse.org/legal/cpl2epl/
    
    Note that Eclipse's move came before the blessing of EPL as the
    upgrade path for CPL, so they had to do a bit more legal juggling.
    With Eclipse now the administrator of CPL and with their blessing
    of EPL as the upgrade path for CPL, all we need to do is make the
    move.

commit c6013c59228b377aa9f8fb0626340fa7831af667
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 17 10:59:42 2012 -0500

    Move Java-sourced dynamic call logic to MethodNames enum.

commit ae4fabff7a374eacae1dfefa49ec6a0e50efc7e0
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Wed Aug 22 07:48:24 2012 +1000

    Convert callInit() to use the init callsite, and update some usages of callInit to use the variant which takes a ThreadContext

commit c060cf30a3171773acb2cd8738667790d70f9a5b
Author: Wayne Meissner <wmeissner@gmail.com>
Date:   Tue Aug 21 22:49:29 2012 +1000

    Add variants of RubyObject#callInit() that take a ThreadContext

commit b8181cda909f6e42d7c0b7fffaabbe2a502f273b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 27 02:19:54 2012 -0500

    Inline all calls to ThreadContext.getRuntime to access the field.

commit 253442ee5ef6b87395a5b8a2935db41edac2cb46
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 17 09:58:47 2011 -0600

    Deprecate RubyBasicObject constructor with unused "canBeTainted" param.

commit 1a9973a8486e4e50601851d72ac6db9a7d766705
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Nov 21 14:30:23 2011 -0600

    Minor fix for javadoc warnings about a bad @see ClassInde.

commit 96bb3e5651d4c326403448e066a6c0f8eee32551
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 15:16:28 2011 -0500

    Move 'bigdecimal' bits under org.jruby.ext.bigdecimal.

commit d6f4edfc547baaf5d8cebbc3e3a874ba0132f8ad
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 11 10:10:11 2011 -0500

    Add comments regarding fragile base class methods in the presence of reification, for JRUBY-5906.

commit fc9944300651f8ded073e66a29f80523d72bdfd6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jun 5 11:57:44 2011 -0500

    Slightly faster default #initialize, by passing ThreadContext through.

commit dd0ede8696d8b684baacb15f5904279aff6debec
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 2 12:20:27 2011 -0500

    Replace most slow core-to-core calls to ==, hash, and <=> with lighter-weight global cache hits.

commit 1852918db083a08f9b5410523b02023881f5adde
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jan 31 15:20:06 2011 -0600

    Fix JRUBY-5364: become_java! / RubyClass.reify regression
    
    * Cascade requests to reify (become_java!) up class hiearachy, so they all reify
    * Add an error to RubyClass.reify if the parent has not yet been reified
    
    Logic to determine whether reification is possible is a bit weak (just checks if real superclass == Object or is unreified), but no weaker than previously.

commit 6eb8df5bd511405c8f7e465ec7e24d1223880508
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 20 14:24:01 2011 -0600

    Fix JRUBY-4871: [1.9] Attempt to invoke any method on Delegator leads to ClassCastException
    
    * Moved all methods defined by Kernel into pass-through methods in RubyKernel and impls in RubyBasicObject
    * RubyKernel, RubyBasicObject, and RubyObject now define their methods only from their own class
    * Arity-split 1.9 default initialize
    * Deleted RubyObject methods that only called super version
    * Also fixes JRUBY-5366: jruby 1.6 RC1 ruby 1.9: org.jruby.RubyBasicObject cannot be cast to org.jruby.RubyObject

commit 6f56800dce02bcf68f113c159ac697953ff52165
Author: Nicholas Jefferson <nicholas@pythonic.com.au>
Date:   Fri Jan 14 16:16:11 2011 +1100

    Object#id should raise NoMethodError
    
    Signed-off-by: Hiro Asari <asari.ruby@gmail.com>

commit ab76e5d4261e80fcccd63bee388df14e48bb75d3
Author: Douglas Campos <qmx@qmx.me>
Date:   Tue Nov 30 13:39:48 2010 -0200

    normalizing args number error message
    
    Signed-off-by: Douglas Campos <qmx@qmx.me>
    Signed-off-by: Hiroshi Nakamura <nahi@ruby-lang.org>

commit 9103174645d1f834373a1e306c4073467538663f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Dec 2 16:58:34 2010 -0600

    [1.9] Implement respond_to_missing? behavior for Kernel#method. Also fix respond_to_missing? arity.

commit fd0fa789b21b30f294e8286b72b75fe3b688c27a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 1 12:07:42 2010 -0600

    Merge "backtrace" branch to master, now that it runs clean on all our various test cases.
    
    This is a squashed merge encompassing the following commits from "backtrace":
    
    commit eb0e24242050199ac1cc4cf6e48d93025f0186f4
    Merge: 32137de ea48d8d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 12:03:28 2010 -0600
    
        Merge remote branch 'origin/master' into backtrace
    
    commit 32137decc9351dd7b6a19c49c7955808f535bb9c
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 09:41:29 2010 -0600
    
        Fix remaining failures for test-all.
    
        * Disable CheckClassAdapter temporarily, since it disallows what should be valid JVM identifiers.
        * Use the presence of $RUBY$ in method name as an additional indicator that we're processing a compiled Ruby body during backtrace gathering.
        * Move some largely-static properties out of "init" target in build.xml, so they're available whether init is triggered or not (e.g. run.jvm.model).
    
    commit ee2a624201d5e9cd408d6ae793160aeb99b50b3d
    Merge: cd50ae5 88ad204
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 08:01:22 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit cd50ae5f06b95a2fffab6bc1f3a7419f478d0a52
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 19:15:07 2010 -0600
    
        Get remaining spec failure with -X+C passing.
    
        * Embed the actual Ruby method name into the Java method for block bodies, rather than __block__.
    
    commit 52bbfffcae1aed62bf4afcb692bed9725e4e1564
    Merge: 4ed7235 1aace5e
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 01:37:15 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit 4ed723579101fffd8bfa73b30dc6e4e8991866f2
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 01:31:44 2010 -0600
    
        Precompiled (AOT) specs *nearly* green.
    
        * Mark __method__ as reading frame "name"
        * Fix AOT-based stack trace mining logic
    
    commit 64e20aa939b5b9c6e41e0e9fe09039a0bb92794a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Nov 29 16:50:55 2010 -0600
    
        Jitted specs running green.
    
        * eval needs to set method name into the binding, so it's there for "__method__" in the eval'ed code.
    
    commit fd442c0a815bcab9eb6c9aa1b71e1f8a260ee03b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Nov 29 16:06:53 2010 -0600
    
        Interpreted specs green on backtrace.
    
        * Tagged some __method__ specs for which backtrace behaves like 1.9, which Matz apparently likes but was afraid to backport. Odd cases anyway.
        * Fixed method name for the block used to define_method.
    
    commit cedb27e430b422c1158f66b4dcc7769922433506
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 24 18:35:22 2010 -0600
    
        Reinstate deprecated java_to_ruby and ruby_to_java I removed, since it's still needed by some external libs.
    
    commit b48b17910de662b4e2d20ee8f4b5cc734eefc1ed
    Merge: f39007e 2ae4995
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 24 13:40:58 2010 -0600
    
        Merge remote branch 'origin/master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/RubySymbol.java
        	src/org/jruby/runtime/CompiledBlock19.java
        	src/org/jruby/runtime/Interpreted19Block.java
        	src/org/jruby/runtime/InterpretedBlock.java
        	src/org/jruby/runtime/MethodBlock.java
    
    commit f39007eca676c1e6ec9f891ac63b7c5d907b0d1b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Nov 18 14:01:29 2010 -0600
    
        Start normalizing the method/class names generated into Java by JIT and AOT compiler, to wrap up the remaining spec failures.
    
    commit 76e42c4b4522dc87c066d20051d02d1e4005b860
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 20:40:33 2010 -0600
    
        Disable dynopt for now, to allow better stabilization on the main feature of this branch: frame elimination.
    
    commit d03099690df2e16d423e8b6a8969e0264983237f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 15:00:14 2010 -0600
    
        Encapsulate "coreMethods" hash in Ruby and add "bound method" logic to default (non-generated) class populator. `ant test-all` runs green now.
    
    commit ed7458f72bce55b11e5231f8e7b9d590c09ca53d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 10:46:43 2010 -0600
    
        Fix incorrect use of fastSetInstanceVariable instead of fastSetInternalVariable in FFI.
    
    commit f09626121b6a8bea6ab39a3c8ed3ccd69f56b505
    Merge: f780b97 e8ca689
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 10:15:16 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit f780b972b1f3e18f4c2608d9536e797a0845cd1a
    Merge: 25ab5d3 6967ea7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 09:04:42 2010 -0600
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/runtime/ThreadContext.java
    
    commit 25ab5d3d3f8c1fbf0fa334427b1485d322e83f86
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Nov 7 00:42:54 2010 -0500
    
        Don't do dynopt against calls that receive blocks; non-local flow is not properly handled yet.
    
    commit a4ad27056dcc3acf6bae0b0af7e618966d08a6dd
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Nov 6 15:22:40 2010 -0500
    
        Tag caller specs that do not pass with new backtrace logic (peculiar eval caller behaviors).
    
    commit eed8902084cfa06d4648935c1f70da57bf0c7a9c
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Nov 6 00:32:59 2010 -0500
    
        More fixes to get specs and tests green on backtrace branch:
    
        * Hash#index was not being bound properly from RubyHash#index19
        * Range#min and Range#max need super, and therefore need frame = true
        * tc_owned is a bad test and fails on system like OS X where (for some reason) / may be owned by user
        * test_trace_func had been hacked for a bad class result (Integer, instead of Fixnum)...fixed that
    
    commit 9d9f94c30de76fa25e738e70e84ea09163eca5cb
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Nov 5 20:03:22 2010 -0500
    
        Fix Kernel#caller to replace .java lines with Ruby lines. Brings specs mostly to passing.
    
    commit de433c771830e95c54f8196453208f2b312191aa
    Merge: 3ffe1cf e25c58f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Nov 5 17:40:02 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyIO.java
        	src/org/jruby/compiler/impl/StackBasedVariableCompiler.java
        	src/org/jruby/evaluator/ASTInterpreter.java
        	src/org/jruby/java/proxies/JavaProxy.java
    
    commit 3ffe1cfba86f52ee96d89f3a1c352597f22f76b7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 27 01:42:06 2010 -0200
    
        Fix compile error I accidentally merged.
    
    commit b081253fb3cdf5141f7f0cf76d3f8546837d9f42
    Merge: fc3028d ad68e22
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 16:30:25 2010 -0200
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/internal/runtime/methods/DefaultMethod.java
        	src/org/jruby/runtime/ThreadContext.java
    
    commit fc3028d9da2750c9d1c394600ab8ee712388724d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 14:39:29 2010 -0200
    
        Add better description for class bodies in backtrace
    
    commit d796555494c2237116c7477c932fd96cd30d2e20
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 11:36:29 2010 -0200
    
        Clean up and add color to Rubinius backtraces.
    
    commit 012f5357ce649bd5a996211fe231f26097bf4f5b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 16:23:04 2010 -0500
    
        Fix classloader check to allow for compiled method handles, which use a no-arg constructor.
    
    commit 473d48aac6a5523304188d1d433e4c12df989b89
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 16:10:32 2010 -0500
    
        Improve Proc-binding-based eval position info by propagating block's position into the binding and through to the backtrace frame.
    
    commit bcfd16b519b145c9ee055db1592dfaced05b71a0
    Merge: 4902faa 5b49583
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 11:07:15 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyTime.java
        	src/org/jruby/runtime/ThreadContext.java
        	test/org/jruby/test/TestRubyException.java
    
    commit 4902faaf1678d5aecdef8b0b66f8ec78062aeec5
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Oct 21 09:28:45 2010 -0500
    
        Fix badly-merged RubyProc.to_s19, missing opening brace.
    
    commit 69177d7098f9dc4ff9096d08eee25c0d8bb4f971
    Merge: 801e764 f895837
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 20 21:50:53 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 801e7641b8838a8ae8931a9c6dcc5cf050096c4a
    Merge: 0c60a89 dda4644
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 19 23:16:41 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyDigest.java
        	src/org/jruby/RubyProc.java
    
    commit 0c60a89aa746f286588b218681e9ad25b11318c4
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 19 23:06:15 2010 -0500
    
        Only compile direct recursive calls when we haven't branched to another method body (e.g. for rescues) and we're not compiling a closure or class body.
    
    commit 18333fe82c808e8ed49eef898f19c86fa2d764b2
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 17:04:13 2010 -0500
    
        Get 1.8 specs running green except for a handful of Kernel#caller specs (which don't expect to see .java files in the trace...not sure how to deal with that).
    
        * Fix another literal-block-calling path that wasn't using callIter
    
    commit 366740120ee76d8df3f977edc1727b60b2d4ad63
    Merge: b64390b 6b243a3
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 10:35:14 2010 -0500
    
        Merge remote branch 'origin/master' into backtrace
    
    commit b64390b8cf0d2cb13e06d352969a093b5e86818d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 10:33:39 2010 -0500
    
        Remaining fixes to get precompiled mode passing all our tests. Still some spec failures.
    
        * Bump up permgen max for test runs
        * Fix stack-based scope initialization to not leave an unused nil on stack
        * Ensure compiled method handles properly wrap pre/post logic for dummy and backtrace frames.
    
    commit 96bd3cbde91fc505b37ee13cbea6ffa3e8690c58
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Oct 11 18:36:34 2010 -0500
    
        First fixes for backtrace branch in precompiled mode:
    
        * Add test-precompiled build target for running just precompiled
        * Eliminate extraneous toplevel scope being pushed for precompiled loads (because that logic is all in the generated "load" method now.
        * Add a new scope descriptor decoding path that properly sets up a toplevel scope
    
    commit 0ebbd6ac46c9ac04558f5200f980f26f798b9413
    Merge: fc387be ac455fc
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 6 21:53:18 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyIO.java
    
    commit fc387befff57ada6c116b646a3dfb767cc926ee5
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 28 15:57:58 2010 -0500
    
        Renumber arguments for consistency.
    
    commit bbc91d3c4039bf6c26ceffd4899dcaaeaa3d46d0
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 28 15:40:38 2010 -0500
    
        Fixes to get specs a bit closer to running green.
    
        * Move pre/post logic for Script.load into generated code, so it's the same everywhere.
        * Make pre/post-load push a frame, so top-level of a script is always framed
        * Remove break handling from non-literal block call paths in CachingCallSite
        * Make sure all literal block calls are using CallSite.callIter, which handles break
        * Fix a bad test in testCompiler that needed visibility tweaks and framing
        * Add complete doco for CallSite
        * Fix Kernel#caller to trim from top of stack instead of bottom
    
    commit 4e814a24d5b2ef1b6567a3076a463ff9d08e2a0d
    Merge: 91dc13a 3dbcef3
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 27 17:43:30 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 91dc13a2f0b74bc1054d83378782416465ecc1b8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 27 01:02:48 2010 -0500
    
        Fixes to get test-compiled (but not precompiled) passing 100%.
    
        * Fix eqlInternal's RubyNumeric branch check if classes are equal
        * Provide file and line from all BlockBodies, so Proc#to_s can always use it
        * Fix rejiggered Struct#each and Struct#each_pair to call the appropriate internal version
        * Fix ruby_test's IO.new suite to not use STDOUT directly, risking that it get closed
    
    commit dc4af45352607ebb8a95d70befdcdb15c1111c58
    Merge: ec8bb7f 90275be
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 21 09:52:10 2010 -0700
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/RubyDir.java
        	src/org/jruby/RubyKernel.java
        	src/org/jruby/compiler/ASTInspector.java
        	src/org/jruby/javasupport/util/RuntimeHelpers.java
    
    commit ec8bb7fc31d4acd4ebcb040f088e19fb427448e8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 19 16:21:38 2010 -0700
    
        Remove frame = true from all core class methods, to reduce their call costs. A few remain for invokeSuper and methods that may still need frames.
    
    commit ec276b6ca0c6009702839b12d97664b9e52b1023
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 16 14:10:43 2010 -0500
    
        Eliminate RubyTuple use that snuck in.
    
    commit f80254100cfc17ac6eb558e465fc1fb9122c3ee4
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 14 10:07:53 2010 -0500
    
        Special case a few immutable core types in equalInternal/eqlInternal.
    
    commit eb66c45145e4fd1f8c28e9a8c544114f034116e8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 18:26:13 2010 -0300
    
        Performance changes for backtrace logic:
    
        * Back off using Java stack trace for Proc's to_s file+line, since it's prohibitively expensive
        * Move the Backtrace stack to being a fixed-size array of objects updated, rather than created, when a push happens
    
    commit 6f0ade5ab28946b8800431d3454d2e57fc0dbe19
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 11:36:07 2010 -0300
    
        Add generation guard around trivially-inlined logic.
    
    commit c4d8705217174580d35757dc85c5c646e980b57f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 06:18:38 2010 -0300
    
        Full speed ahead with a caching mechanism for calls from core classes. Only works for core class methods right now, but opens the door to expanding that.
    
    commit 5874abc01104f6c0f435f8ac4643ed0f77cf7cff
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 03:43:37 2010 -0300
    
        Localize some fields used in Array#include? to speed up the loop.
    
    commit 346245cd5e154574d14736cf4b9e0b4b98260d14
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 15:02:41 2010 -0300
    
        Allow passing a number of iterations to bench_quicksort.rb.
    
    commit b4687022a1f00d0b63838b1c9daf00753fcfa93e
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 11:55:15 2010 -0300
    
        Fixes to get run-junit-compiled 100% passing on backtrace branch.
    
        * Fixed a couple tests that are too sensitive to core method line numbers or expected only .rb elements in the trace
        * Added a mechanism for procs to retrieve the most recent Ruby frame, for to_s purposes
        * Added comments for hybrid backtrace logic
    
    commit 15cd9b16cb2750d0e40ba478d07fe5bf265dc620
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 08:07:57 2010 -0300
    
        Add better logging to AnnotationBinder (for showing framed/scoped core methods), ASTInspector (for showing methods detected as framed/scoped and for reporting deopt flags as they are set), and JITCompiler (for dumping jitted methods' full classes and inspector results). New property jruby.jit.dumping=(true|FALSE).
    
    commit c4e6176498590d791868055025c2e72ded1ccf13
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Sep 10 02:10:20 2010 -0400
    
        Improve dumping of generated bytecode by including class and method name when possible.
    
    commit 07fc4215f6873f449f89d4f5da7a7e2e8963bc70
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 9 23:39:20 2010 -0400
    
        Make attr accessor's var accessor field volatile, to guarantee visibility across threads.
    
    commit e3a7cf5cd4d8ccd08407955779bdd94feb5e4ac8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 13:26:48 2010 -0500
    
        Add missing "in" to caller backtrace lines.
    
    commit 7140c339f386959853f747d86cb2ea9a8afa6f2a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 12:10:50 2010 -0500
    
        Fixes to get tracing tests running in interpreted mode:
    
        * Off-by-one line numbers were off for MRI too. Fixed to correct line numbers
        * call and return for Ruby methods need to use impl class, not self class
    
    commit cbc9c4edab56807a023817d06db9c22441fa4b53
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 10:31:57 2010 -0500
    
        Fix runInterpreterBody to properly unwrap RootNode for "gets loop" execution.
    
    commit 3a09773058d8d58d5bf8f1b6fbebc494fc18f7c6
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 10:01:43 2010 -0500
    
        Make --bytecode attempt a recompile, so that dynopt and no-compile modes can still print bytecode.
    
    commit 4e48e722ba5ded10975af348738237fcb7fe9b2a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 09:23:38 2010 -0500
    
        Add a "full" backtrace style which does not omit any Java frames and interlaces the Ruby frames.
    
    commit 6f5057e3ae1e372bd66602dcc26864adc3270128
    Merge: 7006d31 811fd8d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 07:48:47 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
    
    commit 7006d3175bbf4630921dfecaa4faef2a39a77205
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 4 16:04:28 2010 -0500
    
        Bytecode size reductions for stack-based nil-initialization of locals and for x, *y and x, * forms of masgn.
    
    commit 3a8fb16f020c2b9aaa6228605bdb3d8fd1b78ccf
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 4 14:52:04 2010 -0500
    
        Do not do direct recursive invocations for heap-based scopes, since the scope is not currently being reset.
    
    commit ec00e99636667eff97a891917ae9ef37f94a6eb7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Sep 3 19:55:24 2010 -0500
    
        Turn on dynopt by default, to aid testing of new logic.
    
    commit 9508e8a6925fce4f57a386ede867b3f8f9b67d38
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 2 12:40:38 2010 -0500
    
        Fix Time test that expected two separate Time.now objects to to_s the same.
    
    commit 65ba8b37a8a232495453e71b2a560c761b40893f
    Author: Nick Sieger <nick@nicksieger.com>
    Date:   Mon Aug 30 14:50:03 2010 -0500
    
        Use new backtrace info to set a more useful Java thread name
    
    commit 75b100604af39de52b26bdb21669136234424a0b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 30 11:37:49 2010 +0900
    
        Fix ifne/ifeq bug in dynopt guard and switch DefaultMethod to not flip generations on JIT in dynopt mode.
    
    commit fe3b408629e94b7db0436152968bd6d2232f6c7c
    Merge: eea60da 85c64c6
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 29 20:33:06 2010 +0900
    
        Merge branch 'master' into backtrace
    
    commit eea60da3905c87c16fbb4e6c78fd7a07f842e4bd
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Aug 27 14:09:44 2010 +0900
    
        Modify Java Fixnum fib bench to use the long call paths where possible, to be more like what compiled Ruby does not.
    
    commit a189563d9073208292e91aff3eb1c88489bd113d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 15:07:21 2010 +0900
    
        Fixes for jitted/compiled backtrace generation
    
        * SClass in a method body needs to frame, so it has a jump target for non-local return
        * Compiled methods need to always have their ruby name in the method name, so it can be mined out appropriately
        * Synthetic calls, like to rescue bodies, need to gobble caller frames to avoid multiple entries
    
    commit 276226de611cb8d5af942148109c2a51982e7640
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 14:03:44 2010 +0900
    
        Add callNumber tracking to method handles, to properly handle return jumps.
    
    commit b94bcf119a54f52ab9be3c86bc5cc85078f20eee
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 13:16:25 2010 +0900
    
        More fixes for hybrid backtrace:
    
        * Get generated trace to be RaiseException's Java trace
        * Add Ruby exception name to the RaiseException message
        * Rewire and repair trace calls
    
        All main suite tests now pass in interpreted mode.
    
    commit dc9fcd3de0f3070507ac0a0647973d1e9f16ae4f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 14:38:47 2010 -0500
    
        Fix debug logging of exceptions being raised and patch a couple tests for new backtrace structure.
    
    commit 3acd3201d85e4da9186fa17d3a04bdc9db742e29
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 13:23:04 2010 -0500
    
        Include original source file in compiled Ruby, add missing "in" line for MRI rendering, and soften requirements in test_backtraces to allow for native elements in the backtrace.
    
    commit 728cf3983fbeffba944fe34a8b0e410cc1de041c
    Merge: 88a64de 0e9c956
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 00:18:07 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 88a64de879446be3398ba7671b5fa1f3e46ce02f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:29:21 2010 -0500
    
        Turn on "positionless" compilation, since compiled code no longer needs to update interpreter backtrace frames. Also fix nil/null backtrace rendering.
    
    commit 5712a4ce285a5b3662c8ef8def2599223a232626
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:18:17 2010 -0500
    
        Fix off-by-one line numbers from interpreter frames.
    
    commit 519f4625b9d9658f50b986b1add560903ee453de
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:10:47 2010 -0500
    
        Remove some old backtrace code no longer in use and get all "backtrace" method handles to generate with no frame at all (since Java stack is used now).
    
    commit 424d967df8a3b6ba277bdb1b530d4f7f62ecbc4a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 16:52:29 2010 -0500
    
        Get Kernel#caller working with hybrid traces, get Rubinius rendering working again (partially), separate gathering and rendering of backtraces.
    
    commit a00822740712ddd924896feccc10f015fd20d4be
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 15:32:08 2010 -0500
    
        Mine method names out of AOT and JIT compiled stacktrace elements and get JIT using the original name of the method.
    
    commit 039d184ac5f798aed21870a7552b66c5973ca0eb
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Aug 14 22:16:48 2010 -0500
    
        Simplify in-class encoding of StaticScope data.
    
    commit 876a762b8af88955bee598dfd0421805d9b47c40
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 01:41:44 2010 -0500
    
        Fixes to hybrid traces to get tests working better:
    
        * Omit Kernel#raise and the KernelJavaAddons rbRaise from traces
        * Handle getBacktrace when there's been no preparation
    
        Also modified test/testException.rb to allow internal line numbers for the "load" call, rather than MRI standard "whatever line it was called from".
    
    commit 06f1bd171d6897f651b3cebfd76551080acbfe40
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 00:39:59 2010 -0500
    
        Move backtrace management to a separate stack and implement mixed-mode backtrace generation.
    
    commit ca40e73a7c136dfdd3853f0cd62a73bf70a3a08f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Aug 21 20:56:50 2010 -0500
    
        Get all major interpreter entry-points passing through simple, known method bodies. First step toward mixed-mode backtraces.

commit ef99d39db4d04fd416952df8685b53e2a86f7a99
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 20 18:15:22 2010 -0500

    Fix for JRUBY-5137: [1.9] Object#hash crash when a Bignum given as a hash value

commit 3de8d29ba756862303ddb993a4fc6b18fef89051
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 9 03:14:11 2010 -0500

    Tidy up and get reified objects working for Object subhierarchies. jruby.reify.classes=true to turn it on.

commit 6c3d5408e9b38e2f454936f6cc4061fde3d2953b
Author: David Calavera <david.calavera@gmail.com>
Date:   Mon Jul 5 22:33:34 2010 +0200

    [1.9] fix Kernel#respond_to_missing? is called when #respond_to? is false

commit f8fbc61494c67926b702ad7cd8eedae67b08ba90
Author: David Calavera <david.calavera@gmail.com>
Date:   Mon Jun 28 20:24:24 2010 +0200

    [1.9] Kernel#singleton_methods returns a list of names of singleton methods in object and superclasses when passed true

commit 752c1ed5768f343ccc0d5d95e1b39246dfb1633b
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Sun May 23 14:04:42 2010 -0500

    Add 1.9 Kernel#public_method

commit b845a7bec85c92e11462d7a33b4cd5f5a194a652
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun May 23 12:31:32 2010 -0500

    Fix ruby_test SortedSet test that does not comply with Ruby bug #118
    
    Add <=> to Kernel for 1.9 and remove the related spec tags.
    Update 1.9.2 stdlib to current ruby_1_9_2 head.

commit 84c01add5d18c8ec2b95de84d3b509c795d6acec
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Sat May 22 19:18:07 2010 -0500

    Make Object =~ something return nil instead of false

commit dd42c034bb579b9342578deb9c9ab1fafe2f71dd
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Sat May 22 19:08:48 2010 -0500

    Object.new should accept any number of arguments

commit da0b65ceb38651560b4d2a799b47f217a5f8b396
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Sat May 22 18:30:41 2010 -0500

    Fix remaining BasicObject specs and probably remove some obsolete tag files

commit 1338d58b812397c688a13981c08ea2b3a53cc54c
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Sat May 22 17:16:12 2010 -0500

    Move singleton_method_* and method_midding to BasicObject in 1.9 mode

commit 940ef1ae3f7703ce62b31ab8ca8ef08484a02b0e
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Sat Apr 17 15:46:28 2010 -0500

    Do not go through RubyString in Kernel#global_variables, Kernel#local_variables, Object#instance_variables.

commit 245fe4e23f267c15d9824896beb9ce8c654aa0aa
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Sat Apr 17 15:24:49 2010 -0500

    In 1.9, Kernel#global_variables, Kernel#instance_variables, Kernel#local_variables should return symbols.

commit 1d27131d20dee6e448cde80eb0169b764fa2f038
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 19 12:15:23 2010 -0500

    Kill dead variable (trivial)

commit 9a20ef31866c0a29bee3d1c25a439378cbe6cde6
Author: David Calavera <david.calavera@gmail.com>
Date:   Sat Jan 9 21:58:24 2010 +0100

    fixes JRUBY-4016: [1.9] #equal? is incorrect and behaves more like ==
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit dfe4d410549cfe818667e5cf0be1d5dedc28b583
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Jan 7 16:37:47 2010 +0100

    Fix JRUBY-4174, make it possible to instantiate BasicObject, add BasicObject#initialize

commit 02b8e01b4686b05da6762dd69950835d57dcd653
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 19 14:24:28 2009 -0600

    Remove MiniJava and all the tendrils it extended through JRuby. Useful remainder moved to org.jruby.java.codegen.RealClassGenerator.

commit 13c40aeb515d14e62db6cb469a560d900a27647e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 16 00:59:55 2009 -0600

    Set reified class for all the primary core classes, so they'll work properly when extended and an interface gets included.

commit 4648283c90223196b20735287da5f9da9e061cc2
Author: David Calavera <david.calavera@gmail.com>
Date:   Thu Dec 10 11:28:44 2009 +0100

    JRUBY-4322: [1.9] Object.to_a should be removed
    
    Signed-off-by: Vladimir Sizikov <vsizikov@gmail.com>

commit 7497017d0098fb909c9d6459ea8bff180ed502f8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 5 18:50:45 2009 -0800

    * Update some templates where the .java version got edits instead
    * Fix some newArray with NULL_ARRAY to call newEmptyArray
    * Add separate paths for "array" and "nonarray" in block dispatch, to eliminate the avalue bool

commit 7ed527822b6d2ad3e2b071376a5cd8062392ef08
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Oct 29 14:39:05 2009 -0500

    Disable id2ref and weak id association caching unless ObjectSpace is enabled. This speeds up __id__/object_id/id substantially. Also reimplemented a DRbIdConv to use a weak hash rather than id2ref.

commit f26816a48bef76948639094e7c9e01fa0260d092
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 24 16:59:27 2009 -0500

    Improvements to JavaProxy-wrapped Java objects:
    
    * Lazily allocate the inner JavaObject, so if we don't use it we never create it.
    * Don't enter newly-constructed Objects into the proxy cache immediately.

commit 71fa39707398075264b49d49a90eef136f6df786
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Sep 2 13:57:13 2009 -0500

    Mild regression on op_eqq for 1.8.  Whacky 18/19 annotation + java inheritance thing

commit 5f62e694e284024947dc3bff94548c00dce6ba2d
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Sep 1 15:21:22 2009 -0500

    [19] Missing \!~ method

commit 3f6a0c9ecc0b3f8e3db46c92d78b10e7fbd131d0
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Sat Aug 22 23:20:23 2009 -0500

    Fix JRUBY-3870: Object#singleton_methods(true) doesn't include inherited methods
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit dc8d7f6cf8590cadafac2995738a23841f8621c2
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jul 21 20:37:18 2009 +0200

    Remove yaml based on JvYAMLb and add Yecht version 0.0.1 instead. Also update yaml tests as a copy from Ruby 1.8.7.

commit 8868926c9d79d08adcce3dc57a1ee7ee36b28e03
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Jun 18 17:36:31 2009 -0500

    JRUBY-3702: The method methods

commit d39a8972a8a938e2ccfb978c38b09eed55651679
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 14 05:27:14 2009 -0500

    Add another constructor path to remove all possible overhead from RubyFixnum construction (i.e. a path that does nothing but initialize metaClass, with no objectspace or tainting check.

commit 3b266cf69f39ba501c32cc238cb898b24ed5a24c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 1 00:13:14 2009 +0000

    Get remaining variables using the new ivar table, and get all tests running (minus one cvar issue I need to dig into).
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9509 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c871551a491e9faafe3718a6f6d8d28a761e8304
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Wed Mar 18 00:47:23 2009 +0000

    Fix for JRUBY-3495: Array#uniq does not work with custom objects that define eql? and hash. (fix 1.8 protocol for non fixnum hash codes, also implement1.9 one).
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9431 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 04f9566543c2ff0c10fd197b93acf35364f69c9b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Mar 15 03:37:21 2009 +0000

    Fix for JRUBY-3490: Object#instance_exec only works with blocks of 3 parameters or less?!
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9412 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 38420837403b163d0dac9ee65fb78cf237a71edc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 23 06:16:09 2009 +0000

    Add trust/untrust/untrusted? methods for Ruby 1.9, update RubySpec, and fix an expected error in Module#autoload.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9271 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a85971ee144dec5dbaabf56512312e27f611c2b0
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu Feb 12 00:01:52 2009 +0000

    fix for JRUBY-3386: Array#eql? rubyspec failure.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9100 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8223413d60abf651e00d861ddf6f25114bb5585c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Feb 8 22:28:39 2009 +0000

    Test for JRUBY-2921 along with a fix for duplicate methods showing up in the methods list when overridden.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9068 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2b4606df16f07aa0c3ff7af7c7604ea2a77d8757
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 3 07:26:42 2009 +0000

    Fixes for JRUBY-3362: attr_accessor, attr_reader, attr_writer, and attr not obeying visibility
    
    Specs updated to grab new RubySpec.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8977 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d97a779fb2beb52699ef451a8f29aec49496fe81
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 29 01:40:57 2009 +0000

    Fix for JRUBY-3324: Error in string encoding conversion
    
    RubyObject.toString was calling to_s, but then just using the bytes directly as the resulting string. This change makes it do what Java Integration does, format them as though they were UTF-8.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8924 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d8760a136a036df0b1e6fe144ebcd1eefb2127e9
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Wed Jan 7 20:41:18 2009 +0000

    Remove bogus code.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8633 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 86b9323d4e1a9c1219d906b518a3ce1e4227283e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Wed Jan 7 20:40:27 2009 +0000

    Immediates are freezable in 1.9.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8632 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 741083c596ff400e1964dab9f4d3a10e0a2ba51b
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Wed Jan 7 19:24:44 2009 +0000

    Fix Object#freeze.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8631 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d6c971ca167cc9db347c281f01b0d6269b76e6a8
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Dec 14 18:02:04 2008 +0000

    Big changes, remove 4 fields from RubyBasicObject (finalizer, dataStruct, variableTableSize, variableTableThreshold) Replace variableTable by variables (external org.jruby.runtime.builtin.InstanceVariableTable). The new structure supports packed mode (for <= 5 instance variable when it does linear search for lookup). Finalizer and dataStruct are now kept as internal instance variables. Need to review concurrency issues.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8339 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3bf6e9cb545b040ee9b05d77f6f152e1c6d10a7d
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Dec 4 18:08:01 2008 +0000

    JRUBY-3213: for loop broken for 1.9.  Object#singleton_methods in 1.9 should return list of symbols.  Java Integration should return a list of symbols.  Some multi-assignment fixes for 1.9 mode
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8266 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bf8db0bc4acaeed7900b867e821e959f254be0be
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Nov 22 22:57:11 2008 +0000

    Biggest commit eva (1.9 parser+1.9-runtime-related-changes landing)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8099 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 610bb6e8b314d6c2ac59286045aacf697e2c2517
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sat Nov 22 19:37:03 2008 +0000

    There's no Object#tap in 1.9
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8094 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7bbedee05b951db8dfcad7c92470b4fc10c2b36e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 16 23:57:16 2008 +0000

    Remove all remaining references/dependencies on MethodIndex's int indicies and related fields.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8081 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bbb8441c8f959e0baacb42cfe26c21bdab7608a0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 31 04:56:44 2008 +0000

    Fix for JRUBY-2975: Overriding Time._dump does not behave the same as MRI
    
    The fix for this was reasonably simple. MRI handles load as follows:
    
    * If there are ivars (leading 'I' in marshal output), it sets a flag and proceeds to unmarshal the actual object
    * For new-style object unmarshalling (marshal_load and marshal_dump), the flag is ignored; when the object returns, the flag is still set and Marshal fills in the ivars from the stream
    * For old-style object unmarshalling (_load and _dump), it is the responsibility of the base _load to initialize the object and then copy all ivars from the "data" string.
    
    In our case, we always did the ivar unmarshalling after the object had been completely unmarshalled, which broke in the Rails example because it expected the "original load" to return an object with ivars intact. Since we didn't install the ivars until after _load had returned, it broke.
    
    The modification was to stuff the ivars into the data string and to modify Time's _load to copy them out, as in the MRI code. There could be other outstanding cases where we are not properly copying variables out of the data string passed to _load, but at least this case is now working correctly.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7978 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 39b2eb5fd8cd6f608a204dde1c9ca6312c1e95ec
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Oct 16 20:52:50 2008 +0000

    JRUBY-3028: ObjectSpace#each_object blows NPE when JRuby is run via bootclasspath
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7882 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0be23d6124bbc965e1fcb634ac89561bdc7b1dff
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Oct 11 15:21:49 2008 +0000

    JRUBY-3052: Cache constants at their call site (const_node)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7867 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6a2765a63b37f70bc7423e077511e5a13ab33291
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Tue Oct 7 20:34:26 2008 +0000

    Introduce canBeTainted flag and additional RubyObject constructor to ease constant propagating the fact that immediates shouldn't be tainted even when $SAFE >= 3.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7845 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e5db8a20aacf9290964a7dffb37c99d2fe0aebd4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 1 06:40:01 2008 +0000

    New serial-number class-level cache and guard in call sites. All tests pass and Rails can generate apps. Needs more testing, and it's not updating superclass's subclass list when inserting a module wrapper into the hierarchy, which seems like it should happen.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7805 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b7eacd22025893e6d0f569fcb274a6a53af23c1c
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sat Sep 20 21:57:34 2008 +0000

    Add 1.9 Object#tap.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7741 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1927a7663b582a1cca34044f609cc2b7a728e495
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Aug 31 04:53:57 2008 +0000

    Miscellaneous call optimizations:
    * Partial arity-splitting of super invocation (really only useful for Java to Ruby calls
    * Moved callSuper logic into RuntimeHelpers, modified all callers to use the new methods, and deprecated callSuper on IRubyObject
    * Eliminated 30-some more uses of indexed IRubyObject.callMethod and deprecated one of them
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7596 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4ed75c65753391805f77e517075f139d1d579fa4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Aug 11 21:37:33 2008 +0000

    Add support for arity-splitting pure restarg methods. No support yet for required + restarg, but this helps a lot of "meta" cases like Object#send and Method#call.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7439 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e080d81bdcaa0608da025167fb6e5b2b41ee6628
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Aug 10 21:50:57 2008 +0000

    A few more cleanups for unnecessary boxing of args.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7430 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 304b540ba200c6b000223af4f25a263583e84933
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Aug 10 02:45:03 2008 +0000

    * Eliminate visibility checking for almost all fcall and vcall paths.
    * Outline some method_missing logic
    * Start adding some specific-arity paths for method_missing; still too much boxing, but the code isn't in normal call paths now.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7417 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7c12ce0d83cefbdab76ea8f8686d3997d814371c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 25 20:07:36 2008 +0000

    Add specifiy-arity call paths for default Class#new and for concrete Java object construction.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7296 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0079951a37017c097b95ec83a88c2e4ae3e30d4b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 23 17:52:03 2008 +0000

    Remove JavaObject's "value" field and use parent RubyObject's "dataStruct" field instead. Part of a move toward eliminating JavaObject intermediary when wrapping Java objects.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7275 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a38523897d27c829e6e20cd0fdb98c3959eba838
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 22 03:32:00 2008 +0000

    Intermediate step to remove partially-coerced phase of ruby-calling-java. Still exists an intermediate object, and most paths are forced to box arguments. Remaining work coming shortly.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7258 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 43ed0203cac85a54501db6a5181d35db91bb241d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jul 17 09:23:03 2008 +0000

    Remove the never-used metaclass-detaching logic contributed by GemStone. If all goes according to plan and we're able to do lightweights by the end of the year, it will be unnecessary anyway.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7207 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 72975c6c9467ac11677b86f3886e555911e50299
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 9 00:34:32 2008 +0000

    lots of RO.getRuntime removal
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7131 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e72ca1a779973651923c718589f36379ac01280f
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Jul 7 23:41:03 2008 +0000

    Miscellaneous crap: rubyobject.getRuntime to TC.getRuntime; @overrides; searchMethod change
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7122 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ea758346bd89dc1d2b646bd61f4ec63592fbfa3e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 7 05:13:02 2008 +0000

    Add tests for command-line switches, from Clinton R. Nixon. JRUBY-1761.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7113 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3d2c4477fc6999b927bbc6d9ff3364bd98d26652
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Sun Jun 22 15:06:48 2008 +0000

    A bit more typos fixed.
    
    From: Vladimir Sizikov <vsizikov@gmail.com>
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7013 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0aa32bd5b65ad2dea484352b8e12a700e937f8bf
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Sun Jun 22 14:58:30 2008 +0000

    Fixed typos in Ruby and RubyObject.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7012 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a7b41d876cb677ba653a997002aa397613468d83
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Fri Jun 20 13:20:17 2008 +0000

    JRUBY-2682: Replace StringBuffer with StringBuilder.
    
    Patch by Wayne Meissner.
    
    Signed-off-by: Vladimir Sizikov <vsizikov@gmail.com>
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7004 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1044d61e377039903888030ada8d0c027e5b6240
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 6 07:06:42 2008 +0000

    Move conditionals outside methods in RubyObject constructors.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6906 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 56a034bb48004a2ed0b57c19f90b3f8ab34857ea
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 6 03:10:20 2008 +0000

    More minor refactorings to reduce the size of hot methods.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6903 961051c9-f516-0410-bf72-c9f7e237a7b7

commit aeab6d30e7c8c28f86085ec526f6c0347bfe942c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jun 5 23:57:24 2008 +0000

    Various minor refactorings to shrink methods in the parser chain and elsewhere that HotSpot reported as "too big" to inline. Minimal performance boost, if any, but it's also somewhat cleaner code.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6897 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8da55f45fc6eac81f4ee44e407997df62e294851
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 23 12:48:48 2008 +0000

    Last round of changes for JRUBY-1386, improve instance_eval. Added cases to the benchmark too.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6767 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3bb6b82f878bb1fabc16c2155d3cc814c5c0677c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 16 23:54:50 2008 +0000

    Early work on a new Java layer that's lighter-weight, more "raw", and more explicit.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6719 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 63c6c28452c6ff6cb1516c2a3763f989e813ee67
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Fri May 9 23:20:09 2008 +0000

    Proper and safe inspect semantics in most places
    Dont use StringBuffers in Array#inspect Hash#inspect and Struct#inspect
    Make Struct#inspect handle recursive references
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6664 961051c9-f516-0410-bf72-c9f7e237a7b7

commit abc3ec16a3f736c954a12d9c2ecc5241ce453654
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu May 8 18:11:02 2008 +0000

    getRuntime().newString("") hunt in favor of empty shared strings.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6643 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c23bd1ab2ea6c031d6a03721ce9a7cf885fff2c6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Apr 21 17:10:46 2008 +0000

    Documentation fixes for Ruby Object. Clear up documentation, reference MRI equivalent function everywhere, and copy RDoc instructions from MRI
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6545 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4710fde94682b2d6f2cada05b4c3eed498cc55d5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 18 19:39:25 2008 +0000

    Remove CallbackFactory references and other spurious imports from a number of files.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6536 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 59ca34930cb08d32a9264d98865b0858cf1fb26b
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Fri Apr 18 17:52:30 2008 +0000

    Remove RubyUndef and replace it by RubyObject.UNDEF static.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6533 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9309a03590ec6a9a45cdbdad26be60eb146b8f5f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 12 15:13:56 2008 +0000

    Some fixes and simplification of instance_eval and related methods. No more Callback construction, and fixed some behavior that was not working as in MRI.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6481 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cbfcf0c1b80b4cb7f306d268e5ca63c98732c522
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 10 19:54:50 2008 +0000

    Cleaning up more callback use, as well as an ugly one in RubyMethod. Also tagged existing unused callback factory entry points as deprecated. Almost there!
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6456 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 37a47a6a9f3c9458034c07e251460397b954a0de
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu Mar 27 21:43:08 2008 +0000

    Fix for JRUBY-2327: Super in module causes NPE.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6351 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 34f07e351d2b03d52c8a148bbea9d1f542ea3cea
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Wed Mar 26 23:30:38 2008 +0000

    Fix class A;def to_ary;self;end;def == other;:foo;end;end assert_equal([] == A.new, true) case and change equalInternal signature so it matches eqlInternal and is easier to use.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6348 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 493c43fb8eac0a22425d375b15e8663d4c0ce74a
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Mar 19 12:20:01 2008 +0000

    Make creation of RI much smarter and add basic type tags to loads of places.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6289 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 852d904134ad970a20497fdcc5d752dd4ae49766
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 7 22:04:54 2008 +0000

    The RC3 Surprise!
    
    Allow annotation defined ruby methods to optionally specify ThreadContext as first parameter
    Convert easiest and most common methods to accept ThreadContext when method or child method can use context
    
    These changes give about 15% improvement on petstore bench and about 10% in ar-bench.  In ar-bench getCurrentContext calls go from 14 million down to 2 million.  The remaining calls largely can be removed but they were much more invasive.
    
    IRubyObject op_eqq and op_equal both not have ThreadContext consumer, but we could see no use of this in any extensions and figured it worth the trouble of converting.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6143 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 73baa3ffd4b3091058063ed69aabf9c2af5e5986
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Wed Mar 5 19:36:07 2008 +0000

    Prevent native exception on "ObjectSpace.each_object(1){}" and support appropriate error messages.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6108 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e74fa531a44397a7fa24c39da614eabf50c312bd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 25 01:24:44 2008 +0000

    Eliminate polymorphic implementations of getRuntime by naming the real getter on RubyClass different and eliminating other instances. As much as 16% improvement for fib under Java 5 and a few percent under Javaa 6 too.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6020 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 96bf197aacf91a0ae4622269b50f353507cb8d3c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Feb 24 10:55:07 2008 +0000

    Some expansion of specific-arity calling and minor optz for StringIO#puts.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6012 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6eac93a2a639ab75d2669c8ca6768894199791cd
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Feb 21 20:09:09 2008 +0000

    Object.send:
      -a little faster with no-args
      -remove unhittable arg length check and assertion
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5995 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e705f6ca4b2f4c06905e883b6b194a9c883ba776
Author: Bill Dortch <bill.dortch@gmail.com>
Date:   Mon Feb 11 15:06:35 2008 +0000

    JI: Moved more JI code into Java to improve performance (and partly to offset the cost of supporting lower-case class names).  Would still like to get instantiation code (__jcreate!) logic moved into Java before 1.1, but won't have time before RC2.
    
    Also includes a tweak for RubyObject#getMetaClass, slight perf gain (one field read in common case instead of two).
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5902 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dbce9b39780d65ef6137361d27a47629647381a8
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Feb 9 12:56:37 2008 +0000

    Fix for JRUBY-1526 and JRUBY-1545 based on Bill's suggestion.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5879 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2b1a005a405839ca4eb268288816294e88f20a2b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Feb 3 18:37:14 2008 +0000

    JRUBY-2062: Add ids and convenient data to SyntaxException and IRubyWarning interface to make their life easier
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5806 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 99a11d2460e84544f7253df13605937fb82be148
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Fri Jan 18 18:10:07 2008 +0000

    JRUBY-1993: ObjectSpace#define_finalizer behavior does not match MRI.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5657 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8ca8664dc7a9848db43ebbdc586b3ccfdd05f115
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jan 14 08:52:36 2008 +0000

    Minor visibility fix for a rubyspec.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5593 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b3d416662a9b358da11a63a1900dd8a917340322
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 12 23:24:11 2008 +0000

    Multiple cleanups:
    * Remove most Arity.checkArgumentCount calls since they're handled by generated method handles now
    * Add javadoc comments to MethodFactory impls and their public methods.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5576 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b9aab6013b8729826e023d7fdeea22756123c18d
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu Jan 10 17:42:37 2008 +0000

    Fix for JRUBY-1936: Object#instance_of? should not accept non-Class or non-Module arguments (patch by Vladimir).
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5546 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3b6e2f26bf9377754f0a4218e2ed05e84b6be729
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu Jan 10 00:20:34 2008 +0000

    Reintroduce op_eqq and eql into IRubyObject and enable shortcircuit versions of eql? method for Symbol, Fixnum and String.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5544 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3cf3d8f5973d2a6e32714eb56505eb165ebf2276
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Jan 3 09:14:07 2008 +0000

    Fix for JRUBY-1870, Object#extend should extend from last to first.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5473 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a694709e87e269be436ed1d176a688712beb9d5d
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 1 05:09:53 2008 +0000

    Remove unused callbackfactorys
    Add partial impl of Etc with some cooler pieces of it still commented
    Remove many warnings
    Some generics to lessen warnings
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5456 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5f4267fdb8715343a5fe705f87da2829e034b75f
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Dec 29 09:59:30 2007 +0000

    JRUBY-1829: eval + friends do not honor line number argument
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5414 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6c1313d5d4c8a4eca82f61d26bb798d95ab94b8e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 29 04:07:24 2007 +0000

    Fix for JRUBY-1824
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5409 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e839f4640dc804310442e2dccb972fdc3b72834
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 29 00:03:46 2007 +0000

    Fix for JRUBY-1814.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5403 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 17597b3f69f1b859082f9c4cbbb5c72370d61393
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 28 23:37:05 2007 +0000

    Fix for JRUBY-1813.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5401 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5bd7b9ccb1f2dbfbfe1ef8ebe6500ddbe2bc3930
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Dec 16 18:35:31 2007 +0000

    Handle frozen/tainted a little better.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5280 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e2cac64faa45c6497bc70b87f29bc63ea48585bb
Author: Bill Dortch <bill.dortch@gmail.com>
Date:   Sun Dec 16 03:46:51 2007 +0000

    Remove interning of name arg for instance_variable_xxx methods, and use non-'fast' variableTable methods. It's not worthwhile to intern just to call the fast versions (doubles the lookup time).  (The old asSymbol method guaranteed an interned string, which worked here because normally the name arg would be a symbol, which was already interned.)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5276 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e389d07b921f46266feb9b28a62abbfecbf3907e
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Dec 14 21:17:54 2007 +0000

    JRUBY-1723: String#initialize and String#replace on frozen strings behave incompatibly with MRI  (patch by Vladimir Sizikov)
    JRUBY-1706: [PATCH] Bad format for "frozen" error messages (patch by Vladimir Sizikov)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5264 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b22c6abb720151c7d5bb07aefcb6c81814931191
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 5 22:19:29 2007 +0000

    Remove "intern by default" from many call paths and explicitly intern only when the result will be passed to a method that requires interned strings. This should help reduce the amount of interning going on, easing some permgen pressure. The ultimate and best fix would be to forego interned strings in favor of an artificial ID.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5170 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8a52408ab9c0c19bbda6a6ef6ed298e52c883058
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 27 02:46:25 2007 +0000

    Moving "internal variable" methods off to a separate interface, accessible from IRubyObject through getInternalVariables
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5066 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2c0f7fd5bea47c6ae49149c40999affe12ea3c26
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Nov 26 22:49:04 2007 +0000

    Offload instance variable methods to a separate interface to reduce the implementation load for IRubyObject. This also is another step toward making lightweights possible; by separating the ivar logic from the object logic (visibly, anyway) it means we can externally represent that logic for lightweights more easily. Bill pointed out that his larger IRubyObject/Object/lightweight refactoring used a similar decomposition, so this has at least been proven out in one form.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5061 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4d75cc1470f5843b4b66f89f50ed81b88b27b431
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Nov 26 10:01:20 2007 +0000

    Remove the three generic type conversion methods from RubyObject/IRubyObject to TypeConverter utility class. They were never overridden, and so there's no need for them to live in the IRubyObject/RubyObject hierarchy.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5047 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ff120491b21359d374e6e50a98e8950f963f49cb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Nov 26 06:36:34 2007 +0000

    Remove two more IRubyObject methods:
    - getNativeTypeIndex moved to a separate interface; former uses now cast to that interface, rather than requiring all IRubyObject instances to specify a native type index directly. Marshalling should probably be refactored to not use this at all (and instead polymorphically dispatch to a method on the target object, similar to how it used to be).
    - isKindOf moved to RubyModule as isInstance and all references updated to use that version. This maps better to the type being in charge of what is or is not an instance, and mimics Java reflection API (Class#isInstance).
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5045 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3e9c6ccab41022a64edb2c85e5eaf98a8aabfb26
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Nov 24 00:07:31 2007 +0000

    Removing a couple more callMethod implementations; remaining are heavily used, so I may stop here for now and copy-paste then into new IRubyObject impls.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5014 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f6bb9399ed02f2384e1b199a93860ed9b0bb947a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 23 23:31:28 2007 +0000

    Eliminate two callMethod versions from IRubyObject, in favor of a few RuntimeHelpers.invoke* variants that go straight to invoke methods on the metaclass. This helps move invocation logic out of (I)RubyObject to reduce the implementation load. More to come.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5013 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a5bedbf63ef922c6d261488521535fc98aad729f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 21 08:12:29 2007 +0000

    More method removal/relocation out of IRubyObject. About as much as I can do this evening without making some really popular operations (conversion, instance vars) really cumbersome.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4982 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0097f930d29e59cc34d915e274ad711838a41329
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 21 06:52:58 2007 +0000

    Removing some limited-use, unnecessary, or badly located methods from IRubyObject
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4981 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1eb51095b1447ca07e086b2bd92d4d292fc0c545
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 20 04:55:25 2007 +0000

    JRUBY-1279: Changes and additions for GemStone's contributed patch to add a threadlocal runtime mode. This mode will be used in the near future for GemStone object persistence, as well as for Ruby use cases that do not require separate JRuby runtimes. This in turn enables things like generalized object serialization and the upcoming "compiler #2" that can produce normal, instantiable, callable Java types.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4971 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e0b2c6b332d370abb9d295fcec1955acff80117
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Nov 10 06:05:16 2007 +0000

    Block refactoring: Detach Binding from Block.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4900 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4bab7c8c05a043f327bf0ce0a21a569c7d6c5522
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Nov 10 01:15:39 2007 +0000

    Pulling binding contents up to a superclass of Block
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4895 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8438de79af20af1a08d81c51f213db82ec483f4f
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Nov 6 23:24:31 2007 +0000

    JRUBY-1064: Rubinius core/object_spec failures (patch by Patrick Farley)
    JRBUY-1106: Process.euid() not implemented, causes MailFactory failure
    
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4867 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 16e5550655d971eca1eeea0a2fe8794b86928b97
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Oct 25 18:14:24 2007 +0000

    Lexer jumbo patch.  Speeds up general parsing 10-15%.  Cold parses are about 30% faster.   Code has been refactored to the point that additional optimizations can be considered (like bytelist identifiers for alloc-less identifiers; same for uninterpolated string nodes).
    
    intern'ing of identifiers now happen in lexer rather than being smattered through AST
    Reader -> InputStream for LexerSource
    A new ByteList LexerSource for evals
    
    Additional bugs fixed:
    JRUBY-1408: JRuby crashes with error: can't find string "EOF" anywhere before EOF (SyntaxError)
    JRUBY-1443: Wrong position information for a CallNode with parentheses
    JRUBY-1435: YieldNodes sometimes have wrong position information
    JRUBY-1416: eval of a "proc" with setting the line number for something lower than 1 to adjust the line number causes "java.lang.ArrayIndexOutOfBoundsException: -1 (NativeException)"
    JRUBY-1432: NFE from RubyYaccLexer.yylex
    
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4731 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 31a55248a50bedf4e1bf763f1af1caa69ce79128
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Oct 23 17:40:13 2007 +0000

    JRUBY-1466: turn off module methods on RubyObject (mental)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4687 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0030191572271e047b361431bacb506fcfe134e7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 20 04:44:40 2007 +0000

    Fix for JRUBY-1269, finalizers should be passed the object being collected
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4644 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9bc9825436ea08670905a6e2a06d760a97b71d70
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 19 20:52:01 2007 +0000

    Migrate JRubyMethod annotation to use String[] for names and aliases. Thanks Brad C from my blog.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4623 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 95c346df5368a3f5f06fa9d14022efb85eaa6809
Author: Bill Dortch <bill.dortch@gmail.com>
Date:   Mon Oct 15 07:45:22 2007 +0000

    Vars have landed. Does not include concurrent SymbolTable (will follow in the next day or so). Also need multi-threaded unit tests, work in progress.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4588 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7404d16eb807e139ac660829de7ff76891fd10cd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 10 04:34:15 2007 +0000

    Completed Kernel/Object migration to annotation binding
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4541 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0eb5392db19e55aeb6a46845c07bf1830807945c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 10 03:40:35 2007 +0000

    Kernel half migrated to annotation binding
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4540 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8c497befd3203aa63fc52f0fc0dff461dff4f4ba
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 8 19:47:27 2007 +0000

    All numeric classes migrated to annotation binding, with appropriate naming conventions throughout
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4515 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a10e46cec019a3964c75ebb6b2ec648c3b449ed3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 8 18:23:45 2007 +0000

    Migrate Hash to annotating bindings, rename and remap all equality methods to new conventions
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4514 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ba060fb4180f15563ba664403ba62cdd66391e40
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 8 16:35:11 2007 +0000

    Migrated String to annotated methods
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4511 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4cd867ce50318e77a30ae9798e5d707489f040ad
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 8 13:38:19 2007 +0000

    Convert Visibility into an enum
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4504 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 28d0d282eea6627a963095408cc06d161497f53d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 5 05:36:17 2007 +0000

    Eliminate "findImplementer" cost for normal method invocations; only super invocations need to do the search now.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4489 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 19f70043426d2b6cbdf1a09c6bc2c4a36a0773ca
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 5 03:16:53 2007 +0000

    Make send into a fast method, since it just passes straight on to a target method anyway.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4488 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ffb259216dbb64ce9846cbe6c6e6639b9e598532
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 2 06:05:19 2007 +0000

    Rename EvaluationState to ASTInterpreter.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4454 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 18311c2eefb821a86bbe332696bc3580a983c47d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 2 05:54:55 2007 +0000

    Renaming CompilerHelpers to RuntimeHelpers, since it's becoming a common place for utility methods for both compiled code and interpreted code.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4451 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fe8f628ee5597c998e86e76e456420c867aae2b1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 2 04:43:42 2007 +0000

    Removed a couple compiler-only methods from IRubyObject and RubyObject. Moved callMethodMissing static methods to CompilerHelpers.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4448 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7c75e6d5744dba2d26a5fc3373145e503f9823f0
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Sep 30 17:51:56 2007 +0000

    Compatibility fixes for nil, false and true.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4439 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 91b67e977861cc7f1cd9dc0fc5c3bffecd93f56e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Sep 30 15:29:50 2007 +0000

    Remove dead, commented out code from createObjectClass.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4433 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 06b35f459d410386df261e63f1e663442eb13dcf
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Sep 30 15:28:00 2007 +0000

    ObjectSpace fixes so we don't call runtime.isObjectSpaceEnabled twice.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4432 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cef7acc6902e10559c06d98fa0ace3b8d9d4385e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Sep 30 12:22:28 2007 +0000

    Move equalInternal and eqlInternal into RubyObject static methods so they don't pollute IRubyObject interface
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4428 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3e88cfab0d224fb9efa8d18336993e2c78ce495e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu Sep 27 16:40:57 2007 +0000

    - Identified and extracted construction paths for class/module/singleton/IncludedModuleWrapper, now there's no unnecessary null checks or assignments in their constructors (they take very few arguments so even asserts are not needed).
    Each of those constructors have a comment what is it the responsible for, also, two RubyClass.newClass() and two RubyModule.newModule() methods have been extracted.
    - Fixed logic that sets the parent/constant for Modules, now matches MRI (only setConstant/getConstantAt are used here).
    - RubyClass rewritten, special attention has been put on allocation logic, now Class.new(...) doesn't fire a separate allocator class. (btw, logic of "class B < A;end" and "Class.new(A)" must be split since in second case superclass and allocator are not known until initialize is called). Class/Object allocation implementation mimics MRI's weirdest quirks in behavior, is _much_ simpler that it has been and much faster. This also allowed creation of generalized clone/dup implementations matching MRI. (only our special ivars need a care here).
    - Rewritten bootstrapping of Object/Class/Module.
    - Core classes (except Exception hierarchy, they should also be in future) are now cached in runtime (MRI caches them in static VALUE's like rb_cObject) Ruby.getClass(String), Ruby.getModule(String) and Ruby.getClassFromPath(String) should be used only by either interpreter or compiler and when the class name is not known at compile time.
    - Fixed and simplified nodes: classNode, moduleNode, sclassNode, defsNode. Compiler has been synchronized here as well.
    - No more __attached__ as ivar, it is now MetaClass field (which means lazy ivars for singletons). Compiler also updated.
    - added and dosumented isModule() to IRubyObject (isClass(), isSintleton() documented).
    - Fixed test_autoload test (Object.class_eval do;autoload :SomeClass, 'somefile';class SomeClass; end;end) should raise LoadError, now matches MRI.
    
    - Fixed a number of minor bugs:
       1.instance_eval, was creating a metaclass for Fixnum instances (also affected Symbol/FalseClass/TrueClass/NilClass)
       marshaler objects were kept in singleton classes
       Range.inspect, was modifying the begin field (when it was a String)
       Many bulletproofings in Marshal/Unmarshal (like unmarshaling an instance of nonexistant class), TypeErrors/ArgumentErrors matching MRI.
       Fiber.new in 1.9, doesn't call #initialize method by funcall, fixed
       number of method arity fixes and many methods are made fast now
       fixed initialize/initialize_copy logic, further simplification, no ClassCastExceptions possible now
       Fixed defineClass(under)/defineModule(under) logic
       bulletproofed cases such: class A;end;module A;end
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4409 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f16e305fcfc8a4269b3f90138cfa4bdc2c2601a0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 25 17:32:28 2007 +0000

    Not-so-pretty fix for JRUBY-1381: define_method with an instance_eval'ed block from the surrounding scope doesn't get the right self.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4399 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 875bdbab098dd2a9469cb97ce2dcda9bfa223217
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu Aug 30 20:20:56 2007 +0000

    Fix for JRUBY-1210: Array#join behaves inconsistently on recursive arrays.
    This required some fixes to the inspection mechanism allowing the join to be efficient (e.g: not looking up a ThreadLoacal on ["foo","bar"].join)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4238 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bec10e7bff4d1d70eb88efe7653d4dba75efc830
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Wed Aug 29 21:05:52 2007 +0000

    Fix and simplify conversion semantics. Remove a few unnecessary callMethod calls.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4232 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7bcb58f129c16f623313db5081d44cc450d391ce
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Aug 29 14:26:45 2007 +0000

    Ugh! Fix problem where specifying true for "objectspace aware" causes objects to go into OS even with -O. If OS is disabled, NEVER put objects in OS.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4227 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4849e41a0f6979f2dbb73018290dfad2447ee6e4
Author: Bill Dortch <bill.dortch@gmail.com>
Date:   Wed Aug 29 00:46:58 2007 +0000

    JRUBY-1295: fix ivar/cvar/constant name validation.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4217 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3eee7681b5e2ca9e18ca65304791eef82bde9d12
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Aug 7 19:02:21 2007 +0000

    Add Java based kind_of? for some of our Java based implementations
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4120 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4c8af70fb16a24c9f4803ad02d9244050ccc846e
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Aug 7 11:51:34 2007 +0000

    Add class_variable_defined?, add a small name check to instance_variable_defined?, and also add some tests for these features.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4113 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b60147b7f9ea146e23da9079f20dd254238c0966
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Aug 7 11:32:49 2007 +0000

    Add 1.8.6 instance_variable_defined?.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4111 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 47df9c02421773ee4fe2fe8adf1090eea2fcdf7e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Aug 6 18:48:52 2007 +0000

    Eliminate use of backport java.util.concurrent in favor of actual java.util.concurrent, since Java 1.4 will use the retroweaved JAR anyway.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4102 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5d981d73e8acacbf1782dccef26015674f638d9a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jul 28 00:57:41 2007 +0000

    Reversing modifications to Block#yield making it accept IRubyObject[] instead of IRubyObject (usually an array) because they actually made it *more* complicated to process masgn block arguments.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4069 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4b382c57e9526f55ca752f1e08cd8a91d2293ebd
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jul 17 01:02:51 2007 +0000

    noSuper died quietly in the night. RIP.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4035 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b317014af9c399cd10981d94ff398bb0cabfaf7a
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Jul 16 18:20:31 2007 +0000

    JRUBY-877: Sources not available during command-line debugging
    
    Parser interface juggling
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4033 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9ddcdbc0e7cecf4a722af323a7784a1992fe7961
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jul 11 22:07:47 2007 +0000

    Move rest arg processing out to a helper method, move createObjectArray(int) logic to helper, remove old RubyFixnum STI method stub, misc cleanup.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4007 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 00a56493929ea96721a4cc579c9d4e1d39145cdc
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 11 01:36:45 2007 +0000

    relanding...
    JRUBY-1200: commit #3984 breaks Webrick startup: active_support/dependencies.rb:266:in `load_missing_constant'
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3997 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a257b219c0aa2091933db3fee127fd80a0a3cc53
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jul 10 22:08:00 2007 +0000

    JRUBY-1200: commit #3984 breaks Webrick startup: active_support/dependencies.rb:266:in `load_missing_constant'
    conversion of a couple unit tests to test/unit (by Tom Brice)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3992 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 66308a41bee1215d2b084c8fde04156bb8707781
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 9 23:36:57 2007 +0000

    Merging CRef changes to trunk from enebo branch.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3984 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0918ba2fface4fea057e45ac4bccaab69465f1e2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jul 7 06:31:16 2007 +0000

    More readable reorg of callMethod overloads.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3969 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3a702509c34d17ebd8e78348652a03a0c3f70d7f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 6 07:19:35 2007 +0000

    Revert to type-specific JumpException subclasses to allow Java exception-handling to do more flow control work for us. Since most signs point to non-local returns (and other flow-control) in the upcoming Closures spec for Java using exceptions, this is going to safely remain into the future.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3964 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 78ceb534d15d419de444bdc8e2b11fe97e9f3a53
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Jul 5 09:40:06 2007 +0000

    Improve performance of MatchData by reusing last backref, like MRI does it.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3960 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 78cbe773471d332a3c21735e15928769efb108f0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 2 15:36:43 2007 +0000

    Landing Marcin's flags/OS changes; the memory savings alone will make us rich beyond our wildest dreams.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3952 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e26fda8a1c3adefd05bb27b09a3cfada3f903457
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jul 2 13:31:01 2007 +0000

    Fix for JRUBY-1074, allow Rubinius redo_spec to run
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3946 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3855b2a7b32d013fbc4dbc8cdc3b4c6e9a9c8f0d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 1 18:59:57 2007 +0000

    Committing brand new dynamic STI generator; it's passing all tests, installs rake, runs rails. Any bugs, we'll find them in place.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3935 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 74e99411e873e71a14c701e8fd200edf9f397ec4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jun 29 19:44:15 2007 +0000

    Modify the yield path to use IRubyObject[] instead of IRubyObject/RubyArray for passing values; part of simplifying argument processing and moving toward full block compilation support.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3922 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d055a0e461f21146d99ba01cc85d449e3948eba5
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Jun 17 23:55:10 2007 +0000

    Fixes for JRUBY-1094: Kernel#Integer should raise a TypeError when passed an argument that doesn't implement to_i or to_int
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3888 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7d2d39049966d69975a0f873dbfc897b8b01b49e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Jun 17 17:33:16 2007 +0000

    RubyObject#convertToTypeWithCheck() fix to allow nil through and String#index fixes to obey checkStringType() semantics
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3882 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 573fd8f8f0a81f2fcfebb36ad40f517252173049
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sun Jun 17 15:45:23 2007 +0000

    fix for RubyObject#convertToType and a big opt for Array#join by not using temporary StringBuffer/String
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3881 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4ed34bd69240ae82295cb73c63f85572bd65ade3
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Jun 13 10:21:27 2007 +0000

    Add new fancy method cache, written by Ye Zheng (dreamhead)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3873 961051c9-f516-0410-bf72-c9f7e237a7b7

commit db88d5578886a9911b5844b092d92144dccc7c16
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Jun 13 10:08:47 2007 +0000

    Improve handling of method missing to be slightly faster
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3872 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cfcf6a1a9a478cbfb57dca5aebebb8f5f9678104
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jun 12 11:03:25 2007 +0000

    Make method_missing an STI call, thus avoid costly string comparisons for it in some cases.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3867 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8970d7e87da6179f180574941d8c3705bc1de3ff
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jun 4 18:20:10 2007 +0000

    Fix for JRUBY-1082 (Files should flush on close), by Damian Steer.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3831 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 56d9e338199a6cc44b709b69872175af3620b62b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed May 30 18:06:54 2007 +0000

    JRUBY-948: undefined methods are not preserved when a module/class is dup'ed.
    JRUBY-756: "private method called" issued for undefined methods with explicit receiver
    JRUBY-749: Visibility issue: private method reported as method_missing and not private in class_eval
    
    [Patch by Marcin]
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3770 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 85afceb185631c722f7bdf869786a76362d4549f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 24 21:37:14 2007 +0000

    Dysinger's fixes for JRUBY-980, add true/false versions of public_methods, private_methods, protected_methods.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3731 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 72d615dee48a52d766818810b918ac4ceb6f8447
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue May 22 17:07:01 2007 +0000

    Smaller fix for JRUBY-942, by Koichiro. Test is pending.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3707 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f057b63debf51871b3c4851e51e492661501b6da
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon May 21 05:40:56 2007 +0000

    Fix for JRUBY-787, and introduced more correct LocalJumpError class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3692 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c9f6241d841acfacf0e4147c8110611614b6e551
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun May 20 00:25:29 2007 +0000

    JRUBY-955: RubyModule public_method_defined?, private_method_defined?, protected_method_defined?
    JRUBY-24: position from passed in arguments not passed
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3687 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7a97f6b4815d2722b09d2beca9fe171b94344653
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat May 19 19:44:05 2007 +0000

    Fix the error messages to be more RSpec friendly...
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3685 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 58eeece7bd00a5d06716d7dbec4623a54dbcf2ed
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Apr 30 03:49:16 2007 +0000

    Added instance_exec, per JRUBY-898. Hopefully this helps make the case to add it to Ruby 1.8.x.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3596 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 78b16620c6108ee28372f27da3a2fbd5d9a29571
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Apr 25 23:21:52 2007 +0000

    JRUBY-794: object.clone does not find protected initialize_copy whereas MRI does
    
    [Fixes major issue with active scaffold]
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3563 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 10ee61746fe23e9062af04d7b45e9e7e46b216a0
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Apr 25 14:44:13 2007 +0000

    JRUBY-883: Ruby classes should not be includable / extendable (by Bill Dortch)
    JRUBY-793: class_variable_set and class_variable_get methods missing from Module (by Bill Dortch)
    Added smll benchmark
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3556 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4300fe8196734d3474761842790e2791930f6c59
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Apr 24 18:54:10 2007 +0000

    JRUBY-759: Object should not have initialize_copy instance method
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3554 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e421186fd854c658a7cac4868e944d102c30a257
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Apr 22 19:18:54 2007 +0000

    Fixes and tests for JRUBY-807, correct eql?/== behavior for hashes.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3527 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bac69eda717fe181084e119979408a1e8ad389f8
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Apr 16 22:38:58 2007 +0000

    Remove remaining metaclass definitions...
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3480 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7a77daca5662ec40025900d080e4e71c7271a278
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Apr 15 01:44:36 2007 +0000

    Committing Marcin's excellent Hash and String copy-on-write work for JRUBY-818. ant test is solid, mephisto appears to work well, and with one small bug fix, activesupport, actionpack, and actionmailer appear to run the same as on trunk (maybe a little better?). Also, I found and fixed a small bottleneck that now shows patched JRuby rdoc'ing faster than trunk. So we're gonna go for it.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3462 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a5bd2796cec43f338f4e268e6ef8b4b8996e625f
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Apr 14 07:21:15 2007 +0000

    Fix JRUBY-815; error messages from type conversions are mangled
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3458 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 230c86e278a356d3ddfbf778b24f9b9b2357e41e
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Apr 12 02:41:59 2007 +0000

    Mark frames as binding frames versus maintain a stack (merging safe stuff from my sandbox)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3437 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6ea9a011a90f91566ca2a08c5ffbb30c8b350e48
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 11 20:28:02 2007 +0000

    JRUBY-800 fixes: make default initialize raise ArgumentError if args.length != 0
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3431 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2a36bef0fcabf21c2e7ca302734183e15fb720b7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 11 19:35:48 2007 +0000

    One additional improvement to finalization: atomically ensure finalization only executes once, since we finalize on exit as well as when Java GCs.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3430 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b4939d610269c777bf1e95c84247a95c2b0a6dd4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 11 19:28:04 2007 +0000

    Another rework of finalization, much simpler now. Also fixes JRUBY-799, so finalizers will run whether ObjectSpace is enabled or not.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3429 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 958ad3b9bfc5cae3a21185dec303ac7af7d77482
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Apr 7 02:59:27 2007 +0000

    Expanding STI to a few more methods, and doing a sweep of all "direct" callers to make them use STI.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3406 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f4c15912b1d4edc84b06c882195d27df371d1023
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 6 23:13:04 2007 +0000

    More cleanup of STI and expanding it to conversion methods and hash.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3404 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1bdfaf0c72182efffd424dab4821ffe560975a3d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 5 09:04:36 2007 +0000

    Expanding STI to a few places that could really use it, like literal calls to [], []=, to_s and ==. Next step is to make STI convenience methods easier to use and start using MethodIndex.XXX everywhere possible instead of string-based callMethod.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3395 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8e632a725e231773a706c5945068f75188b14d63
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 5 07:58:07 2007 +0000

    Removed several more IRubyObject methods
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3393 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 995566d78d56052cc5af00f77016d51ebf28cd1b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 5 06:52:16 2007 +0000

    Eliminate polymorphic getMetaClass implementations in child classes of RubyObject
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3391 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 210bfe06326742b4d486cc3c0daea9c96768f5ab
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 5 05:07:02 2007 +0000

    JRUBY-771 Remove CreateJumpTargetVisitor, in a temporary way until Tom's branch lands
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3390 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 05f6b7cde19cbbdd32e9b4f71ebbb7688c8f374c
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Apr 4 21:27:28 2007 +0000

    Forgot to remove impls of removed deprecated methods from my last commit
    Some minor changes to evalWithBinding that I have in my sandbox
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3388 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0320b51ff913c6fcd25a386065cac05f57cc12c2
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Apr 4 17:44:27 2007 +0000

    Merging non-specific things from my sandbox to get diff smaller:
    
    - remove unused imports
    - remove deprecated methods convertToType and convertToTypeWithCaller and converted all consumers
       [Note: If extensions were using these functions they are broken now]
    - attr_accessor was checking Frame args when it could just use the args it is given
    - removed unused variables
    - comment out some debugging methods so they are not reported as a warning
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3385 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 07db95c0e646fe5e85ac11e911cf89f58e3f047e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Apr 4 17:09:49 2007 +0000

    Partial fix for JRUBY-766, allow returns in a simple eval to propagate correctly. Still more to do.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3384 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0abef1e2f88e7dbbb2b35980e00b05c3680f9425
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 29 19:14:00 2007 +0000

    More coercion fixes, these solve JRUBY-740 and a few other issues I found. convertType* methods still need some cleanup though.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3333 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5b057c5d8ae4b252589310ea98ac77acf53867c1
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Mar 29 16:41:10 2007 +0000

    Make RubyObject.respondsTo correct
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3330 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bd27077e4907348961aa7ad3f300fdd43f82fcac
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Mar 29 11:34:58 2007 +0000

    Fix the to_hash problem. This fix should probably be applied at other places too, since the original use (and conversion from C) of convertToTypeWithCheck was quite faulty
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3326 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8c2bc8cfe9f4bcaa23b9e8544c55d7f9dc6c54b1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 29 07:08:05 2007 +0000

    More IRubyObject cleanup; removed initCopy, moved setFrozen around, moved checkArgumentCount to Arity
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3322 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1c02ca0e641c238d2fc8985fe7f939b8b3df6f95
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 29 05:54:41 2007 +0000

    Fixes for JRUBY-734, along with a first run at cleaning up IRubyObject.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3319 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b87c1519f52db8010cf9d64796aa081b8e44f598
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Mar 16 22:06:39 2007 +0000

    Optimization to reduce overhead of isTrue...we'll see how it feels.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3212 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cc145d7e7c8b904a9702059f74e2737669232d5e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 13 06:18:02 2007 +0000

    Simplify evalInternal by pulling some nodes out as methods, and modify ListNode to use a Node[] instead of an ArrayList.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3184 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6e076e6a988e93a8e444c0d8799a4205e372336f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 12 18:09:59 2007 +0000

    Move callSuper out of ThreadContext
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3180 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bcd3301fcd97db90d50558b5bb3c60d7d9226beb
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Mar 10 00:20:02 2007 +0000

    The Bill Dortch sprintf special commit....
    
    JRUBY-667: String#to_f and Float(str) do not support MRI behavior
    JRUBY-609: PrintfFormat needs to be completely rewritten
    JRUBY-39: Floating point formatting discrepancy: "%02f" % '5'
    JRUBY-581: Kernel.(format|sprintf) does not correspond to MRI's behaviour
    JRUBY-678: RubyBignum test assertion failure in build 3151
    
    In addition to this fix I also removed old PrintfFormat and a few stragglers...There could be some follow work in method_missing in RubyObject and RubyKernel since I removed those old printfformat consumers in a pretty innefficient way.
    
    Thanks Bill it is great stuff!!!
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3152 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c00f3a8eae5dfa596b418a8f266029a9c379c7f9
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 8 23:12:37 2007 +0000

    Added to_i to STI and fixed a major bottleneck for simple Arities.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3149 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d86383002e68ffc3c2c26e480ad1a2222cc99831
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 8 08:31:35 2007 +0000

    Better encapsulating method_missing decision logic.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3143 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e9de911572bb32e132deaa471a032557a551e736
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 8 07:10:41 2007 +0000

    Eliminate "originalName" lookup stuff, since it's only used for aliases anyway
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3142 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f95f5220c0d640d918a1ae20a5c908168d8d0335
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 8 04:48:39 2007 +0000

    Fixes to STI: make add/alias methods flush it correctly, expand to fcall and vcall, add to_s, ensure all appropriate paths are calling via STI
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3141 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 42ec5970fee85345eb14a6dbe69956129e708ea0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 8 01:49:09 2007 +0000

    Multiple updates to the compiler to allow JITting to work safely (I think!) again. Also some possible fixes for STI. JIT compiler is NOT yet enabled by default.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3140 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7437272df011f835601c78919a20787a2349bbfb
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Mar 4 15:58:00 2007 +0000

    JRUBY-659: Bogus custom hash functions cause CCE
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3125 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 706e138886a4d18cdc2ffcd3a2c6125eef358abb
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Mar 3 10:02:54 2007 +0000

    Improve block speed somewhat, by optimizing the common paths
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3107 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 85bab5348f57081e7cc8e5cdf1046b9717ad24b6
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 2 16:44:52 2007 +0000

    JRUBY-399: MRI desn't allow defining singleton methods for Floats and Bignums
    
    Removed unused imports
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3105 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 465030a3f6bc0d369bc0a1d45a38aca822585ecb
Author: Ola Bini <ola.bini@gmail.com>
Date:   Fri Mar 2 14:43:20 2007 +0000

    Pass runtime around
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3100 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e8e84d12e83fdc64cb4fbfadfb71768dd9677e0
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Mar 1 10:23:49 2007 +0000

    1, fix separator problem when printing instance variables, 2, makes the Signal warnings less obtrusive, 3, make interfaces#=== look at all the interfaces a java object implements, instead of looking at type, 4, implement multiple interfaces support (but cannot be mixed with classes yet)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3092 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e1f59db32dc0fe5071920ebd8bd3268bf681cb22
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Feb 22 19:44:09 2007 +0000

    Backout STI internal invocation
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3064 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 964722d3a902761a36092db4f9eb2e76f9963c8f
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Feb 22 19:23:42 2007 +0000

    Removed unnecessary object creation and comparison
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3063 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b821c95f9fe15a1e93a4b2a7e7cad0ab32e377ba
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Feb 21 20:26:42 2007 +0000

    - Rename all methods and frame to use same vocabulary for attributes and parameters.  Also make ordering of parameters similiar
    - Make AbstractMethod become DynamicMethod and remove DynamicMethod as an interface
    - Remove a couple of dead methods in ThreadContext
    - change .id to .object_id to get rid of extraneous warning messages
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3050 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0a675c42ab9fff4e7aad77932642952c4eae67aa
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Feb 21 19:25:16 2007 +0000

    Some updates from Marcin. Improves performance.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3049 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 22ebfe6eceeb897ab2804f12c7c642931da1d53d
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Feb 21 07:37:23 2007 +0000

    Fix for JRUBY-589, Object#id should emit deprecation warning
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3035 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 972877610a58418cc1a3317f59c8f7ae9ef8c1e8
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Feb 20 23:05:11 2007 +0000

    JRUBY-202: ::A = 1 should work
    
    Jira issue creation is down so I will explain other changes in detail here:
    
    1) Change D*Node (DStrNode, DRegexp, DSymbolNode, ...) to use same logic as
    MRI and also remove superfluous ArrayNodes + extra DStrNode for all D nodes
    except DStrNode itself.   This may remove some cannot convert Foo to String
    errors (though I could not come up with any test cases -- though I know
    some exist).  This also includes an optimization of just grabbing bytelist data
    is StrNode is an element (since there is not point in eval'ing that node).
    
    2) AST nodes which contain literal String data now hold that data as a
    ByteList.  The overall benefit of this is that we only need a single clone
    of the bytelist versus string to bytelist conversion each time we use the
    literal.  BTW- You may wonder why we need to clone:
    
    1.upto(10) do
      a = "aaaa"
      # Add destructive op to a  here to screw up literal
    end
    
    Once we get COW strings we can get rid of cloning.
    
    The next phase is making the parser/lexer itself fully work with ByteLists.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3033 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7380355037a18af30aea26496f708605b3319634
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Feb 20 10:56:01 2007 +0000

    Fix for JRUBY-587. MRI YAML doesn't recognize floats with underscores in them, but we do, since that's in the standard. So I've removed that compliant behavior to be more like MRI. Also, the groundwork is in to have faster versions of some Array methods
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3030 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b7a85659ed43bcb029333b76b5a6afc065566cc7
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Feb 19 09:22:30 2007 +0000

    Fix the arraythings I broke, plus a fix that make it impossible to inherit from things that aren't Class.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3024 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a2107e60085a5063bca76d897783a512bbd7eddc
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Feb 18 15:18:18 2007 +0000

    JRUBY-606: Get rid of un/under-used IRuby interface
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3022 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6fac9238fcfb5f6d6c494a11fe7300a0dde1f63d
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Feb 18 09:55:08 2007 +0000

    Fix for JRUBY-593, and partial fix for JRUBY-587
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3017 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bb20e69fca02df78c52e9c534db24e9f4dda0509
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Feb 17 22:29:59 2007 +0000

    JRUBY-599: JRuby needs a COW, primitive array backed builtin Array
    JRUBY-604: Hash#sort raises exception
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3014 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9d39dfdffc4bf0b2a39afcee341c32a67cb35ac2
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Feb 15 10:05:17 2007 +0000

    Add objAsString and use it in some places where it's needed.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3002 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2c87b1ca376c4a7ab16c50d3fe0bd84a66737dc5
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Feb 13 21:06:49 2007 +0000

    evalUnder should use previous frames self instead of null
    removed some dead code in jumpexception and its use
    refactored jumpexception to use better names for data
    tweaked miguels patch for JRUBY-530 to work with my refactorings
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2995 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ef423f1b886650195114fe952a1a6407fbb63f82
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Feb 7 22:27:41 2007 +0000

    - Create a NULL_BLOCK to replace null checks against blocks:
      - Now isGiven() on a block tells you whether it is supplied or not
      - yield on the NULL_BLOCK throw the correct exception
        - We were not throwing this correctly by most callers with my landing of
          the block branch
        - We were generating NPE in cases where we called something that requires
          a block and supply none
    - Block.blockObject => Block.proc
     - Rename and type since this is just a convenience reference for association
       from block to what proc it might represent
    - Remove unused blockAtCreation (this may become relevent for Ruby 2 but why do
      it now
    - Remove ThreadContext and IRuby from Frame
    - Remove Scope
    - Put Visibility directly on Frame
    - callingzsuper dead code
    - Now that modules have a proper superclass we can get rid of special code in
      callSuper
    - ArgsPushNode.childNodes should not return null
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2956 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ffb0235f8163203149f4be5ecce3593c8dc7d20d
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Feb 3 18:49:29 2007 +0000

    Fix for the problem where certain modules wheren't inspected correctly
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2931 961051c9-f516-0410-bf72-c9f7e237a7b7

commit abb698c4480e43967ac2bd986fb4862f0337539d
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Feb 3 18:25:54 2007 +0000

    Add %p to our printf format specifiers
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2929 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b9e4c483f2017ed6fbd35af4ea975671b329797b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Feb 2 15:23:04 2007 +0000

    JRUBY-496: singleton class chain structure malfunction or singleton methods not properly dispatched
    (by Marcin)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2922 961051c9-f516-0410-bf72-c9f7e237a7b7

commit beca166768368e248fbbb9ba945020d4d27c3253
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Jan 29 19:32:57 2007 +0000

    Remove most warnings in code (sans WIP areas)
    Unbreak Java 5/4 problem
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2877 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 90708d487f88d7722aef9677041c7792b74047e4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 28 20:32:03 2007 +0000

    Regexps should define correct hash(), eql?() and ===...
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2868 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 71b3014fc5edfb74099ae81afb70126a8b21f5f1
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 28 18:18:14 2007 +0000

    Fix method_missing to handle a blank slate correctly.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2865 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fa021e6350a9913aec4080deb761bacd7e9414e2
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Jan 28 17:44:32 2007 +0000

    JRUBY-488: Kernel#dup, Kernel#clone and initialize_copy should obey MRI protocol
    
    Patch by Marcin
    
    Nice...
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2864 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b38947e5b861b7d09461f24c548d7f8e784db6dc
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 28 17:06:29 2007 +0000

    method_missing bombs if called directly
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2863 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 80500bebf1b4741cf52a1eb5e2a8a1c51326b3c3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 28 03:57:29 2007 +0000

    Nice, simple fix for the marshal failure on modules for JRUBY-472. Modules that define public functions *do* need a singleton class on which to define them, since their metaclass is Module (and obviously we can't be defining a bunch of public class methods on Module). Left the singletonizing alone, but when the singleton classes are created, I ensure they have the same ClassIndex as the metaclass they're created from, so marshalling works correctly.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2858 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1c9db4cbbcca01aa65287532b82330e37ff81173
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 28 03:44:22 2007 +0000

    Big set of changes for marshalling bug JRUBY-472; getting closer to having things sorted out. One known failure in "ant
    test" is due to our modules defining methods on a singleton class, which appears to be incorrect and harder to fix. I'm
    on it though.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2857 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 10798d5cf8c4844c2961ee35e4e5c3005dd8108d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 27 19:36:06 2007 +0000

    First fixes for JRUBY-472: refactor marshal logic a bit, provide a means to register marshals for classes without typecodes, fix RubyRange to marshal correctly.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2855 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5c0789044de8703f41bdf83f29552ba29ad048f6
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jan 27 17:31:22 2007 +0000

    JRUBY-484: Reverse Iter Call relationship in AST and also pass block via Java frame versus maintaining blocks in TC
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2851 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 034dd65866639ee89525e9070af7c92f7f4876b3
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Jan 22 08:31:08 2007 +0000

    Fix for JRUBY-409, clean up numerics, mostly by Marcin
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2815 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cec568bfaa3419cf3987707be752dd6d48d0c3f6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Jan 21 00:07:41 2007 +0000

    Fixes the issues in JRUBY-153 and JRUBY-341, adding lots of tests for BigDecimal and much better coercion handling and such.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2801 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e5fe4da1a044e29348b9bbbd341a13553526c7a0
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jan 19 03:26:02 2007 +0000

    JRUBY-453:  Eval's not throwing LocalJumpException but bombing out on JumpException
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2781 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 97b2ec4b358263fcd35023bb1f1b6c7cdba88a53
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 14 00:59:44 2007 +0000

    Big commit of work from last week:
    - Beginnings of STI-based dispatcher
    - CacheMap modifications to make STI "safe"
    - Code for JITing pure Ruby methods (currently disabled)
    
    Additional work on STI and the JIT will come along shortly. This will also fix current trunk failures during ant testing the compiler.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2732 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3f5368e5f4eae3b254072edd177512a86a7f08c4
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 9 13:12:22 2007 +0000

    Tighten up our variable usage further, and also fix a few indexoutofbounds just waiting to happen
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2708 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c3f80111cf5d937dd41e463905fbffd41c2b4f03
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Jan 9 12:59:48 2007 +0000

    Final fix for JRUBY-131. Constants _should_ be instance variables, but instance_variables should return less than it did before. Closer to MRI.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2707 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 57504d74a1cc15c3236cb063ab5be50e662fa6f5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 6 10:08:11 2007 +0000

    Initial fixes for JRUBY-408. Added ObjectAllocator and code to consume it throughout the MetaClass hierarchy.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2688 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f00dfc9fcfb4c7a9ffbe605bd4cbf08cd2e9cb60
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 6 01:42:03 2007 +0000

    Committing changes for JRUBY-405. I've accomplished what I set out to do, which was moving all the yield logic into Block and other appropriate classes. Other block refactoring, including adding a block argument to the call pipline, will come in other JIRAs.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2685 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 10adf39a2aa5c73c2bb52dd3eced57b70daca628
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Dec 31 11:51:03 2006 +0000

    Fix for JRUBY-386, by Miguel Covarrubias
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2626 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 32e3222d3defac9ee5f76c3651f4699f62271215
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 30 22:00:22 2006 +0000

    merging refactored method stuff plus fast/simple invocation changes to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2623 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 02dffaee08295452fd23b448589ada66ccdc1c1f
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Dec 30 17:43:41 2006 +0000

    Added support for profile, to allow Sandbox
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2622 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7a32a4636ecb1df6caaf05de241ff89fc6fd721a
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Dec 6 09:45:48 2006 +0000

    Fix for JRUBY-238, taking singleton_methods into the new century.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2557 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 308debcc1308e8e986d0226f0c4ac3aab13402a6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Nov 28 09:31:54 2006 +0000

    A first simple implementation of dataStructs (Private data), as per JRUBY-296. This only enables it, there is no usage of them anywhere yet.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2503 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 250878be8c9efe07e17604ffe3f6f53c3d98a3e1
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Nov 28 09:18:48 2006 +0000

    Fix for JRUBY-292, improved _id2ref, by Anders Bengtsson
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2501 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 510a41b06f3103200e881725915b7cc1a5a10b39
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Nov 27 19:45:35 2006 +0000

    Fix for JRUBY-295 and JRUBY-172. Zlib in Java, and Rubyzip working
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2493 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 13e0a52dc4b897725b05788e853289a622637aa9
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Nov 26 20:52:09 2006 +0000

    Added a scanArgs utility method that mirrors rb_scan_args.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2490 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1278c5bb3507a052d150d814f15453542ae41aed
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sun Nov 26 13:38:44 2006 +0000

    Fix for JRUBY-234, NameError.name, by Anders Bengtsson
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2486 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c8b66db475de1dc66f347884891dd70d9943689b
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Nov 25 17:29:42 2006 +0000

    Fix for JRUBY-266, adds basic working _id2ref, by Anders Bengtsson
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2479 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 418c30d7568bd7f3d82ef1d3a011ee39d958b8f6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Nov 25 15:55:23 2006 +0000

    Fix for JRUBY-291. Also makes error message from convertToType more like MRI
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2470 961051c9-f516-0410-bf72-c9f7e237a7b7

commit accd69543aeec606dd2490c5f67964fb52c543a5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 19 04:35:39 2006 +0000

    hardcode String, Fixnum, and Symbol equals and hashCode methods; this brings their HashMap behavior in line with how Ruby handles them
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2446 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 174e3d01468001668ab299227d4af11aea65341c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Nov 14 03:09:59 2006 +0000

    damn the torpedos! full speed ahead! landing enebo_lexical branch changes plus TC-passing optimizations and a few small compiler updates
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2423 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7c963d58934e0c3fff5d96f4808e44c786fd3a2c
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Oct 20 14:22:01 2006 +0000

    JRUBY-131: Constants should not be instance variables (partial)
      This fix only makes sure no instance will return a constant when they call instance_variables
      Leaving open...
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2360 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dcad59aefc1eea504d5c805e4288305c35cb91bb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 14 02:22:29 2006 +0000

    added optional -O flag to turn off ObjectSpace for performance purposes
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2336 961051c9-f516-0410-bf72-c9f7e237a7b7

commit af51f14db0489531b1223e4034f3691e70b94df1
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Oct 13 16:13:56 2006 +0000

    JRUBY-143: really apply Michael Studmans patch this time
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2329 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6e15491217631472c05c6928672f9c7064a978b3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 9 22:13:11 2006 +0000

    merging new interpreter plus a few minor fixes to trunk. JRUBY-185
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2319 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8ba215b45e1c5d4c7c521b253d9715a3cfdd6a34
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Oct 9 12:34:03 2006 +0000

    Next version of inspect. Makes instanceVariables synchronized, and adds better inspect for RubyFile and RubyModule. Fixes JRUBY-170
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2316 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bc2aa460ff12581e09ef2f63cc079c94be1a9dc2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Oct 5 22:44:43 2006 +0000

    JRUBY-170: disabling inspect implemenation for now; ConcurrentModificationException results in IRB and output from <some class>.inspect does not match Ruby
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2298 961051c9-f516-0410-bf72-c9f7e237a7b7

commit adc018ace5f125349d8d0975b3035f19b603568c
Author: Ola Bini <ola.bini@gmail.com>
Date:   Thu Oct 5 19:51:53 2006 +0000

    Fix for JRUBY-170 (a correct implementation of Kernel#inspect, including test-case by Tom)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2292 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4eb85a4aa5b1c369fedbce19adcc69a844fc7c69
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Oct 4 16:42:09 2006 +0000

    Landing charlies latest perf changes from his branch to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2280 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4fe0abc89bd0ed7ce3eaf5a519c3380d8f988012
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Sep 27 21:42:40 2006 +0000

    JRUBY-143: RubyObject.hashCode fails for hash values not in int range
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2243 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b12ea6e2f334d7cb9b03280c031de947dbf5e1db
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Sep 27 21:15:54 2006 +0000

    Really fix JRUBY-116 plus bonus fixes for Array()
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2242 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 524049357e360ba81a21756f54071c67d3796180
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 7 01:40:03 2006 +0000

    merging headius to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2232 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a629a570985930f1dc88f37bf2c585dfe4ff6fb2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Aug 17 01:38:04 2006 +0000

    merging headius branch to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2204 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dc9ebc85bd64040a28aeb6d23b3a4c90f21a9b7b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Aug 5 05:54:15 2006 +0000

    optz: avoid multiple calls to IRuby.getCurrentContext in a single method
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2165 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fb4a2d8c279c1c3b8a823ef357a36c9250638844
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jul 23 02:00:23 2006 +0000

    simplification and minor expansion of method invocations that do not require correct "implementer":
    - class-owned methods always have the same implementer as when method is created
    - module methods must come with implementer lookup in case they've been included (so 'super' goes up the right tree)
    - module methods on kernel need no implementer lookup because they're always at the top of the hierarchy (so 'super' has nowhere to go anyway, and is never called)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2141 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5b3a7565eaba7f4ce164761867d1594bcbea5d2d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jul 17 21:36:29 2006 +0000

    optz: only do callMethod() implementer search for non-classes
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2129 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2825ce01f40b572c5ee3e42226a31d70a5f76aea
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jul 7 01:08:01 2006 +0000

    eval pushing an unneeded class? (patch by Nick Seiger) [gems,rails still work + unit tests???]
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2107 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4b12521bf34cff2c9841b1dacb1a929f6def5327
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jun 22 02:11:16 2006 +0000

    Reverse hashCode no longer calling ruby hash method (caused fresh rails app to not run)
    Applied patch to skip over \r chars for non-binary files on windows (work-around until more comprehensive solution decided) [Ola Bini]
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2083 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5651ee18343f68cfdd3bed6d5960e8ad3f35c766
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jun 20 02:43:53 2006 +0000

    Do not call 'hash' when calling Java's hashCode().
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2078 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dbc75f5775b42f401554a0465098c530e42532d6
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Apr 22 22:54:21 2006 +0000

    - to_s/inspect should return IRubyObject (inspect in object by default calls
      a method which may not actually return a string -- kaboom)
    - MatchData.inspect should return #<MatchData:0x14ae2c1> not to_s
    - Remove unused import
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2010 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 62395b140d1fb0b5b75ba224eb0f4b564f70979b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Apr 22 17:49:30 2006 +0000

    More Railing:
    - Define StringIO.path (nil for IO compat)
    - Make StringIO.print not append $\ if it is nil
    - Add Kernel#warn
    - Allow Object.eval to accept a Proc as scope argument
    - Add Proc.binding
    - Make ||= work with class vars (fixes: @@c ||= 'a')
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2009 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 79e935db5c7a68676c9c113d21a3544014842401
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Apr 18 02:14:38 2006 +0000

    More RoR fixes:
    - Made Regexp.=== accept Symbol as valid argument
    - Added Object.remove_instance_variable
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1992 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9f2efc63a858fa0507245b207025eab027840a04
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Apr 9 20:58:31 2006 +0000

    Make RubyString use a StringBuffer instead of a String as its internal representation.  This change makes one test case go from 262 s to 0.7s.  Various other function fixes thrown in (with quite a few new unit tests) and some conversion to make more mutable functions use StringBuffer APIs more.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1974 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cfc6f1f3d5e8aa6aa688df9d1458ebb97feb26ee
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 14 06:07:41 2006 +0000

    add fixes for eval-with-binding, discovered while adding a test case for returns from within ensured blocks
    added a test for returns from within ensured blocks
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1918 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5073cc752efc231540d1aa632ff959ad6cc1aeda
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 9 20:02:46 2006 +0000

    merging eval, array, lastclass, and jirb changes from cnutter_work1
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1916 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a1b8fc1d456e3d5c6e01579b88773383068aa85c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Feb 10 21:53:27 2006 +0000

    merging changes from cnutter_work1:
    - cref fixes
    - loadservice fixes for irb
    - binding
    - misc other fixes from playing with irb and RoR generate script
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1878 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1d43870a42678f709851fcd9349d32a5f5be0dca
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Feb 2 19:51:50 2006 +0000

    merging cnutter_work1 to HEAD
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1869 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a679fc6a62c31df6b5b1bae3b12d0735c964ee72
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Nov 13 14:55:57 2005 +0000

    Add Module.extended
    Type check without crash on Object.type_of?
    Type check Object.extend arguments
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1829 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3bf2648c55082b6253d9b5907b4d310a3b0e271b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 10 15:12:10 2005 +0000

    renamed EvaluateVisitor.createVisitor to getInstance, to more appropriately match its usage pattern
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1826 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4ede4bfb0b4fcc29ce09b82da5f1164b5894d258
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Nov 10 15:09:14 2005 +0000

    TC method refactoring, renaming, inlining of TC-related IRuby methods
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1825 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a1a6cebc8670e0beb27e1a9ddc0325c7a3ba97e6
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 4 18:03:34 2005 +0000

    centralizing blockstack accesses
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1824 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d373bb7973cf5cfb3a360f3ce2549efcef634633
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 4 16:12:48 2005 +0000

    centralized iterstack access into ThreadContext, cleaned up some warnings
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1823 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2101b189741a176812aef3af116f64830bd42223
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Oct 29 00:53:50 2005 +0000

    modified setRubyClass/getRubyClass crap on ThreadContext to use a stack, so callers don't have to save the "lastRubyClass" to reset it later
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1819 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1c0de34dee5f649017453c9ff70198fb178343d2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 28 15:47:18 2005 +0000

    refactoring: decoupled all code from manipulating the frame and scope stacks directly; eliminated custom stack impl for frame stack
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1817 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 689e4cee8f6335d3271b7d65173d0100dfeb7be5
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Oct 27 17:06:51 2005 +0000

    RubyModule.call -> RubyObject.callMethod (allows instance.callMethod(...)) [Note: Should be renamed RubyObject.call]
    Remove redundant method_missing
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1813 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e8391ba0c663add06aa24ff66fa21afc8f3f78a0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Oct 23 03:16:31 2005 +0000

    committing LastCallStatus refactoring...it's pretty benign, and the exposure is minimal
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1809 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f5643d27aa7a2dd836ef19c758a0a13351434da4
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 21 01:04:27 2005 +0000

    merging cnutter_work2 to HEAD...damn the torpedos! full speed ahead!
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1807 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4dfdacd80c56018084c618f3bbab7b542653d95e
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Sat Oct 8 13:07:06 2005 +0000

    Introduced IRuby interface for Ruby runtime object.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1798 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0d0a9875911a31ab082bc2f917b1645f395a8e2c
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Sat Oct 8 12:55:34 2005 +0000

    Encapsulate all public fields in Ruby (perhaps not the *best* encapsutlation, but better than before.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1797 961051c9-f516-0410-bf72-c9f7e237a7b7

commit eea94b8d712be31e67c668f7451b30352c91ff2f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 5 16:52:18 2005 +0000

    eliminating null checks on instanceVariables by always instantiating it on get
    encapsulated internal "value" field for RubyString's java.lang.String
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1795 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3437afe431124a2f60cf7e37c579b0c60ed0bf95
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Sep 30 17:39:23 2005 +0000

    Merge of TOM_RDT_POSITION branch
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1780 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ff1f8480e5c43948fe1413203c38e90b2d381c29
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Sep 19 19:28:29 2005 +0000

    A fix in hand....
    Get rid of NullPointerException in default 'inspect' when a NoMethodError occurs
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1765 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 36ec84bb4bc5dbd391c6ddb676b2faeb380f0539
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 6 14:57:59 2005 +0000

    merging exception-removal changes to HEAD; EvaluateVisitor changes left on branch for now
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1757 961051c9-f516-0410-bf72-c9f7e237a7b7

commit be2d0d67acb903e2b90437be035dc5e32b7a3ebf
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Sep 3 14:38:08 2005 +0000

    Clone on a singleton instance failed because the clones metaclass is different...Removed part of the check from initialize_copy (fixes one rubicon bug and regressed no other tests)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1754 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7576b0a55ffaaad569e32894c303040bfd31b373
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Aug 9 13:13:24 2005 +0000

    method_missing should sometimes throw NameError
    our special cases for nil,true,and false in method_missing are outdated
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1737 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 50d6342dd5da06c42d25bc955addce6aaa0e6b97
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Aug 1 17:12:52 2005 +0000

    Creating extra block when we shouldn't (fixes Roberts builder example from mailing list)
    Java List objects can now use collect without throwing exception
    Remove 'construct' from Enumerable
    Smaller block/proc fixes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1732 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 31d6374bddf26d6c286c9f865a85d5ac17ebb941
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 13 16:49:30 2005 +0000

    New method caching system
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1730 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 146c798d2f3706355f835e03b4ed62688dd10112
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jun 25 22:08:35 2005 +0000

    Made some mandatory classes during runtime initialization remove useless lazy loading check
    RubyEnumerable is not needed
    Made RubyModule and RubySymbol have their own metaclass
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1729 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9471600b61418fef8cd449559a934a4344c9b14b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jun 21 18:20:11 2005 +0000

    Convert Array and Hash to use newer MetaClass mechanism
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1719 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 803c66ee682936beecc8a43fe2cfc90fe5645b22
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jun 21 14:03:26 2005 +0000

    My Laptop drive is sounding funny (dropping a little earlier than normal -- but completely safe)
    ReflectionCallback is simpler - removed some indirection levels and split out new dispatch mechanism as...
    new ReflectedMethod which has less levels of indirection than reflectioncallback and will replace it entriely once all builtin classes use MetaClasses.
    Many protocol conversion protocols are being followed.  Almost all in numerical methods and a few in array, pack.
    Several classes have been changed to have a FooMetaClass.
    'ant test' is running between 25-20% faster right now and this should increase as I convert more builtin classes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1716 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a36ff3729d6a7f2c61eb51273fcee3d3bd371350
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jun 18 14:47:06 2005 +0000

    More moving towards java.util.Stack contract for remaining Abstract Stack users
    args are never null (we no longer null check with a few strategic asserts)
    getPosition() always returns something from Nodes (we no longer null check)
    Remove AttrSetNode (fake parser node) in favor of CallbackMethod
    we were pushing/popping an extra dynamic vars set every yield
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1715 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0db25dd3ae06c744963d9b04bf3465fa3673f030
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Jun 16 14:54:07 2005 +0000

    Move abstract stack users a few steps closer java.util.Stack contract
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1711 961051c9-f516-0410-bf72-c9f7e237a7b7

commit abfe85d15f992ecf4447b155d177050fe2239c3b
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun May 8 16:58:03 2005 +0000

    Remove classStack with two RubyModule references (should fix at least one concurrency bug with blocks)
    Object#methods returns protected methods
    RubyModule.getConstant a little more sane
    f = Class.new; class << f was not working properly
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1687 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 32d84ae899fd3c367ef3800d0984b69f53209031
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 3 14:34:32 2005 +0000

    Fix scoping of constants in singletons (one step towards possibly removing classMap)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1684 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3ede202d0612738913c251608fd955d6b23c9527
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Apr 29 14:29:56 2005 +0000

    Fix display class/module names to match ruby
    Metaclasses now properly print out #<Class:Foo>
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1683 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a3337027c89bd9011cd37f1c8830dae30c72a660
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Mar 29 15:29:42 2005 +0000

    MetaClasses will need to infectBy and they are now in a package
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1648 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4f86cd17154dd44bc1e7800a0e45d2ecbf838b87
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Tue Mar 29 00:59:56 2005 +0000

    Added a TODO.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1640 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 69da7dcd0e9a6acf568fea4c7a3672d1226cc8c3
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Feb 5 22:04:17 2005 +0000

    Let CONST=nil; CONST actually be nil and not a NameError
    Remove hasInstanceVariable()
    Change getInstanceVariable() to return null when no such constant exists
    Add some experimental convenience functions to certain Java objects (<=>, each, <<)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1596 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7a83c48af56081c1c2132111d535f28d10cf3afb
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Dec 31 20:55:52 2004 +0000

    Update license to GPL/LGPL/CPL
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1574 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 49aa6e52e2393f8c17a3c126aed59b8fd08b68aa
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Wed Dec 22 13:13:24 2004 +0000

    fix class clone bug
    fix freeze/taint bug for cloned/dup'd objects
    add test cases
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1526 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ae3178fbb3656e01c3d379a6255e1af956725271
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sat Dec 18 12:32:37 2004 +0000

    Created IO meta class.
    Fixed bugs in IO#initialize, IO#foreach and IO#readlines.
    Fixed Fixnum#[] bug (it doesn't accept classes with a "to_int" method yet!).
    Fixed multiline regexp bug.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1500 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4442343885cd87eb52f7b519abf1fac2bbfe523d
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Thu Dec 16 23:15:54 2004 +0000

    Fix a bug in RubyObject.initCopy.
    Add implementation of Object#initialize_copy method.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1492 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 40383241ec93bfe226df70f8338e54bf9255140f
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Wed Dec 15 23:45:14 2004 +0000

    - Simplified method definition for builtin classes.
    - Added metaclass support for builtin classes.
    - Added ruby 1.8 allocate support.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1489 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b72a2862ae5b2f01f9a767ef2ce248fd785857c4
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Dec 13 00:26:02 2004 +0000

    Replaced org.jruby.util.Asserts with Java 1.4 assert.
    Fixed String#capitalize.
    Replaced RubyString.nilString(getRuntime()) with getRuntime().getNil().
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1482 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0e219b9865b9d95b287ff161c83df5434039f9b1
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sun Dec 12 23:41:29 2004 +0000

    - Replace IRubyErrorHandler with RubyWarnings and SyntaxException.
    - Add deprecated warning to Object#type method.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1481 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8081fdc23459ab3e7b62155a53b7f18b561f93c1
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Dec 12 14:55:16 2004 +0000

    removes type parameter from CallbackFactory.getXXXMethod()
    and removes CallType from AbstractCallback and ReflectionCallback
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1476 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 870e1da9b41bfdbae259e1fc5f18fc8b76686998
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Dec 12 09:25:42 2004 +0000

    removes the instance variable runtime in RubyObject
    reintroduces the variable in RubyNil, RubyBoolean, and RubyClass
    delegates all calls to Fixnum,Array,Boolean,String,ArgumentError,IndexError and TypeError.newXXX to Ruby
    fixes all imports
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1469 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e6b5100a49718fc8d3cf73e804b366eae694748d
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Nov 29 14:12:07 2004 +0000

    Remove (or add a comment) to some empty blocks.
    Remove unused RubyDir#matches method.
    Remove some RegExp Adapter remains.
    Rename RubyObject#argCount to RubyObject#checkArgumentCount
    Fix the stacktrace of Exceptions.
    Fix RubyFile#expand_path method.
    Add LocalJumpError class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1434 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c15ab526440e25745b45a2ab3aaab1b5a7334d1f
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Nov 28 14:54:57 2004 +0000

    code cleanup
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1428 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4a042d00b4422fdb80fefdd4cce88e0bdf2cb981
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Nov 21 22:11:00 2004 +0000

    RubyObject#nilObject is no longer used.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1423 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9fb39401ad32b07f136f2b81cde134856853c76d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 21 07:30:29 2004 +0000

    added some errors to match Ruby impl
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1415 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 472f58de28ef628b4d020f911dcf7a268b331c6f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Nov 21 06:46:41 2004 +0000

    implemented instance_variable_get and instance_variable_set (1.8)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1414 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b1562832239a5e5d73b1ee98dade51601e343257
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Nov 16 20:30:04 2004 +0000

    Rename references of org.jruby.Ruby from ruby to runtime.
    Remove unused methods from the IRubyErrorHandler interface.
    Add "same" method to RubyObject to fix "equal?"
    Fix JavaObject cache.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1408 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cad9d22cfdd4225585bd8b60c3d068e9aee2bb12
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Nov 5 00:03:14 2004 +0000

    Threading overhaul to make possible kill and critical implementations
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1383 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 035c46fd66ac254cb294f8151bb458a672b46112
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Oct 30 22:27:08 2004 +0000

    Remove unlikely to be used soon abstractions and simplify lexing
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1373 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 53834ef82ad80e0e6792159162cbaf45fcd66144
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Mon Oct 11 15:01:32 2004 +0000

    Add optional arg to Object#methods. Move method_missing to Kernel (Ruby does this too?). Make all functions in Kernel module functions (doh)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1333 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c3988bcedc9973ff7f8c24ac6423ecb89f3ada35
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Aug 25 03:00:14 2004 +0000

    Fix regex/string rubicon tests
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1327 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0b50e11e0e561da815ab36f1a518251aec4c6862
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Jun 20 16:56:19 2004 +0000

    Add getImmediate to object + company so that objectstore can know not to add immediate objects
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1320 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 83ca1988efc1e67d360010f573b77a83d9d9bf03
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat May 29 23:26:55 2004 +0000

    Messy Commit: 1. Module refactoring (fix bad unit tests) 2. String additions (casecmp, lstring{,!}, rstring{,!}) 3. Allow equal to return nil when needed. 4. testFrozen consolidation
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1309 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f5c9a1ebd775712f2dc086acfce1a14a123ec632
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 25 15:54:04 2004 +0000

    Another round of star arg grammar fixes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1302 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0fe190697fb38dacdaa0ca5fd7fdaa0d2b15cc82
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Mar 13 22:43:20 2004 +0000

    Add 1.7 break/next return value
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1285 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 158bab74478b3ca0925ddbd2a5c73d4ef53d75f3
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 12 19:38:42 2004 +0000

    Coalecse various getName signatures to just one
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1280 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bfaaf5af7a6dd520d738175d217a105ad27265f4
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Mar 7 16:25:43 2004 +0000

    Add Object#display
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1270 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a16b4a3596853f2153bfe0df0a8cbe54382d5d58
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Feb 28 23:00:58 2004 +0000

    Removed a lot of old IndexedCallback stuff.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1254 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7cc17377cbd013da3a67c3ddceecd9d4672c5204
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Feb 26 17:18:59 2004 +0000

    Fixes rubicon errors for Module ModulePrivate, and Access.  Minor refactoring.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1250 961051c9-f516-0410-bf72-c9f7e237a7b7

commit da1e0993189b265528a6aa5108d3ce668d87643f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Jan 11 14:39:44 2004 +0000

    Added an (optional) CGLIB implementation of Callback.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1210 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e7f721acfb6dd4252c6b7c20c7c1139b4a3a8e2f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Jan 8 18:32:22 2004 +0000

    Moved Callbacks to their own package.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1209 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1300280dbcf2d65ee8f09dfddf99fa09f733e83c
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Fri Dec 5 22:41:44 2003 +0000

    Removed some dead code, plus some cleanup.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1207 961051c9-f516-0410-bf72-c9f7e237a7b7

commit de8095c72695447a2c5489133138188f4b593736
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Jan 4 11:48:46 2003 +0000

    Prevented singleton methods on fixnums and symbols.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1175 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d8c7bdab8430bb1f7826f7cad86d6c1aa9513a82
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Dec 16 21:12:11 2002 +0000

    Reworked class and module lookup.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1171 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 935c3520f1805979a2dc9b14f7cc2f975286e1ce
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Dec 5 20:31:59 2002 +0000

    Undefined Float.new
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1164 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0a47b75206b354a71f44403969da5da8b33c2662
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Wed Nov 20 20:10:56 2002 +0000

    Removed Namespace entirely.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1148 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 045dd89b1d068325699444b2707bc84ba6e5abb0
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Tue Nov 19 19:20:29 2002 +0000

    Changed implementation of Module#nesting
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1143 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0a7a51077e480d8c1376ab118b6f01d9795e84af
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Tue Nov 19 00:25:01 2002 +0000

    Removed unneeded push/pop pair.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1140 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d91ba887eb9e0c4b0095bf2e52a82bab8880c064
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Nov 18 22:54:45 2002 +0000

    A little Law of Demeter-refactoring.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1138 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0044a3b88a0afa22dcced1c8213002b0fb16faf4
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Nov 18 12:18:54 2002 +0000

    Fixed another visibility bug in module_eval().
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1132 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f848ba29fc8a834cb1adbc99411904d4a2393723
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Nov 17 15:29:28 2002 +0000

    Fixed visibility bug in module_eval()
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1130 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 52fb3673b53131e10b62e6e1b14b08895b651357
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Nov 17 01:11:15 2002 +0000

    A little namespace refactoring.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1129 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 82ec4b9b5c4588e79a7ebd9845469fd42332e81c
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Wed Nov 13 23:52:35 2002 +0000

    Reverted all namespace changes. Our unit tests are in some cases crap, it turns out. ;)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1120 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6f016a73c3a027804fa73be3128c8a0ef8f0bf1b
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Wed Nov 13 21:33:29 2002 +0000

    Replaced some usages of namespaces with the class stack.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1113 961051c9-f516-0410-bf72-c9f7e237a7b7

commit db825996b1895dae1eb261e8664a736f73cdad4f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Nov 9 16:59:49 2002 +0000

    Some thread-context refactorings.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1098 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 13e69799e76f1dd3ab5912856ce9b0d9ff6e99af
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Nov 9 15:12:41 2002 +0000

    Moved classStack and wrapper to ThreadContext; Cleanups.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1095 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 907038f772541e19a0df90bdd00d9339f9467e63
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Oct 21 14:28:33 2002 +0000

    Removed a little dead code, added some new tests.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1006 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6d924714a24af3d22536da7eb42304c6ffce6cd5
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Oct 17 19:46:27 2002 +0000

    Did some cleanups that may or may not reduce String creation.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@996 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dcea3e9f2f6ecba04f862dbfb01b220d7890a706
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Tue Oct 1 00:18:26 2002 +0000

    Def-generation ready to go, except for some Object bug.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@928 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 06f34f3a6e4941994e00090d1365045e229680be
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Sat Sep 21 23:05:19 2002 +0000

    - Some MetaClass refactorizations,
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@881 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d667713f53902eb2be9e22076d1ecb9c190388a9
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Sep 17 13:07:22 2002 +0000

    - performance boost by removing "new IRubyObject[0]"
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@839 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0f597585eeb60edaa2dc6a7ce72cc9c02fcd2e57
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Thu Sep 12 11:55:39 2002 +0000

    Removed our special RubyMap and RubyHashMap, we now only use standard Map and HashMap.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@804 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c77b91f42c4f3810140d44cbe603248a1d52b7ee
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Sep 10 15:18:12 2002 +0000

    - restructure of the code tree.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@782 961051c9-f516-0410-bf72-c9f7e237a7b7
