commit 78491e1c91ba5e181cfaa49b0173e1277c8225c0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Apr 30 22:01:01 2013 -0500

    Fix JRUBY-7145 by checking for drive letter in Dir.mkdir.
    
    Dir.mkdir did not have any checks for the case where the path
    passed in was a drive letter, as happens when FileUtils.mkdir_p
    breaks up the path into components. It should obviously not
    attempt to make a directory for a drive letter, so I have made
    this a no-op.

commit a071e40a8a5bbb22a4fecfd9eb66ccc39273a63c
Author: Sébastien Le Callonnec <sebastien@weblogism.com>
Date:   Sat Mar 30 08:01:23 2013 +0000

    Restore 29170 when catching exception.

commit f0e3aa3420f94e355609c09f937f106223364725
Author: Uwe Kubosch <uwe@kubosch.no>
Date:   Mon Mar 4 03:16:56 2013 +0100

    * JRUBY-7117 Dir.foreach should list entries in JAR root and in JAR directories ending in slash
    * Ruboto Issue #338 Using  and __FILE__

commit 61678ac1a2514a9932276f8d527816a5980a94b3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 25 20:41:40 2013 +1100

    Fix more references to CPL.
    
    The phrase "Common Public License" was split across two lines in
    our default header, which caused it to be missed during earlier
    search/replace. Also, we did not replace the CPL URL in the
    header with the EPL URL.

commit 330fef3b0fc18af477ccea19bd278669667f31bb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Feb 12 14:49:29 2013 -0600

    Switch JRuby's CPL license to EPL.
    
    Governance of the CPL license was moved to the Eclipse Foundation
    at some point in the past, and Eclipse blessed the EPL (Eclipse
    Public License v1.0) as the successor to CPL. Because the CPL
    contains a clause allowing transparent upgrades to future blessed
    successor licenses, we can make the move to EPL without
    re-contacting past contributors.
    
    The change in going from CPL to EPL largely just removes some
    punitive language that apparently made many companies nervous. All
    other language in the license remains identical.
    
    Several documents about Eclipse's move from CPL to EPL are here:
    
    http://www.eclipse.org/legal/cpl2epl/
    
    Note that Eclipse's move came before the blessing of EPL as the
    upgrade path for CPL, so they had to do a bit more legal juggling.
    With Eclipse now the administrator of CPL and with their blessing
    of EPL as the upgrade path for CPL, all we need to do is make the
    move.

commit 896b1a5ef31d8a854d126a99646124bc29f616e0
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 15 15:29:01 2013 -0600

    JRUBY-7069: Dir.home(nil) should be my home

commit bf66662df70ca08a80c4cff9a9346a38015dd0de
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Sat Dec 1 00:36:59 2012 -0500

    Revert "Rely on EncodingService to get default external encoding."
    
    This reverts commit a6e6191714d04ca67fd6cf6cd66a00cd12ad6583.
    
    Not entirely clear why, but this commit caused Travis build to fail:
    https://travis-ci.org/jruby/jruby/builds/3446597
    Travis indicates NPE on EncodingService.java:269, but I could not
    figure out why that could happen.

commit a6e6191714d04ca67fd6cf6cd66a00cd12ad6583
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Sat Dec 1 00:22:33 2012 -0500

    Rely on EncodingService to get default external encoding.

commit 8be3adc50763ee2bacd7e831fecd565ca51f383c
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Fri Nov 30 23:56:56 2012 -0500

    Default to UTF-8 if default external encoding is not set.

commit 24de519aedb7ffd4d6fa26c55aba649c02bda4fe
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Fri Nov 30 23:38:20 2012 -0500

    Look up external default encoding when returning string
    from Dir#glob.
    
    This should fix #417 and improves the fix for #403.

commit fd204b7d352894c6159c6e8cf4ac58f528debe24
Author: Sébastien Le Callonnec <sebastien@weblogism.com>
Date:   Sat Nov 24 13:20:08 2012 +0000

    Fix issue #403.
    
    Dir converts the filenames retrieved with glob to utf8, which causes issues when the filenames are not assumed to be utf8 and encoded again into utf8.  This fix ensures the RubyString created from the matched ByteLists are treated as utf8 so that they are not converted again.

commit 982013ae5360dafc1f898eb2fb6a1786811ffebc
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Nov 19 16:19:20 2012 +0100

    Arrays of globs did not to_path its arguments

commit 93dbff06ae5c0b1d71c7409031cc1e0f06a1297a
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Nov 19 14:33:38 2012 +0100

    More to_path consolidation

commit 11be1190c76bd289bd561ac49a6c96940b00f351
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Mon Nov 19 14:17:52 2012 +0100

    Slightly ugly transition from Java File to jnr-posix for rmdir.  Also changed all consumers in Dir to start using get_path on File so we properly transcode for non-ascii paths

commit b8181cda909f6e42d7c0b7fffaabbe2a502f273b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 27 02:19:54 2012 -0500

    Inline all calls to ThreadContext.getRuntime to access the field.

commit 47fd4acb720385b7d7852e1876e28520aa0cf484
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Jul 27 01:55:07 2012 -0500

    Remove all safelevel checks throughout JRuby (plus misc cleanup).

commit c2abc8caed9dfb383d4ab8d54267ba3cf7b81c20
Author: ryenus <ryenus@gmail.com>
Date:   Sun May 6 22:04:30 2012 +0800

    #6606 - respect external encoding instead of hard coding UTF-8

commit 6886cc0d191dcd883fde1ad87342aba5d5058cfb
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Jan 9 23:48:40 2012 -0600

    Rewire ENV_JAVA to be a read/write mirror of system properties.
    
    Normally ENV_JAVA will remain a read-only copy of System properties,
    but after require 'java', it is replaced with a read-write wrapper.
    Updates then are propagated into System properties, and updates
    from outside JRuby are visible.

commit 5dfa65455ae6ab31c6a3f80c64f970e697e4c86a
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Thu Dec 22 01:37:31 2011 -0500

    Invert the priority for setting the default directory for Dir.chdir when directory is not given. This partially addresses JRUBY-6295.

commit 126a30c4e99bd6acc5fb5798c51980922d48504a
Author: Uwe Kubosch <uwe@kubosch.no>
Date:   Thu Dec 8 02:49:33 2011 +0100

    * JRUBY-6320 Use the jar file cache when doing File operations on jar file content
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit 2a2b0717ce415a40a12190481f8d1f6a5e6e82f1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Nov 16 10:05:56 2011 -0600

    Fix JRUBY-6214: Dir#rmdir raises improper exception if directory is not empty.
    
    * Added proper sequence of checks to always raise the more-specific error.
    * Cleaned up some related logic.

commit c2d65343ce99eca4b2840e0c888eccdaa440588b
Author: Uwe Kubosch <uwe@kubosch.no>
Date:   Wed Oct 26 23:39:20 2011 +0200

    * JRUBY-6119 Enable directory listing for JAR files without directory entries
    
    Signed-off-by: Hiro Asari <asari.ruby@gmail.com>

commit 4f4bbe536bca6bbdf975d846260d000133075dfc
Author: Yoko Harada <yokolet@gmail.com>
Date:   Wed Oct 5 20:35:30 2011 -0400

    Merges pull request from donV, 5c43440b3027f0b2c0d844452677ee1ed807f372, 0fb1ff4d3d5e965fb0b8eb8131171bd47eee9d31, d5540d40a74fa1301f6ba587f332079aae59cf17, a84e4492f0fbfd1367952d8fd5b4976e5e3632d1 . This fixes JRUBY-5775

commit 0f7c9ce8261d46ebfb7ef6e17e7da2f86f5d5ba5
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Sep 12 12:48:51 2011 -0500

    Update to ASM 4.0 RC2 and master builds of jnr-{ffi,posix,constants,netdb}.
    
    Squashed commit of the following:
    
    commit ce02afcf40ede2c485ab357435866ce754cd2671
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 12 12:46:44 2011 -0500
    
        Fix group id for jnr-posix and version numbers for modified libs.
    
    commit 0b5632be85dce5500c35d3533fa5d7cd240bf515
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 12 12:39:24 2011 -0500
    
        Fixes to get ASM 4.0 RC2 passing tests.
    
        * Update jnr-* to master versions, since some depend on ASM and had to be updated too.
        * Fix ASM-related errors due to new class hierarchy.
        * fix skinnymethodadapter_spec to use new h_ prefix for handles and to filter "asm" constants.
    
    commit 4ac391fb3bf2f53dd42f8e4c5f3a0e36ca638e1b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 12 10:35:08 2011 -0500
    
        Remaining tweaks to get jruby compiling with ASM 4.0 RC2.
    
    commit 3801518505d0d38bf045a39fd8ca6eb80ef50126
    Author: Douglas Campos <qmx@qmx.me>
    Date:   Mon Sep 12 00:21:54 2011 -0300
    
        updated InvokeDynamicSupport
    
    commit 2aabc1894d38b717cca2b4546f51596b8b03db6e
    Author: Douglas Campos <qmx@qmx.me>
    Date:   Sun Sep 11 12:43:39 2011 -0300
    
        updating asm version

commit 6f159fe5dd51c062a5b1aab64a8ede916990877a
Author: Hiroshi Nakamura <nahi@ruby-lang.org>
Date:   Mon Jul 11 03:36:17 2011 +0900

    Deprecation of fast constant access paths.
    
    Each os those has the same definition as non-fast verision.

commit 88e0b0075f417cfad43ef7baa9e9fe74f2ecc7ac
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 31 17:53:01 2011 -0500

    Fix JRUBY-5640: Dir#pos= dies if negative value provided

commit 116a6393b8b2334b1c4fc5ac73a8eed4a93621ea
Author: Nick Sieger <nick@nicksieger.com>
Date:   Wed Mar 9 13:58:35 2011 -0600

    JRUBY-5572: Fix Dir.foreach for jar files

commit f5aee0751b60da736576932df05eb9b1693e0abc
Author: Luca Simone <info@lucasimone.info>
Date:   Mon Mar 7 15:38:35 2011 +0100

    fixing 2519, now pass test_dir_entries

commit f319524706f8300d586aa9030963241bd46fbf19
Author: Luca Simone <info@lucasimone.info>
Date:   Mon Mar 7 08:38:26 2011 +0100

    fixing 2519, now pass test_dir_entries

commit ad1c5fe0158437b3e97b6b223cb81baec0ad60e5
Author: Luca Simone <info@lucasimone.info>
Date:   Tue Mar 1 16:33:11 2011 +0100

    fix JRUBY-2519, Dir instance object caches directory contents
    update with native call

commit 83dbc6313e9305371eb59d8aaab2cb0eb9b42101
Author: Nick Sieger <nick@nicksieger.com>
Date:   Thu Feb 10 12:03:31 2011 -0600

    Ensure 'file:', 'classpath:', and other bare URL-like files can't be created
    
    Related to fixes for JRUBY-5104 and removal of override of
    Gem.ensure_gem_subdirectories. Also:
    - add some specs for RubyGems extensions
    - move maven_gemify_spec to rubygems directory

commit be38834bdc3398eca5202659e583329ee77de540
Author: Nick Sieger <nick@nicksieger.com>
Date:   Mon Jan 24 12:57:49 2011 -0600

    More for JRUBY-5219: Manipulations of URIs should DWIM
    
    - Dir.mkdir("classpath:") should fail (see
      Gem.ensure_gem_subdirectories for example)
    - Dir.mkdir("file:some/path") should work
    - File.directory?("file:some/path") should work

commit 8ce01d7c0041a0aba79a09322da864dd2c3e7790
Author: David Calavera <david.calavera@gmail.com>
Date:   Thu Jan 20 23:46:57 2011 +0100

    fix JRUBY-5399: [1.9] Dir#[] doesn't convert Pathname args to String

commit 281639656892e656937dbc6a930873f5afe5ee6c
Author: David Calavera <david.calavera@gmail.com>
Date:   Thu Dec 30 23:40:47 2010 +0100

    fix JRUBY-5286: taint failure in Dir.pwd and File#path

commit 0c5e9d7421f578c0fd2970d445f69663252cf03d
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Dec 17 02:03:03 2010 -0600

    [1.9] Minor tweaks and fixes to get ActiveSupport tests running cleaner.
    
    * Enumerable#map needed to yield all incoming args as an array
    * Dir.entries takes an optional options hash now (stubbed)
    * String#gsub and #encode were overzealously performing frozen checks

commit da300839fbb14ea2e308b919383c0b5b1df1f79f
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Thu Dec 2 10:51:18 2010 -0600

    Remove unused import

commit fd0fa789b21b30f294e8286b72b75fe3b688c27a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 1 12:07:42 2010 -0600

    Merge "backtrace" branch to master, now that it runs clean on all our various test cases.
    
    This is a squashed merge encompassing the following commits from "backtrace":
    
    commit eb0e24242050199ac1cc4cf6e48d93025f0186f4
    Merge: 32137de ea48d8d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 12:03:28 2010 -0600
    
        Merge remote branch 'origin/master' into backtrace
    
    commit 32137decc9351dd7b6a19c49c7955808f535bb9c
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 09:41:29 2010 -0600
    
        Fix remaining failures for test-all.
    
        * Disable CheckClassAdapter temporarily, since it disallows what should be valid JVM identifiers.
        * Use the presence of $RUBY$ in method name as an additional indicator that we're processing a compiled Ruby body during backtrace gathering.
        * Move some largely-static properties out of "init" target in build.xml, so they're available whether init is triggered or not (e.g. run.jvm.model).
    
    commit ee2a624201d5e9cd408d6ae793160aeb99b50b3d
    Merge: cd50ae5 88ad204
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Dec 1 08:01:22 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit cd50ae5f06b95a2fffab6bc1f3a7419f478d0a52
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 19:15:07 2010 -0600
    
        Get remaining spec failure with -X+C passing.
    
        * Embed the actual Ruby method name into the Java method for block bodies, rather than __block__.
    
    commit 52bbfffcae1aed62bf4afcb692bed9725e4e1564
    Merge: 4ed7235 1aace5e
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 01:37:15 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit 4ed723579101fffd8bfa73b30dc6e4e8991866f2
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Nov 30 01:31:44 2010 -0600
    
        Precompiled (AOT) specs *nearly* green.
    
        * Mark __method__ as reading frame "name"
        * Fix AOT-based stack trace mining logic
    
    commit 64e20aa939b5b9c6e41e0e9fe09039a0bb92794a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Nov 29 16:50:55 2010 -0600
    
        Jitted specs running green.
    
        * eval needs to set method name into the binding, so it's there for "__method__" in the eval'ed code.
    
    commit fd442c0a815bcab9eb6c9aa1b71e1f8a260ee03b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Nov 29 16:06:53 2010 -0600
    
        Interpreted specs green on backtrace.
    
        * Tagged some __method__ specs for which backtrace behaves like 1.9, which Matz apparently likes but was afraid to backport. Odd cases anyway.
        * Fixed method name for the block used to define_method.
    
    commit cedb27e430b422c1158f66b4dcc7769922433506
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 24 18:35:22 2010 -0600
    
        Reinstate deprecated java_to_ruby and ruby_to_java I removed, since it's still needed by some external libs.
    
    commit b48b17910de662b4e2d20ee8f4b5cc734eefc1ed
    Merge: f39007e 2ae4995
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 24 13:40:58 2010 -0600
    
        Merge remote branch 'origin/master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/RubySymbol.java
        	src/org/jruby/runtime/CompiledBlock19.java
        	src/org/jruby/runtime/Interpreted19Block.java
        	src/org/jruby/runtime/InterpretedBlock.java
        	src/org/jruby/runtime/MethodBlock.java
    
    commit f39007eca676c1e6ec9f891ac63b7c5d907b0d1b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Nov 18 14:01:29 2010 -0600
    
        Start normalizing the method/class names generated into Java by JIT and AOT compiler, to wrap up the remaining spec failures.
    
    commit 76e42c4b4522dc87c066d20051d02d1e4005b860
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 20:40:33 2010 -0600
    
        Disable dynopt for now, to allow better stabilization on the main feature of this branch: frame elimination.
    
    commit d03099690df2e16d423e8b6a8969e0264983237f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 15:00:14 2010 -0600
    
        Encapsulate "coreMethods" hash in Ruby and add "bound method" logic to default (non-generated) class populator. `ant test-all` runs green now.
    
    commit ed7458f72bce55b11e5231f8e7b9d590c09ca53d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 10:46:43 2010 -0600
    
        Fix incorrect use of fastSetInstanceVariable instead of fastSetInternalVariable in FFI.
    
    commit f09626121b6a8bea6ab39a3c8ed3ccd69f56b505
    Merge: f780b97 e8ca689
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 10:15:16 2010 -0600
    
        Merge branch 'master' into backtrace
    
    commit f780b972b1f3e18f4c2608d9536e797a0845cd1a
    Merge: 25ab5d3 6967ea7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Nov 17 09:04:42 2010 -0600
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/runtime/ThreadContext.java
    
    commit 25ab5d3d3f8c1fbf0fa334427b1485d322e83f86
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Nov 7 00:42:54 2010 -0500
    
        Don't do dynopt against calls that receive blocks; non-local flow is not properly handled yet.
    
    commit a4ad27056dcc3acf6bae0b0af7e618966d08a6dd
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Nov 6 15:22:40 2010 -0500
    
        Tag caller specs that do not pass with new backtrace logic (peculiar eval caller behaviors).
    
    commit eed8902084cfa06d4648935c1f70da57bf0c7a9c
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Nov 6 00:32:59 2010 -0500
    
        More fixes to get specs and tests green on backtrace branch:
    
        * Hash#index was not being bound properly from RubyHash#index19
        * Range#min and Range#max need super, and therefore need frame = true
        * tc_owned is a bad test and fails on system like OS X where (for some reason) / may be owned by user
        * test_trace_func had been hacked for a bad class result (Integer, instead of Fixnum)...fixed that
    
    commit 9d9f94c30de76fa25e738e70e84ea09163eca5cb
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Nov 5 20:03:22 2010 -0500
    
        Fix Kernel#caller to replace .java lines with Ruby lines. Brings specs mostly to passing.
    
    commit de433c771830e95c54f8196453208f2b312191aa
    Merge: 3ffe1cf e25c58f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Nov 5 17:40:02 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyIO.java
        	src/org/jruby/compiler/impl/StackBasedVariableCompiler.java
        	src/org/jruby/evaluator/ASTInterpreter.java
        	src/org/jruby/java/proxies/JavaProxy.java
    
    commit 3ffe1cfba86f52ee96d89f3a1c352597f22f76b7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 27 01:42:06 2010 -0200
    
        Fix compile error I accidentally merged.
    
    commit b081253fb3cdf5141f7f0cf76d3f8546837d9f42
    Merge: fc3028d ad68e22
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 16:30:25 2010 -0200
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/internal/runtime/methods/DefaultMethod.java
        	src/org/jruby/runtime/ThreadContext.java
    
    commit fc3028d9da2750c9d1c394600ab8ee712388724d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 14:39:29 2010 -0200
    
        Add better description for class bodies in backtrace
    
    commit d796555494c2237116c7477c932fd96cd30d2e20
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 26 11:36:29 2010 -0200
    
        Clean up and add color to Rubinius backtraces.
    
    commit 012f5357ce649bd5a996211fe231f26097bf4f5b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 16:23:04 2010 -0500
    
        Fix classloader check to allow for compiled method handles, which use a no-arg constructor.
    
    commit 473d48aac6a5523304188d1d433e4c12df989b89
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 16:10:32 2010 -0500
    
        Improve Proc-binding-based eval position info by propagating block's position into the binding and through to the backtrace frame.
    
    commit bcfd16b519b145c9ee055db1592dfaced05b71a0
    Merge: 4902faa 5b49583
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Oct 24 11:07:15 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyTime.java
        	src/org/jruby/runtime/ThreadContext.java
        	test/org/jruby/test/TestRubyException.java
    
    commit 4902faaf1678d5aecdef8b0b66f8ec78062aeec5
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Oct 21 09:28:45 2010 -0500
    
        Fix badly-merged RubyProc.to_s19, missing opening brace.
    
    commit 69177d7098f9dc4ff9096d08eee25c0d8bb4f971
    Merge: 801e764 f895837
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 20 21:50:53 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 801e7641b8838a8ae8931a9c6dcc5cf050096c4a
    Merge: 0c60a89 dda4644
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 19 23:16:41 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyDigest.java
        	src/org/jruby/RubyProc.java
    
    commit 0c60a89aa746f286588b218681e9ad25b11318c4
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 19 23:06:15 2010 -0500
    
        Only compile direct recursive calls when we haven't branched to another method body (e.g. for rescues) and we're not compiling a closure or class body.
    
    commit 18333fe82c808e8ed49eef898f19c86fa2d764b2
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 17:04:13 2010 -0500
    
        Get 1.8 specs running green except for a handful of Kernel#caller specs (which don't expect to see .java files in the trace...not sure how to deal with that).
    
        * Fix another literal-block-calling path that wasn't using callIter
    
    commit 366740120ee76d8df3f977edc1727b60b2d4ad63
    Merge: b64390b 6b243a3
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 10:35:14 2010 -0500
    
        Merge remote branch 'origin/master' into backtrace
    
    commit b64390b8cf0d2cb13e06d352969a093b5e86818d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Oct 12 10:33:39 2010 -0500
    
        Remaining fixes to get precompiled mode passing all our tests. Still some spec failures.
    
        * Bump up permgen max for test runs
        * Fix stack-based scope initialization to not leave an unused nil on stack
        * Ensure compiled method handles properly wrap pre/post logic for dummy and backtrace frames.
    
    commit 96bd3cbde91fc505b37ee13cbea6ffa3e8690c58
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Oct 11 18:36:34 2010 -0500
    
        First fixes for backtrace branch in precompiled mode:
    
        * Add test-precompiled build target for running just precompiled
        * Eliminate extraneous toplevel scope being pushed for precompiled loads (because that logic is all in the generated "load" method now.
        * Add a new scope descriptor decoding path that properly sets up a toplevel scope
    
    commit 0ebbd6ac46c9ac04558f5200f980f26f798b9413
    Merge: fc387be ac455fc
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Oct 6 21:53:18 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/RubyIO.java
    
    commit fc387befff57ada6c116b646a3dfb767cc926ee5
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 28 15:57:58 2010 -0500
    
        Renumber arguments for consistency.
    
    commit bbc91d3c4039bf6c26ceffd4899dcaaeaa3d46d0
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 28 15:40:38 2010 -0500
    
        Fixes to get specs a bit closer to running green.
    
        * Move pre/post logic for Script.load into generated code, so it's the same everywhere.
        * Make pre/post-load push a frame, so top-level of a script is always framed
        * Remove break handling from non-literal block call paths in CachingCallSite
        * Make sure all literal block calls are using CallSite.callIter, which handles break
        * Fix a bad test in testCompiler that needed visibility tweaks and framing
        * Add complete doco for CallSite
        * Fix Kernel#caller to trim from top of stack instead of bottom
    
    commit 4e814a24d5b2ef1b6567a3076a463ff9d08e2a0d
    Merge: 91dc13a 3dbcef3
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 27 17:43:30 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 91dc13a2f0b74bc1054d83378782416465ecc1b8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Sep 27 01:02:48 2010 -0500
    
        Fixes to get test-compiled (but not precompiled) passing 100%.
    
        * Fix eqlInternal's RubyNumeric branch check if classes are equal
        * Provide file and line from all BlockBodies, so Proc#to_s can always use it
        * Fix rejiggered Struct#each and Struct#each_pair to call the appropriate internal version
        * Fix ruby_test's IO.new suite to not use STDOUT directly, risking that it get closed
    
    commit dc4af45352607ebb8a95d70befdcdb15c1111c58
    Merge: ec8bb7f 90275be
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 21 09:52:10 2010 -0700
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
        	src/org/jruby/RubyDir.java
        	src/org/jruby/RubyKernel.java
        	src/org/jruby/compiler/ASTInspector.java
        	src/org/jruby/javasupport/util/RuntimeHelpers.java
    
    commit ec8bb7fc31d4acd4ebcb040f088e19fb427448e8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 19 16:21:38 2010 -0700
    
        Remove frame = true from all core class methods, to reduce their call costs. A few remain for invokeSuper and methods that may still need frames.
    
    commit ec276b6ca0c6009702839b12d97664b9e52b1023
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 16 14:10:43 2010 -0500
    
        Eliminate RubyTuple use that snuck in.
    
    commit f80254100cfc17ac6eb558e465fc1fb9122c3ee4
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Tue Sep 14 10:07:53 2010 -0500
    
        Special case a few immutable core types in equalInternal/eqlInternal.
    
    commit eb66c45145e4fd1f8c28e9a8c544114f034116e8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 18:26:13 2010 -0300
    
        Performance changes for backtrace logic:
    
        * Back off using Java stack trace for Proc's to_s file+line, since it's prohibitively expensive
        * Move the Backtrace stack to being a fixed-size array of objects updated, rather than created, when a push happens
    
    commit 6f0ade5ab28946b8800431d3454d2e57fc0dbe19
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 11:36:07 2010 -0300
    
        Add generation guard around trivially-inlined logic.
    
    commit c4d8705217174580d35757dc85c5c646e980b57f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 06:18:38 2010 -0300
    
        Full speed ahead with a caching mechanism for calls from core classes. Only works for core class methods right now, but opens the door to expanding that.
    
    commit 5874abc01104f6c0f435f8ac4643ed0f77cf7cff
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Sep 12 03:43:37 2010 -0300
    
        Localize some fields used in Array#include? to speed up the loop.
    
    commit 346245cd5e154574d14736cf4b9e0b4b98260d14
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 15:02:41 2010 -0300
    
        Allow passing a number of iterations to bench_quicksort.rb.
    
    commit b4687022a1f00d0b63838b1c9daf00753fcfa93e
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 11:55:15 2010 -0300
    
        Fixes to get run-junit-compiled 100% passing on backtrace branch.
    
        * Fixed a couple tests that are too sensitive to core method line numbers or expected only .rb elements in the trace
        * Added a mechanism for procs to retrieve the most recent Ruby frame, for to_s purposes
        * Added comments for hybrid backtrace logic
    
    commit 15cd9b16cb2750d0e40ba478d07fe5bf265dc620
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 11 08:07:57 2010 -0300
    
        Add better logging to AnnotationBinder (for showing framed/scoped core methods), ASTInspector (for showing methods detected as framed/scoped and for reporting deopt flags as they are set), and JITCompiler (for dumping jitted methods' full classes and inspector results). New property jruby.jit.dumping=(true|FALSE).
    
    commit c4e6176498590d791868055025c2e72ded1ccf13
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Sep 10 02:10:20 2010 -0400
    
        Improve dumping of generated bytecode by including class and method name when possible.
    
    commit 07fc4215f6873f449f89d4f5da7a7e2e8963bc70
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 9 23:39:20 2010 -0400
    
        Make attr accessor's var accessor field volatile, to guarantee visibility across threads.
    
    commit e3a7cf5cd4d8ccd08407955779bdd94feb5e4ac8
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 13:26:48 2010 -0500
    
        Add missing "in" to caller backtrace lines.
    
    commit 7140c339f386959853f747d86cb2ea9a8afa6f2a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 12:10:50 2010 -0500
    
        Fixes to get tracing tests running in interpreted mode:
    
        * Off-by-one line numbers were off for MRI too. Fixed to correct line numbers
        * call and return for Ruby methods need to use impl class, not self class
    
    commit cbc9c4edab56807a023817d06db9c22441fa4b53
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 10:31:57 2010 -0500
    
        Fix runInterpreterBody to properly unwrap RootNode for "gets loop" execution.
    
    commit 3a09773058d8d58d5bf8f1b6fbebc494fc18f7c6
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 10:01:43 2010 -0500
    
        Make --bytecode attempt a recompile, so that dynopt and no-compile modes can still print bytecode.
    
    commit 4e48e722ba5ded10975af348738237fcb7fe9b2a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 09:23:38 2010 -0500
    
        Add a "full" backtrace style which does not omit any Java frames and interlaces the Ruby frames.
    
    commit 6f5057e3ae1e372bd66602dcc26864adc3270128
    Merge: 7006d31 811fd8d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Sep 8 07:48:47 2010 -0500
    
        Merge branch 'master' into backtrace
    
        Conflicts:
        	src/org/jruby/Ruby.java
    
    commit 7006d3175bbf4630921dfecaa4faef2a39a77205
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 4 16:04:28 2010 -0500
    
        Bytecode size reductions for stack-based nil-initialization of locals and for x, *y and x, * forms of masgn.
    
    commit 3a8fb16f020c2b9aaa6228605bdb3d8fd1b78ccf
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Sep 4 14:52:04 2010 -0500
    
        Do not do direct recursive invocations for heap-based scopes, since the scope is not currently being reset.
    
    commit ec00e99636667eff97a891917ae9ef37f94a6eb7
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Sep 3 19:55:24 2010 -0500
    
        Turn on dynopt by default, to aid testing of new logic.
    
    commit 9508e8a6925fce4f57a386ede867b3f8f9b67d38
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Thu Sep 2 12:40:38 2010 -0500
    
        Fix Time test that expected two separate Time.now objects to to_s the same.
    
    commit 65ba8b37a8a232495453e71b2a560c761b40893f
    Author: Nick Sieger <nick@nicksieger.com>
    Date:   Mon Aug 30 14:50:03 2010 -0500
    
        Use new backtrace info to set a more useful Java thread name
    
    commit 75b100604af39de52b26bdb21669136234424a0b
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 30 11:37:49 2010 +0900
    
        Fix ifne/ifeq bug in dynopt guard and switch DefaultMethod to not flip generations on JIT in dynopt mode.
    
    commit fe3b408629e94b7db0436152968bd6d2232f6c7c
    Merge: eea60da 85c64c6
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 29 20:33:06 2010 +0900
    
        Merge branch 'master' into backtrace
    
    commit eea60da3905c87c16fbb4e6c78fd7a07f842e4bd
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Fri Aug 27 14:09:44 2010 +0900
    
        Modify Java Fixnum fib bench to use the long call paths where possible, to be more like what compiled Ruby does not.
    
    commit a189563d9073208292e91aff3eb1c88489bd113d
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 15:07:21 2010 +0900
    
        Fixes for jitted/compiled backtrace generation
    
        * SClass in a method body needs to frame, so it has a jump target for non-local return
        * Compiled methods need to always have their ruby name in the method name, so it can be mined out appropriately
        * Synthetic calls, like to rescue bodies, need to gobble caller frames to avoid multiple entries
    
    commit 276226de611cb8d5af942148109c2a51982e7640
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 14:03:44 2010 +0900
    
        Add callNumber tracking to method handles, to properly handle return jumps.
    
    commit b94bcf119a54f52ab9be3c86bc5cc85078f20eee
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Wed Aug 25 13:16:25 2010 +0900
    
        More fixes for hybrid backtrace:
    
        * Get generated trace to be RaiseException's Java trace
        * Add Ruby exception name to the RaiseException message
        * Rewire and repair trace calls
    
        All main suite tests now pass in interpreted mode.
    
    commit dc9fcd3de0f3070507ac0a0647973d1e9f16ae4f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 14:38:47 2010 -0500
    
        Fix debug logging of exceptions being raised and patch a couple tests for new backtrace structure.
    
    commit 3acd3201d85e4da9186fa17d3a04bdc9db742e29
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 13:23:04 2010 -0500
    
        Include original source file in compiled Ruby, add missing "in" line for MRI rendering, and soften requirements in test_backtraces to allow for native elements in the backtrace.
    
    commit 728cf3983fbeffba944fe34a8b0e410cc1de041c
    Merge: 88a64de 0e9c956
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Mon Aug 23 00:18:07 2010 -0500
    
        Merge branch 'master' into backtrace
    
    commit 88a64de879446be3398ba7671b5fa1f3e46ce02f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:29:21 2010 -0500
    
        Turn on "positionless" compilation, since compiled code no longer needs to update interpreter backtrace frames. Also fix nil/null backtrace rendering.
    
    commit 5712a4ce285a5b3662c8ef8def2599223a232626
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:18:17 2010 -0500
    
        Fix off-by-one line numbers from interpreter frames.
    
    commit 519f4625b9d9658f50b986b1add560903ee453de
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 17:10:47 2010 -0500
    
        Remove some old backtrace code no longer in use and get all "backtrace" method handles to generate with no frame at all (since Java stack is used now).
    
    commit 424d967df8a3b6ba277bdb1b530d4f7f62ecbc4a
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 16:52:29 2010 -0500
    
        Get Kernel#caller working with hybrid traces, get Rubinius rendering working again (partially), separate gathering and rendering of backtraces.
    
    commit a00822740712ddd924896feccc10f015fd20d4be
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 15:32:08 2010 -0500
    
        Mine method names out of AOT and JIT compiled stacktrace elements and get JIT using the original name of the method.
    
    commit 039d184ac5f798aed21870a7552b66c5973ca0eb
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Aug 14 22:16:48 2010 -0500
    
        Simplify in-class encoding of StaticScope data.
    
    commit 876a762b8af88955bee598dfd0421805d9b47c40
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 01:41:44 2010 -0500
    
        Fixes to hybrid traces to get tests working better:
    
        * Omit Kernel#raise and the KernelJavaAddons rbRaise from traces
        * Handle getBacktrace when there's been no preparation
    
        Also modified test/testException.rb to allow internal line numbers for the "load" call, rather than MRI standard "whatever line it was called from".
    
    commit 06f1bd171d6897f651b3cebfd76551080acbfe40
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sun Aug 22 00:39:59 2010 -0500
    
        Move backtrace management to a separate stack and implement mixed-mode backtrace generation.
    
    commit ca40e73a7c136dfdd3853f0cd62a73bf70a3a08f
    Author: Charles Oliver Nutter <headius@headius.com>
    Date:   Sat Aug 21 20:56:50 2010 -0500
    
        Get all major interpreter entry-points passing through simple, known method bodies. First step toward mixed-mode backtraces.

commit 72b617813e948feaa006ac054240a18cc9cf3aae
Author: David Calavera <david.calavera@gmail.com>
Date:   Mon Sep 20 19:15:33 2010 +0200

    [1.9] Dir#initialize calls #to_path on non-String arguments

commit 5165bbb97977bc13b527dc1ea16c30f1767119a2
Author: David Calavera <david.calavera@gmail.com>
Date:   Sun Aug 1 13:41:07 2010 +0200

    fix JRUBY-4983: FileUtils's cp_r and rm_r bugs out with directory containing non ascii characters

commit baa11e09aef91e240218ef26cbd08a83ed13b959
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat May 22 20:19:29 2010 -0500

    Various fixes for Ruby 1.9 Dir specs.

commit 13c40aeb515d14e62db6cb469a560d900a27647e
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Dec 16 00:59:55 2009 -0600

    Set reified class for all the primary core classes, so they'll work properly when extended and an interface gets included.

commit dc06f8b5462ae5c93c6fc1b8931698a27bf38b7b
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Wed Oct 28 12:36:19 2009 -0500

    JRUBY-4179: [1.8] Dir.mkdir should accept any arg that responds to #to_s

commit 73230029fa7fc0a40c45fa76241268e265d0723e
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Tue Oct 27 11:15:27 2009 -0500

    JRUBY-4167: [1.9] Dir.home should be defined (patch by Hiro Asari)

commit cff5eb333d022934810c9def276662d054b82dad
Author: Thomas E. Enebo <tom.enebo@gmail.com>
Date:   Sat Sep 26 16:39:08 2009 -0500

    JRUBY-3993: [1.9] Dir improvements to pass some ruby specs (patch by David Calavera with general refactoring by me)

commit 2864a47d35986c324b74edffce67470bc56ad2f1
Author: Nick Sieger <nick@nicksieger.com>
Date:   Fri Sep 25 10:48:22 2009 -0500

    JRUBY-3998: Forward-slashize pwd on Windows (Ian Dees)

commit 4e2b1419624bbe91b047ef592effa1cc9ff62560
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Sep 24 09:30:24 2009 -0500

    More refactoring, more unification of coercion logic. Also a small improvement to the monkey-patched j.u.List#sort Comparable impl.

commit 2998019d69498722418a27ddcc0d27890b668205
Author: Nick Sieger <nick@nicksieger.com>
Date:   Tue Sep 22 22:56:08 2009 -0500

    Get JRubyTestSuite working on windows.
    
    - `javac' must be on path
    - path expansion should account for drive letter
    - RubyString(): Get utf8 bytes out of a string instead of "plain" bytes
    - Remove RubyString constructor that took a String; should be using CharSequence version
    - Don't run Tempfile perms test on windows
    - Fix Dir.entries on Windows

commit d69ca1ade63d0fe417bf41dd7076aa168b68de48
Author: David Calavera <david.calavera@gmail.com>
Date:   Sun Aug 23 17:06:55 2009 +0200

    Fixes JRUBY-3478: Dir.new does not work for directories inside jar file
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit 6f772bfcab321f5ab2f663299f8a5724840f8bbf
Author: David Calavera <david.calavera@gmail.com>
Date:   Sat Aug 22 14:24:57 2009 +0200

    Fixes JRUBY-3897: Dir.entries shows contents into a jar file
    
    Signed-off-by: Charles Oliver Nutter <headius@headius.com>

commit 496fbed44036817c001fbe3a81e96fce2d3d8325
Author: Hiro Asari <asari.ruby@gmail.com>
Date:   Sat Aug 22 01:30:41 2009 -0500

    Fix JRUBY-3884: Rubyspec failures: Dir#inspect includes the directory name

commit 15618eaf3c112d7962758fb7db7e410a54194bc5
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Aug 3 18:53:41 2009 +0200

    [1.8.7] Dir#each, Dir#path

commit f21c613c46798d74252bed7d50d211a0c2cad5ef
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Aug 1 12:56:08 2009 +0200

    [1.8.7] Dir#each, Dir#foreach

commit caef981504c985afe2a9fec76b8499990e877686
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 15 19:08:01 2009 -0500

    Fix for JRUBY-3142 and JRUBY-3660: Dir.pwd correctly displays dirs with unicode characters in them
    
    Thanks to Aurelian Oancea for the simple patch!

commit 38420837403b163d0dac9ee65fb78cf237a71edc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Feb 23 06:16:09 2009 +0000

    Add trust/untrust/untrusted? methods for Ruby 1.9, update RubySpec, and fix an expected error in Module#autoload.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9271 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cc2c9afe088ac9274bb803732c1e03c4c83614dc
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Feb 14 01:22:22 2009 +0000

    Fix for JRUBY-2797: File.expand_path rubyspec failure on Mac OS X, Soylatte. The fix was to use POSIX calls to get home directory for a given user when possible. This fixes the issue on OS X, and should fix it on other platforms where /etc/passwd does not have home directory information in it.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@9141 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 103b8cd1d8ebbc98fe336469a081661d32b2a42c
Author: Nick Sieger <nick@nicksieger.com>
Date:   Sat Nov 8 16:23:55 2008 +0000

    JRUBY-3126: Get gems usable from within the inside of the complete jar
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@8023 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 54a7d57b63da5672c2b0884e31c206826d8ad223
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Sat Sep 20 20:24:01 2008 +0000

    Enumeratorize 1.9 Dir methods.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7731 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 72975c6c9467ac11677b86f3886e555911e50299
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jul 9 00:34:32 2008 +0000

    lots of RO.getRuntime removal
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7131 961051c9-f516-0410-bf72-c9f7e237a7b7

commit df2df588fb7c102fe29c5347e0b664c7d1d01d85
Author: Ola Bini <ola.bini@gmail.com>
Date:   Sat Jun 28 10:06:07 2008 +0000

    Fix for JRUBY-2717, more than two arguments to Dir aref
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@7040 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a9197a3e19f887be88f9255e4fd2feee0a841902
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri May 23 14:35:07 2008 +0000

    Fix for JRUBY-2505: To make Dir.pwd work in a non-ASCII dir name, use RubyString.newUnicodeString. We should be doing this wherever we've got a Java string coming in we want to preserve unicodiness of.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6774 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 97cc19ce258a8d9a22ab9ef3b45fb153f9ffd1f0
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Fri Apr 4 12:50:08 2008 +0000

    JRUBY-2361: Kernel.load and Kernel.require can't handle paths with ~/
    and ~username/.
    
    This fixes 3 new rubyspec failures.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6402 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f8a029af815ecf044f5268707b5855b85c738db0
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 20 22:14:18 2008 +0000

    First round of logic to pregenerate method binding code, to avoid walking methods and annotations at startup.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6298 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 493c43fb8eac0a22425d375b15e8663d4c0ce74a
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Mar 19 12:20:01 2008 +0000

    Make creation of RI much smarter and add basic type tags to loads of places.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6289 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 993f8c99ef835ed7c86910dc4ec34919b335131c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 17 21:02:28 2008 +0000

    A bunch of findbugs fixes from JRUBY-1173. Also renamed generated callbacks to be Callback in their name instead of Invoker, to distinguish from actual invokers.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6246 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 852d904134ad970a20497fdcc5d752dd4ae49766
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 7 22:04:54 2008 +0000

    The RC3 Surprise!
    
    Allow annotation defined ruby methods to optionally specify ThreadContext as first parameter
    Convert easiest and most common methods to accept ThreadContext when method or child method can use context
    
    These changes give about 15% improvement on petstore bench and about 10% in ar-bench.  In ar-bench getCurrentContext calls go from 14 million down to 2 million.  The remaining calls largely can be removed but they were much more invasive.
    
    IRubyObject op_eqq and op_equal both not have ThreadContext consumer, but we could see no use of this in any extensions and figured it worth the trouble of converting.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6143 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8dd4776340e89a0b4037475cb34117586371fba4
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Feb 29 00:57:09 2008 +0000

    JRUBY-2132: introduce a jruby.util.Platform class to begin isolating platform-specific tests (patch by Robert Jay Osborne with transmogrifying by me to put it in posix package)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6066 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6d0973cae45a28cd677f4428cc57c1fd4da5ff0e
Author: Vladimir Sizikov <vsizikov@gmail.com>
Date:   Fri Feb 22 19:48:28 2008 +0000

    JRUBY-98: allow "/" as absolute path in Windows.
    
    Well, actually, we don't allow that. We treat '/'
    the way MRI treats it on Windows -- as RELATIVE
    path to current drive. The same for '\\'.
    
    Lots of regression tests added.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@6007 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cdbe81579e0b609a73fd184aecf9b6145179de88
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue Jan 22 16:35:32 2008 +0000

    JRUBY-2017: Dir.chdir raises a SystemCallError if the original directory no longer exists (patch by Wirianto Djunaidi)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5689 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b3d416662a9b358da11a63a1900dd8a917340322
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Jan 12 23:24:11 2008 +0000

    Multiple cleanups:
    * Remove most Arity.checkArgumentCount calls since they're handled by generated method handles now
    * Add javadoc comments to MethodFactory impls and their public methods.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5576 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 49b7f75d61795d6d75a72b6508af94a02ff71d36
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Jan 4 03:51:54 2008 +0000

    JRUBY-1508: Dir#[] and Dir#glob incompatibilities (patch by Daniel Machera and me)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5488 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d710616f2a3f9e36770e1950bbab2e6e2bf0df67
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Dec 30 03:36:48 2007 +0000

    JRUBY-1844: Fix all Dir.glob issues in current Rubinius spec
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5435 961051c9-f516-0410-bf72-c9f7e237a7b7

commit deda0b53ddb443334c0dfa103bc229455cbbded1
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Dec 29 10:14:32 2007 +0000

    JRUBY-1830: Dir.open(..) with block should return last value/returned value of block
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5415 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 62ed501f203ea25b886f886f326968d6c307e467
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Dec 29 02:03:58 2007 +0000

    JRUBY-1820: Dir.mkdir does not honor mode bits
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5406 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e4b20bafd8ec5e0b80afde2804b5a254ddcb14c4
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Dec 9 02:43:21 2007 +0000

    JRUBY-1516: FileTest#chardev? is not currently implemented.
    JRUBY-15: Implement File::Stat.ino and File::Stat.dev
    JRUBY-1438: Create JNA-based implementations of fstat/lstat
    JRUBY-1580: Pathname#unlink complains "<file> is not a directory"
    JRUBY-1433: File::Stat.uid needed for rubyzip
    
    This patch implements more than the above.  It also implements all of File::Stat, File::Test, Kernel#test, and all File posix methods (sans File.umask and File.readlink).  This is done via JNA and will work on Linux, Windows, and MacOS (32 bits).  64 bit systems require a little more work and Windows may be spotty (e.g. not as solid and Linux/MacOS).
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@5198 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1402b970c92c0facff0ea39992dd8ab31b6bb27c
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 23 08:51:16 2007 +0000

    Fix for JRUBY-1375, mkdir should raise SystemCallError on failure
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4674 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9bc9825436ea08670905a6e2a06d760a97b71d70
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 19 20:52:01 2007 +0000

    Migrate JRubyMethod annotation to use String[] for names and aliases. Thanks Brad C from my blog.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4623 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 95c346df5368a3f5f06fa9d14022efb85eaa6809
Author: Bill Dortch <bill.dortch@gmail.com>
Date:   Mon Oct 15 07:45:22 2007 +0000

    Vars have landed. Does not include concurrent SymbolTable (will follow in the next day or so). Also need multi-threaded unit tests, work in progress.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4588 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 0b7a2dae2ec0baa531f313568ffc9b7382f89592
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Oct 12 01:50:08 2007 +0000

    Migrate annotation-based method binding to generate DynamicMethod implementations directly, with arity checking built-in
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4575 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8557c622ca2f2cb7e0625bd6137241df0daed496
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 9 22:08:32 2007 +0000

    Migrate RubyJRuby to annotation bindings, and fix an issue with module functions being defined on Object
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4539 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d67531b93d7f127e8e8801c2f1835109909cd6c3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 8 22:39:19 2007 +0000

    Migrating Dir to annotation bindings.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4524 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a10e46cec019a3964c75ebb6b2ec648c3b449ed3
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Oct 8 18:23:45 2007 +0000

    Migrate Hash to annotating bindings, rename and remap all equality methods to new conventions
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4514 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3e88cfab0d224fb9efa8d18336993e2c78ce495e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu Sep 27 16:40:57 2007 +0000

    - Identified and extracted construction paths for class/module/singleton/IncludedModuleWrapper, now there's no unnecessary null checks or assignments in their constructors (they take very few arguments so even asserts are not needed).
    Each of those constructors have a comment what is it the responsible for, also, two RubyClass.newClass() and two RubyModule.newModule() methods have been extracted.
    - Fixed logic that sets the parent/constant for Modules, now matches MRI (only setConstant/getConstantAt are used here).
    - RubyClass rewritten, special attention has been put on allocation logic, now Class.new(...) doesn't fire a separate allocator class. (btw, logic of "class B < A;end" and "Class.new(A)" must be split since in second case superclass and allocator are not known until initialize is called). Class/Object allocation implementation mimics MRI's weirdest quirks in behavior, is _much_ simpler that it has been and much faster. This also allowed creation of generalized clone/dup implementations matching MRI. (only our special ivars need a care here).
    - Rewritten bootstrapping of Object/Class/Module.
    - Core classes (except Exception hierarchy, they should also be in future) are now cached in runtime (MRI caches them in static VALUE's like rb_cObject) Ruby.getClass(String), Ruby.getModule(String) and Ruby.getClassFromPath(String) should be used only by either interpreter or compiler and when the class name is not known at compile time.
    - Fixed and simplified nodes: classNode, moduleNode, sclassNode, defsNode. Compiler has been synchronized here as well.
    - No more __attached__ as ivar, it is now MetaClass field (which means lazy ivars for singletons). Compiler also updated.
    - added and dosumented isModule() to IRubyObject (isClass(), isSintleton() documented).
    - Fixed test_autoload test (Object.class_eval do;autoload :SomeClass, 'somefile';class SomeClass; end;end) should raise LoadError, now matches MRI.
    
    - Fixed a number of minor bugs:
       1.instance_eval, was creating a metaclass for Fixnum instances (also affected Symbol/FalseClass/TrueClass/NilClass)
       marshaler objects were kept in singleton classes
       Range.inspect, was modifying the begin field (when it was a String)
       Many bulletproofings in Marshal/Unmarshal (like unmarshaling an instance of nonexistant class), TypeErrors/ArgumentErrors matching MRI.
       Fiber.new in 1.9, doesn't call #initialize method by funcall, fixed
       number of method arity fixes and many methods are made fast now
       fixed initialize/initialize_copy logic, further simplification, no ClassCastExceptions possible now
       Fixed defineClass(under)/defineModule(under) logic
       bulletproofed cases such: class A;end;module A;end
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@4409 961051c9-f516-0410-bf72-c9f7e237a7b7

commit aba3b7c035a6247bc9afa796f9e3060bd9cb2c89
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu May 31 21:18:32 2007 +0000

    Making all non-RubyString, non-JvYAMLb consumers of ByteList.bytes field also use ByteList.begin field. JRUBY-1045.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3793 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5601aa289b4f04355f4613b61e7eb55be521af1e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu May 31 17:26:50 2007 +0000

    Fixes for JRUBY-1037: Calling Dir#close on already closed Dir object should raise IOError
    additional checks for 'frozen' added, those affected also: #path, #read, #each, #tell, #seek, #rewind, #close.
    Moreover, Dir#path should return dupped String
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3785 961051c9-f516-0410-bf72-c9f7e237a7b7

commit eed5fbca4282cb88a70e47bf3f9f29def8bbce3e
Author: Marcin Mielżyński <lopx@gazeta.pl>
Date:   Thu May 31 17:00:04 2007 +0000

    Fix for JRUBY-1038: Dir#rewind should return self, not a Fixnum
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3784 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ffbfde6c56d4cc60e5f6f3fc9d01acd8e9e436be
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun May 13 00:21:10 2007 +0000

    JRUBY-523: Path-related failures in MRI's sample/test.rb
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3647 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5adc3ef89d5a351ff4067244c33b50dfefddf9bf
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 1 23:46:36 2007 +0000

    Updated samples to use new Java Integration syntax
    JRUBY-673: Dir.chdir with no arguments does not honor ENV['HOME']
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3604 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 16195ab6160a12502d7dcccf0fe4d75bf6bf900f
Author: Ola Bini <ola.bini@gmail.com>
Date:   Tue Apr 3 14:59:30 2007 +0000

    Implement glob without regexps; copied directly from MRI. About 33% faster than the last solution; there is still huge improvements to be made here, though. This implementation should be much more correct, also.
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3361 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8c2bc8cfe9f4bcaa23b9e8544c55d7f9dc6c54b1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 29 07:08:05 2007 +0000

    More IRubyObject cleanup; removed initCopy, moved setFrozen around, moved checkArgumentCount to Arity
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3322 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1c02ca0e641c238d2fc8985fe7f939b8b3df6f95
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Mar 29 05:54:41 2007 +0000

    Fixes for JRUBY-734, along with a first run at cleaning up IRubyObject.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3319 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f5d499b05fc77e37e38fcfab0a3d55159dbcf1e8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 12 20:17:45 2007 +0000

    Eliminate ThreadContext.yield and add an overloaded version in Block instead. One less "utility" method on TC.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3181 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 83d9246058ea332fd5d4244c51ac764088b9943d
Author: Ola Bini <ola.bini@gmail.com>
Date:   Mon Feb 26 13:03:38 2007 +0000

    Fix potential CCE's in RubyDir
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3081 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3cdb25eaa9a513347cfb5a544dc1146202ec82f6
Author: Ola Bini <ola.bini@gmail.com>
Date:   Wed Feb 21 13:40:57 2007 +0000

    Fixes a bug, where frames are shared for blocks, which make define_method bonkers in certain situations. Also makes argument lists faster. Fixes JRUBY-520
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3041 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a2107e60085a5063bca76d897783a512bbd7eddc
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Feb 18 15:18:18 2007 +0000

    JRUBY-606: Get rid of un/under-used IRuby interface
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3022 961051c9-f516-0410-bf72-c9f7e237a7b7

commit bb20e69fca02df78c52e9c534db24e9f4dda0509
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Feb 17 22:29:59 2007 +0000

    JRUBY-599: JRuby needs a COW, primitive array backed builtin Array
    JRUBY-604: Hash#sort raises exception
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@3014 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ef423f1b886650195114fe952a1a6407fbb63f82
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Feb 7 22:27:41 2007 +0000

    - Create a NULL_BLOCK to replace null checks against blocks:
      - Now isGiven() on a block tells you whether it is supplied or not
      - yield on the NULL_BLOCK throw the correct exception
        - We were not throwing this correctly by most callers with my landing of
          the block branch
        - We were generating NPE in cases where we called something that requires
          a block and supply none
    - Block.blockObject => Block.proc
     - Rename and type since this is just a convenience reference for association
       from block to what proc it might represent
    - Remove unused blockAtCreation (this may become relevent for Ruby 2 but why do
      it now
    - Remove ThreadContext and IRuby from Frame
    - Remove Scope
    - Put Visibility directly on Frame
    - callingzsuper dead code
    - Now that modules have a proper superclass we can get rid of special code in
      callSuper
    - ArgsPushNode.childNodes should not return null
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2956 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1c9db4cbbcca01aa65287532b82330e37ff81173
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Jan 28 03:44:22 2007 +0000

    Big set of changes for marshalling bug JRUBY-472; getting closer to having things sorted out. One known failure in "ant
    test" is due to our modules defining methods on a singleton class, which appears to be incorrect and harder to fix. I'm
    on it though.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2857 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5c0789044de8703f41bdf83f29552ba29ad048f6
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Jan 27 17:31:22 2007 +0000

    JRUBY-484: Reverse Iter Call relationship in AST and also pass block via Java frame versus maintaining blocks in TC
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2851 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b390103c285ce373130c474193f69b87f98fb013
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Jan 9 01:04:33 2007 +0000

    Damn the torpedos...full steam ahead! Committing fixes for JRUBY-408 to get them out in the wild. There are remaining fixes to be made, but ant test passes, gems install, rails starts, handles requests, and generates.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2700 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 32e3222d3defac9ee5f76c3651f4699f62271215
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Dec 30 22:00:22 2006 +0000

    merging refactored method stuff plus fast/simple invocation changes to trunk
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2623 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 131e2664f0923996b08bd8a58ac9cf3b6d5abdfa
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Oct 22 19:20:08 2006 +0000

    JRUBY-217: Dir#glob doesn't handle blocks correctly (Ryan Bell)
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2370 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3f04b7ea16a8eaf59cf5de721f876360711e6521
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Oct 10 05:18:55 2006 +0000

    cleaning up a large number of looped calls to IRuby.getCurrentContext
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2320 961051c9-f516-0410-bf72-c9f7e237a7b7

commit dc9ebc85bd64040a28aeb6d23b3a4c90f21a9b7b
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sat Aug 5 05:54:15 2006 +0000

    optz: avoid multiple calls to IRuby.getCurrentContext in a single method
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2165 961051c9-f516-0410-bf72-c9f7e237a7b7

commit fa2a7d11da5062fb1331d232bbc34b245d6bdc0a
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 30 17:52:47 2006 +0000

    Make Ruby File stuff keep original value versus morph on CWD changes
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2047 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 2de304ec4af4d7c5be340f451f21ad8fa61b0ba7
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Fri Apr 21 01:39:58 2006 +0000

    NormalizedFile's mkdirs doesn't work because of normalization to '/'...hack around it for now
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@2002 961051c9-f516-0410-bf72-c9f7e237a7b7

commit f67bf159b486fa2ceb3335f98a350e2e5fefe664
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Apr 13 03:58:38 2006 +0000

    committing correct ENV patch (previous was an older patch)
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1978 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9f2efc63a858fa0507245b207025eab027840a04
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Apr 9 20:58:31 2006 +0000

    Make RubyString use a StringBuffer instead of a String as its internal representation.  This change makes one test case go from 262 s to 0.7s.  Various other function fixes thrown in (with quite a few new unit tests) and some conversion to make more mutable functions use StringBuffer APIs more.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1974 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 295cdd11472f7ae4b0426336dc7cdcabe946fdc1
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Mar 28 16:35:30 2006 +0000

    committing CWD fixes, they seem to work fine
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1958 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b1ad82f336ec2fcdb8f70b86c2e7f267a9af35b2
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Mar 20 05:05:49 2006 +0000

    adding runtime-wide "current directory" support to escape using the user.dir property
    modified mkdir to use mkdirs for full path dir creation
    modified chdir with a block to 'finally' reset current dir back as before
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1924 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c506a9979e35512d57d5f29f0d18b3da14ef2919
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Feb 23 07:26:39 2006 +0000

    fix for user.dir path separators
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1893 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1d43870a42678f709851fcd9349d32a5f5be0dca
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Thu Feb 2 19:51:50 2006 +0000

    merging cnutter_work1 to HEAD
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1869 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 1dd061e800c87a70038a6459ff6e9ca519dad5e8
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Jan 25 05:46:27 2006 +0000

    normalizing all file paths to use forward-slash as path separator
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1867 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 41adc9d73b44b14dd25593e772188d405ec00f2f
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Wed Oct 26 05:34:12 2005 +0000

    removing revision keywords
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1810 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 4dfdacd80c56018084c618f3bbab7b542653d95e
Author: David Corbin <dcorbin@users.sourceforge.net>
Date:   Sat Oct 8 13:07:06 2005 +0000

    Introduced IRuby interface for Ruby runtime object.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1798 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 36ec84bb4bc5dbd391c6ddb676b2faeb380f0539
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Tue Sep 6 14:57:59 2005 +0000

    merging exception-removal changes to HEAD; EvaluateVisitor changes left on branch for now
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1757 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 5eacb9b98830d47a02fed1be88bea51ae0b56282
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Sep 2 21:34:00 2005 +0000

    Change Dir.pos= to return Fixnum instead of self
    Implement Dir.path
    Both fixes some rubicon tests
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1751 961051c9-f516-0410-bf72-c9f7e237a7b7

commit ca6b16e996ea9af83ce593594b9c69b9364a9924
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sun Aug 28 13:29:33 2005 +0000

    Kill RubyClasses (core class/modules now initialized in Ruby)
    Store all top-level classes as constants within Object (fixes things like Object.constants) instead of second datastore
    Always load all core classes (remove lazy loading)
    Convenience function RubyModule#getClass added
    Convenience function Ruby#getObject added
    JavaObject and JavaArray are now Java::JavaObject and Java::JavaArray to be consistent
    classes defined under another class/module are now defined in the parents creation routine
    Removed some masking warnings
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1739 961051c9-f516-0410-bf72-c9f7e237a7b7

commit cf8e3b10b5951adab1f0cf87d7e8cd073a3d977d
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Wed Jun 22 01:44:40 2005 +0000

    Dir.open not obeying Dir.chdir
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1721 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 6340adcfc3d29397defdfbe0e0d416031d2f7a16
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu May 12 17:49:41 2005 +0000

    Allow expandPath to get a named users home directory if possible
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1698 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9b58fa31e2977cb136a10c0e2813c4e55763d78a
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Tue May 10 15:35:38 2005 +0000

    - Dir#rmdir now throws ENOENT
    - Dir#mkdir now throws EEXIST
    - ENV['HOME'] added
    - ENV global moved to better location
    - Dir#chdir can have no arg version now
    - Dir#chdir now chdirs in the correct location
    - File#expand_path now understands '~'
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1689 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 7a83c48af56081c1c2132111d535f28d10cf3afb
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Dec 31 20:55:52 2004 +0000

    Update license to GPL/LGPL/CPL
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1574 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 43608826a44e7cd8213325ce6cf8b348d8ca8f8e
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Dec 26 08:22:18 2004 +0000

    redone Glob implementation to fix TestDir.rb
    remove dependency to oro
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1559 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b23543e885df8694b23c6841fb9edbc847c68e4a
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Mon Dec 20 00:29:29 2004 +0000

    minor chdir cleanup
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1510 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 029b0473165c924674c22569c2f8a35cb2d7efbf
Author: Charles Oliver Nutter <headius@headius.com>
Date:   Sun Dec 19 04:46:21 2004 +0000

    added block support to chdir (1.8) and warning about using system prop for cwd
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1504 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b72a2862ae5b2f01f9a767ef2ce248fd785857c4
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Dec 13 00:26:02 2004 +0000

    Replaced org.jruby.util.Asserts with Java 1.4 assert.
    Fixed String#capitalize.
    Replaced RubyString.nilString(getRuntime()) with getRuntime().getNil().
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1482 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 8081fdc23459ab3e7b62155a53b7f18b561f93c1
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Dec 12 14:55:16 2004 +0000

    removes type parameter from CallbackFactory.getXXXMethod()
    and removes CallType from AbstractCallback and ReflectionCallback
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1476 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 870e1da9b41bfdbae259e1fc5f18fc8b76686998
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Dec 12 09:25:42 2004 +0000

    removes the instance variable runtime in RubyObject
    reintroduces the variable in RubyNil, RubyBoolean, and RubyClass
    delegates all calls to Fixnum,Array,Boolean,String,ArgumentError,IndexError and TypeError.newXXX to Ruby
    fixes all imports
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1469 961051c9-f516-0410-bf72-c9f7e237a7b7

commit e6b5100a49718fc8d3cf73e804b366eae694748d
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Mon Nov 29 14:12:07 2004 +0000

    Remove (or add a comment) to some empty blocks.
    Remove unused RubyDir#matches method.
    Remove some RegExp Adapter remains.
    Rename RubyObject#argCount to RubyObject#checkArgumentCount
    Fix the stacktrace of Exceptions.
    Fix RubyFile#expand_path method.
    Add LocalJumpError class.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1434 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c15ab526440e25745b45a2ab3aaab1b5a7334d1f
Author: Stefan Matthias Aust <sma@3plus4.de>
Date:   Sun Nov 28 14:54:57 2004 +0000

    code cleanup
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1428 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b1562832239a5e5d73b1ee98dade51601e343257
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Nov 16 20:30:04 2004 +0000

    Rename references of org.jruby.Ruby from ruby to runtime.
    Remove unused methods from the IRubyErrorHandler interface.
    Add "same" method to RubyObject to fix "equal?"
    Fix JavaObject cache.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1408 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 38c9a31079ded2e81365f0c0f226c6d805ea1444
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Sat Apr 17 21:28:30 2004 +0000

    ruby 1.8 grammar landing
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1290 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 48aa368498ed8444a213218c4e5c35da812c0381
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Fri Mar 5 20:19:59 2004 +0000

    getContents may return NULL...Protect against it
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1263 961051c9-f516-0410-bf72-c9f7e237a7b7

commit b4e01d0a27b9ed95b7b7455110b779e8ae6846a0
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Feb 29 16:52:31 2004 +0000

    Added CGLIB optimization for static calls.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1255 961051c9-f516-0410-bf72-c9f7e237a7b7

commit a16b4a3596853f2153bfe0df0a8cbe54382d5d58
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sat Feb 28 23:00:58 2004 +0000

    Removed a lot of old IndexedCallback stuff.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1254 961051c9-f516-0410-bf72-c9f7e237a7b7

commit af80e8f70b3c6d7fab314143b5f1e641350602b1
Author: Thomas Enebo <tom.enebo@gmail.com>
Date:   Thu Feb 12 15:29:47 2004 +0000

    Fix 10 (of 14) rubicon fails in Dir
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1235 961051c9-f516-0410-bf72-c9f7e237a7b7

commit da1e0993189b265528a6aa5108d3ce668d87643f
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Sun Jan 11 14:39:44 2004 +0000

    Added an (optional) CGLIB implementation of Callback.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1210 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 3a6706bfd234afc806ec2de82787c8a55c14c207
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Tue Nov 11 17:44:12 2003 +0000

    Implementation of Dir#entries by Shad Gregory.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1184 961051c9-f516-0410-bf72-c9f7e237a7b7

commit d8c7bdab8430bb1f7826f7cad86d6c1aa9513a82
Author: Anders Bengtsson <ndrsbngtssn@yahoo.se>
Date:   Mon Dec 16 21:12:11 2002 +0000

    Reworked class and module lookup.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@1171 961051c9-f516-0410-bf72-c9f7e237a7b7

commit 9e693afddc019d2f8d2b151dc4e047d018f2ebc2
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Sep 17 14:00:33 2002 +0000

    - removing some other "new AClass[0]"
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@840 961051c9-f516-0410-bf72-c9f7e237a7b7

commit c77b91f42c4f3810140d44cbe603248a1d52b7ee
Author: Jan Arne Petersen <jpetersen@uni-bonn.de>
Date:   Tue Sep 10 15:18:12 2002 +0000

    - restructure of the code tree.
    
    
    git-svn-id: http://svn.codehaus.org/jruby/trunk/jruby@782 961051c9-f516-0410-bf72-c9f7e237a7b7
